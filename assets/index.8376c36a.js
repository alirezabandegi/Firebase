function KO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function KS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function GS(t){var e=t.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var w={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zu=Symbol.for("react.element"),GO=Symbol.for("react.portal"),QO=Symbol.for("react.fragment"),YO=Symbol.for("react.strict_mode"),XO=Symbol.for("react.profiler"),JO=Symbol.for("react.provider"),ZO=Symbol.for("react.context"),eM=Symbol.for("react.forward_ref"),tM=Symbol.for("react.suspense"),nM=Symbol.for("react.memo"),rM=Symbol.for("react.lazy"),d1=Symbol.iterator;function iM(t){return t===null||typeof t!="object"?null:(t=d1&&t[d1]||t["@@iterator"],typeof t=="function"?t:null)}var QS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},YS=Object.assign,XS={};function Aa(t,e,n){this.props=t,this.context=e,this.refs=XS,this.updater=n||QS}Aa.prototype.isReactComponent={};Aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function JS(){}JS.prototype=Aa.prototype;function Cy(t,e,n){this.props=t,this.context=e,this.refs=XS,this.updater=n||QS}var Sy=Cy.prototype=new JS;Sy.constructor=Cy;YS(Sy,Aa.prototype);Sy.isPureReactComponent=!0;var h1=Array.isArray,ZS=Object.prototype.hasOwnProperty,xy={current:null},ex={key:!0,ref:!0,__self:!0,__source:!0};function tx(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ZS.call(e,r)&&!ex.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Zu,type:t,key:s,ref:o,props:i,_owner:xy.current}}function sM(t,e){return{$$typeof:Zu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ty(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zu}function oM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var f1=/\/+/g;function rm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oM(""+t.key):e.toString(36)}function Td(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Zu:case GO:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+rm(o,0):r,h1(i)?(n="",t!=null&&(n=t.replace(f1,"$&/")+"/"),Td(i,e,n,"",function(u){return u})):i!=null&&(Ty(i)&&(i=sM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(f1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",h1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+rm(s,a);o+=Td(s,e,n,l,i)}else if(l=iM(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+rm(s,a++),o+=Td(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zc(t,e,n){if(t==null)return t;var r=[],i=0;return Td(t,r,"","",function(s){return e.call(n,s,i++)}),r}function aM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gn={current:null},Id={transition:null},lM={ReactCurrentDispatcher:gn,ReactCurrentBatchConfig:Id,ReactCurrentOwner:xy};we.Children={map:zc,forEach:function(t,e,n){zc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zc(t,function(){e++}),e},toArray:function(t){return zc(t,function(e){return e})||[]},only:function(t){if(!Ty(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=Aa;we.Fragment=QO;we.Profiler=XO;we.PureComponent=Cy;we.StrictMode=YO;we.Suspense=tM;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lM;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=YS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=xy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ZS.call(e,l)&&!ex.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Zu,type:t.type,key:i,ref:s,props:r,_owner:o}};we.createContext=function(t){return t={$$typeof:ZO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JO,_context:t},t.Consumer=t};we.createElement=tx;we.createFactory=function(t){var e=tx.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:eM,render:t}};we.isValidElement=Ty;we.lazy=function(t){return{$$typeof:rM,_payload:{_status:-1,_result:t},_init:aM}};we.memo=function(t,e){return{$$typeof:nM,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=Id.transition;Id.transition={};try{t()}finally{Id.transition=e}};we.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};we.useCallback=function(t,e){return gn.current.useCallback(t,e)};we.useContext=function(t){return gn.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return gn.current.useDeferredValue(t)};we.useEffect=function(t,e){return gn.current.useEffect(t,e)};we.useId=function(){return gn.current.useId()};we.useImperativeHandle=function(t,e,n){return gn.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return gn.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return gn.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return gn.current.useMemo(t,e)};we.useReducer=function(t,e,n){return gn.current.useReducer(t,e,n)};we.useRef=function(t){return gn.current.useRef(t)};we.useState=function(t){return gn.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return gn.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return gn.current.useTransition()};we.version="18.2.0";(function(t){t.exports=we})(w);const ks=KS(w.exports),vg=KO({__proto__:null,default:ks},[w.exports]);var yg={},ec={exports:{}},jn={},nx={exports:{}},rx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,F){var z=R.length;R.push(F);e:for(;0<z;){var K=z-1>>>1,X=R[K];if(0<i(X,F))R[K]=F,R[z]=X,z=K;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var F=R[0],z=R.pop();if(z!==F){R[0]=z;e:for(var K=0,X=R.length,ge=X>>>1;K<ge;){var ie=2*(K+1)-1,ve=R[ie],he=ie+1,Ve=R[he];if(0>i(ve,z))he<X&&0>i(Ve,ve)?(R[K]=Ve,R[he]=z,K=he):(R[K]=ve,R[ie]=z,K=ie);else if(he<X&&0>i(Ve,z))R[K]=Ve,R[he]=z,K=he;else break e}}return F}function i(R,F){var z=R.sortIndex-F.sortIndex;return z!==0?z:R.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,m=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(R){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=R)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function _(R){if(m=!1,y(R),!p)if(n(l)!==null)p=!0,P(C);else{var F=n(u);F!==null&&L(_,F.startTime-R)}}function C(R,F){p=!1,m&&(m=!1,g(T),T=-1),f=!0;var z=h;try{for(y(F),d=n(l);d!==null&&(!(d.expirationTime>F)||R&&!M());){var K=d.callback;if(typeof K=="function"){d.callback=null,h=d.priorityLevel;var X=K(d.expirationTime<=F);F=t.unstable_now(),typeof X=="function"?d.callback=X:d===n(l)&&r(l),y(F)}else r(l);d=n(l)}if(d!==null)var ge=!0;else{var ie=n(u);ie!==null&&L(_,ie.startTime-F),ge=!1}return ge}finally{d=null,h=z,f=!1}}var x=!1,S=null,T=-1,N=5,I=-1;function M(){return!(t.unstable_now()-I<N)}function V(){if(S!==null){var R=t.unstable_now();I=R;var F=!0;try{F=S(!0,R)}finally{F?B():(x=!1,S=null)}}else x=!1}var B;if(typeof v=="function")B=function(){v(V)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,U=Q.port2;Q.port1.onmessage=V,B=function(){U.postMessage(null)}}else B=function(){E(V,0)};function P(R){S=R,x||(x=!0,B())}function L(R,F){T=E(function(){R(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,P(C))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var z=h;h=F;try{return R()}finally{h=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,F){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=h;h=R;try{return F()}finally{h=z}},t.unstable_scheduleCallback=function(R,F,z){var K=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?K+z:K):z=K,R){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=z+X,R={id:c++,callback:F,priorityLevel:R,startTime:z,expirationTime:X,sortIndex:-1},z>K?(R.sortIndex=z,e(u,R),n(l)===null&&R===n(u)&&(m?(g(T),T=-1):m=!0,L(_,z-K))):(R.sortIndex=X,e(l,R),p||f||(p=!0,P(C))),R},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(R){var F=h;return function(){var z=h;h=F;try{return R.apply(this,arguments)}finally{h=z}}}})(rx);(function(t){t.exports=rx})(nx);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix=w.exports,Bn=nx.exports;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sx=new Set,ru={};function io(t,e){ra(t,e),ra(t+"Capture",e)}function ra(t,e){for(ru[t]=e,t=0;t<e.length;t++)sx.add(e[t])}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_g=Object.prototype.hasOwnProperty,uM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p1={},m1={};function cM(t){return _g.call(m1,t)?!0:_g.call(p1,t)?!1:uM.test(t)?m1[t]=!0:(p1[t]=!0,!1)}function dM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hM(t,e,n,r){if(e===null||typeof e>"u"||dM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new vn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new vn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new vn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new vn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new vn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new vn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new vn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new vn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new vn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Iy=/[\-:]([a-z])/g;function ky(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Iy,ky);Wt[e]=new vn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Iy,ky);Wt[e]=new vn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Iy,ky);Wt[e]=new vn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new vn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new vn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ry(t,e,n,r){var i=Wt.hasOwnProperty(e)?Wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hM(e,n,i,r)&&(n=null),r||i===null?cM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var di=ix.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vc=Symbol.for("react.element"),xo=Symbol.for("react.portal"),To=Symbol.for("react.fragment"),Py=Symbol.for("react.strict_mode"),wg=Symbol.for("react.profiler"),ox=Symbol.for("react.provider"),ax=Symbol.for("react.context"),Ny=Symbol.for("react.forward_ref"),Eg=Symbol.for("react.suspense"),bg=Symbol.for("react.suspense_list"),Ay=Symbol.for("react.memo"),Ei=Symbol.for("react.lazy"),lx=Symbol.for("react.offscreen"),g1=Symbol.iterator;function nl(t){return t===null||typeof t!="object"?null:(t=g1&&t[g1]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,im;function El(t){if(im===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);im=e&&e[1]||""}return`
`+im+t}var sm=!1;function om(t,e){if(!t||sm)return"";sm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{sm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?El(t):""}function fM(t){switch(t.tag){case 5:return El(t.type);case 16:return El("Lazy");case 13:return El("Suspense");case 19:return El("SuspenseList");case 0:case 2:case 15:return t=om(t.type,!1),t;case 11:return t=om(t.type.render,!1),t;case 1:return t=om(t.type,!0),t;default:return""}}function Cg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case To:return"Fragment";case xo:return"Portal";case wg:return"Profiler";case Py:return"StrictMode";case Eg:return"Suspense";case bg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ax:return(t.displayName||"Context")+".Consumer";case ox:return(t._context.displayName||"Context")+".Provider";case Ny:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ay:return e=t.displayName||null,e!==null?e:Cg(t.type)||"Memo";case Ei:e=t._payload,t=t._init;try{return Cg(t(e))}catch{}}return null}function pM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cg(e);case 8:return e===Py?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ji(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ux(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mM(t){var e=ux(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jc(t){t._valueTracker||(t._valueTracker=mM(t))}function cx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ux(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function th(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sg(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function v1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ji(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dx(t,e){e=e.checked,e!=null&&Ry(t,"checked",e,!1)}function xg(t,e){dx(t,e);var n=ji(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tg(t,e.type,ji(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function y1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tg(t,e,n){(e!=="number"||th(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var bl=Array.isArray;function zo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ji(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ig(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(bl(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ji(n)}}function hx(t,e){var n=ji(e.value),r=ji(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function w1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wc,px=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wc=Wc||document.createElement("div"),Wc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function iu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gM=["Webkit","ms","Moz","O"];Object.keys(Nl).forEach(function(t){gM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nl[e]=Nl[t]})});function mx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nl.hasOwnProperty(t)&&Nl[t]?(""+e).trim():e+"px"}function gx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=mx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var vM=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rg(t,e){if(e){if(vM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Pg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ng=null;function Oy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ag=null,Vo=null,jo=null;function E1(t){if(t=rc(t)){if(typeof Ag!="function")throw Error(O(280));var e=t.stateNode;e&&(e=Ef(e),Ag(t.stateNode,t.type,e))}}function vx(t){Vo?jo?jo.push(t):jo=[t]:Vo=t}function yx(){if(Vo){var t=Vo,e=jo;if(jo=Vo=null,E1(t),e)for(t=0;t<e.length;t++)E1(e[t])}}function _x(t,e){return t(e)}function wx(){}var am=!1;function Ex(t,e,n){if(am)return t(e,n);am=!0;try{return _x(t,e,n)}finally{am=!1,(Vo!==null||jo!==null)&&(wx(),yx())}}function su(t,e){var n=t.stateNode;if(n===null)return null;var r=Ef(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var Og=!1;if(ti)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){Og=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{Og=!1}function yM(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Al=!1,nh=null,rh=!1,Mg=null,_M={onError:function(t){Al=!0,nh=t}};function wM(t,e,n,r,i,s,o,a,l){Al=!1,nh=null,yM.apply(_M,arguments)}function EM(t,e,n,r,i,s,o,a,l){if(wM.apply(this,arguments),Al){if(Al){var u=nh;Al=!1,nh=null}else throw Error(O(198));rh||(rh=!0,Mg=u)}}function so(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b1(t){if(so(t)!==t)throw Error(O(188))}function bM(t){var e=t.alternate;if(!e){if(e=so(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return b1(i),t;if(s===r)return b1(i),e;s=s.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function Cx(t){return t=bM(t),t!==null?Sx(t):null}function Sx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Sx(t);if(e!==null)return e;t=t.sibling}return null}var xx=Bn.unstable_scheduleCallback,C1=Bn.unstable_cancelCallback,CM=Bn.unstable_shouldYield,SM=Bn.unstable_requestPaint,ut=Bn.unstable_now,xM=Bn.unstable_getCurrentPriorityLevel,My=Bn.unstable_ImmediatePriority,Tx=Bn.unstable_UserBlockingPriority,ih=Bn.unstable_NormalPriority,TM=Bn.unstable_LowPriority,Ix=Bn.unstable_IdlePriority,vf=null,Rr=null;function IM(t){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(vf,t,void 0,(t.current.flags&128)===128)}catch{}}var wr=Math.clz32?Math.clz32:PM,kM=Math.log,RM=Math.LN2;function PM(t){return t>>>=0,t===0?32:31-(kM(t)/RM|0)|0}var Hc=64,qc=4194304;function Cl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Cl(a):(s&=o,s!==0&&(r=Cl(s)))}else o=n&~i,o!==0?r=Cl(o):s!==0&&(r=Cl(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wr(e),i=1<<n,r|=t[n],e&=~i;return r}function NM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-wr(s),a=1<<o,l=i[o];l===-1?((a&n)===0||(a&r)!==0)&&(i[o]=NM(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function $g(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kx(){var t=Hc;return Hc<<=1,(Hc&4194240)===0&&(Hc=64),t}function lm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wr(e),t[e]=n}function OM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-wr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function $y(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var De=0;function Rx(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Px,Dy,Nx,Ax,Ox,Dg=!1,Kc=[],Ai=null,Oi=null,Mi=null,ou=new Map,au=new Map,Ci=[],MM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S1(t,e){switch(t){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":ou.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(e.pointerId)}}function il(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=rc(e),e!==null&&Dy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $M(t,e,n,r,i){switch(e){case"focusin":return Ai=il(Ai,t,e,n,r,i),!0;case"dragenter":return Oi=il(Oi,t,e,n,r,i),!0;case"mouseover":return Mi=il(Mi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ou.set(s,il(ou.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,au.set(s,il(au.get(s)||null,t,e,n,r,i)),!0}return!1}function Mx(t){var e=ys(t.target);if(e!==null){var n=so(e);if(n!==null){if(e=n.tag,e===13){if(e=bx(n),e!==null){t.blockedOn=e,Ox(t.priority,function(){Nx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Lg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ng=r,n.target.dispatchEvent(r),Ng=null}else return e=rc(n),e!==null&&Dy(e),t.blockedOn=n,!1;e.shift()}return!0}function x1(t,e,n){kd(t)&&n.delete(e)}function DM(){Dg=!1,Ai!==null&&kd(Ai)&&(Ai=null),Oi!==null&&kd(Oi)&&(Oi=null),Mi!==null&&kd(Mi)&&(Mi=null),ou.forEach(x1),au.forEach(x1)}function sl(t,e){t.blockedOn===e&&(t.blockedOn=null,Dg||(Dg=!0,Bn.unstable_scheduleCallback(Bn.unstable_NormalPriority,DM)))}function lu(t){function e(i){return sl(i,t)}if(0<Kc.length){sl(Kc[0],t);for(var n=1;n<Kc.length;n++){var r=Kc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ai!==null&&sl(Ai,t),Oi!==null&&sl(Oi,t),Mi!==null&&sl(Mi,t),ou.forEach(e),au.forEach(e),n=0;n<Ci.length;n++)r=Ci[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ci.length&&(n=Ci[0],n.blockedOn===null);)Mx(n),n.blockedOn===null&&Ci.shift()}var Wo=di.ReactCurrentBatchConfig,oh=!0;function LM(t,e,n,r){var i=De,s=Wo.transition;Wo.transition=null;try{De=1,Ly(t,e,n,r)}finally{De=i,Wo.transition=s}}function FM(t,e,n,r){var i=De,s=Wo.transition;Wo.transition=null;try{De=4,Ly(t,e,n,r)}finally{De=i,Wo.transition=s}}function Ly(t,e,n,r){if(oh){var i=Lg(t,e,n,r);if(i===null)ym(t,e,r,ah,n),S1(t,r);else if($M(i,t,e,n,r))r.stopPropagation();else if(S1(t,r),e&4&&-1<MM.indexOf(t)){for(;i!==null;){var s=rc(i);if(s!==null&&Px(s),s=Lg(t,e,n,r),s===null&&ym(t,e,r,ah,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ym(t,e,r,null,n)}}var ah=null;function Lg(t,e,n,r){if(ah=null,t=Oy(r),t=ys(t),t!==null)if(e=so(t),e===null)t=null;else if(n=e.tag,n===13){if(t=bx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ah=t,null}function $x(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xM()){case My:return 1;case Tx:return 4;case ih:case TM:return 16;case Ix:return 536870912;default:return 16}default:return 16}}var ki=null,Fy=null,Rd=null;function Dx(){if(Rd)return Rd;var t,e=Fy,n=e.length,r,i="value"in ki?ki.value:ki.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Rd=i.slice(t,1<r?1-r:void 0)}function Pd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gc(){return!0}function T1(){return!1}function Wn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gc:T1,this.isPropagationStopped=T1,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gc)},persist:function(){},isPersistent:Gc}),e}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uy=Wn(Oa),nc=ot({},Oa,{view:0,detail:0}),UM=Wn(nc),um,cm,ol,yf=ot({},nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:By,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ol&&(ol&&t.type==="mousemove"?(um=t.screenX-ol.screenX,cm=t.screenY-ol.screenY):cm=um=0,ol=t),um)},movementY:function(t){return"movementY"in t?t.movementY:cm}}),I1=Wn(yf),BM=ot({},yf,{dataTransfer:0}),zM=Wn(BM),VM=ot({},nc,{relatedTarget:0}),dm=Wn(VM),jM=ot({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),WM=Wn(jM),HM=ot({},Oa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qM=Wn(HM),KM=ot({},Oa,{data:0}),k1=Wn(KM),GM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=YM[t])?!!e[t]:!1}function By(){return XM}var JM=ot({},nc,{key:function(t){if(t.key){var e=GM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:By,charCode:function(t){return t.type==="keypress"?Pd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ZM=Wn(JM),e$=ot({},yf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R1=Wn(e$),t$=ot({},nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:By}),n$=Wn(t$),r$=ot({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),i$=Wn(r$),s$=ot({},yf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),o$=Wn(s$),a$=[9,13,27,32],zy=ti&&"CompositionEvent"in window,Ol=null;ti&&"documentMode"in document&&(Ol=document.documentMode);var l$=ti&&"TextEvent"in window&&!Ol,Lx=ti&&(!zy||Ol&&8<Ol&&11>=Ol),P1=String.fromCharCode(32),N1=!1;function Fx(t,e){switch(t){case"keyup":return a$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ux(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Io=!1;function u$(t,e){switch(t){case"compositionend":return Ux(e);case"keypress":return e.which!==32?null:(N1=!0,P1);case"textInput":return t=e.data,t===P1&&N1?null:t;default:return null}}function c$(t,e){if(Io)return t==="compositionend"||!zy&&Fx(t,e)?(t=Dx(),Rd=Fy=ki=null,Io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lx&&e.locale!=="ko"?null:e.data;default:return null}}var d$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!d$[t.type]:e==="textarea"}function Bx(t,e,n,r){vx(r),e=lh(e,"onChange"),0<e.length&&(n=new Uy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ml=null,uu=null;function h$(t){Xx(t,0)}function _f(t){var e=Po(t);if(cx(e))return t}function f$(t,e){if(t==="change")return e}var zx=!1;if(ti){var hm;if(ti){var fm="oninput"in document;if(!fm){var O1=document.createElement("div");O1.setAttribute("oninput","return;"),fm=typeof O1.oninput=="function"}hm=fm}else hm=!1;zx=hm&&(!document.documentMode||9<document.documentMode)}function M1(){Ml&&(Ml.detachEvent("onpropertychange",Vx),uu=Ml=null)}function Vx(t){if(t.propertyName==="value"&&_f(uu)){var e=[];Bx(e,uu,t,Oy(t)),Ex(h$,e)}}function p$(t,e,n){t==="focusin"?(M1(),Ml=e,uu=n,Ml.attachEvent("onpropertychange",Vx)):t==="focusout"&&M1()}function m$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _f(uu)}function g$(t,e){if(t==="click")return _f(e)}function v$(t,e){if(t==="input"||t==="change")return _f(e)}function y$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cr=typeof Object.is=="function"?Object.is:y$;function cu(t,e){if(Cr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_g.call(e,i)||!Cr(t[i],e[i]))return!1}return!0}function $1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function D1(t,e){var n=$1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$1(n)}}function jx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Wx(){for(var t=window,e=th();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=th(t.document)}return e}function Vy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _$(t){var e=Wx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jx(n.ownerDocument.documentElement,n)){if(r!==null&&Vy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=D1(n,s);var o=D1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var w$=ti&&"documentMode"in document&&11>=document.documentMode,ko=null,Fg=null,$l=null,Ug=!1;function L1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ug||ko==null||ko!==th(r)||(r=ko,"selectionStart"in r&&Vy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$l&&cu($l,r)||($l=r,r=lh(Fg,"onSelect"),0<r.length&&(e=new Uy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ko)))}function Qc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ro={animationend:Qc("Animation","AnimationEnd"),animationiteration:Qc("Animation","AnimationIteration"),animationstart:Qc("Animation","AnimationStart"),transitionend:Qc("Transition","TransitionEnd")},pm={},Hx={};ti&&(Hx=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function wf(t){if(pm[t])return pm[t];if(!Ro[t])return t;var e=Ro[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Hx)return pm[t]=e[n];return t}var qx=wf("animationend"),Kx=wf("animationiteration"),Gx=wf("animationstart"),Qx=wf("transitionend"),Yx=new Map,F1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zi(t,e){Yx.set(t,e),io(e,[t])}for(var mm=0;mm<F1.length;mm++){var gm=F1[mm],E$=gm.toLowerCase(),b$=gm[0].toUpperCase()+gm.slice(1);Zi(E$,"on"+b$)}Zi(qx,"onAnimationEnd");Zi(Kx,"onAnimationIteration");Zi(Gx,"onAnimationStart");Zi("dblclick","onDoubleClick");Zi("focusin","onFocus");Zi("focusout","onBlur");Zi(Qx,"onTransitionEnd");ra("onMouseEnter",["mouseout","mouseover"]);ra("onMouseLeave",["mouseout","mouseover"]);ra("onPointerEnter",["pointerout","pointerover"]);ra("onPointerLeave",["pointerout","pointerover"]);io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));io("onBeforeInput",["compositionend","keypress","textInput","paste"]);io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sl));function U1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,EM(r,e,void 0,t),t.currentTarget=null}function Xx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;U1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;U1(i,a,u),s=l}}}if(rh)throw t=Mg,rh=!1,Mg=null,t}function Ge(t,e){var n=e[Wg];n===void 0&&(n=e[Wg]=new Set);var r=t+"__bubble";n.has(r)||(Jx(e,t,2,!1),n.add(r))}function vm(t,e,n){var r=0;e&&(r|=4),Jx(n,t,r,e)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function du(t){if(!t[Yc]){t[Yc]=!0,sx.forEach(function(n){n!=="selectionchange"&&(C$.has(n)||vm(n,!1,t),vm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yc]||(e[Yc]=!0,vm("selectionchange",!1,e))}}function Jx(t,e,n,r){switch($x(e)){case 1:var i=LM;break;case 4:i=FM;break;default:i=Ly}n=i.bind(null,e,n,t),i=void 0,!Og||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ym(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ys(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Ex(function(){var u=s,c=Oy(n),d=[];e:{var h=Yx.get(t);if(h!==void 0){var f=Uy,p=t;switch(t){case"keypress":if(Pd(n)===0)break e;case"keydown":case"keyup":f=ZM;break;case"focusin":p="focus",f=dm;break;case"focusout":p="blur",f=dm;break;case"beforeblur":case"afterblur":f=dm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=I1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=zM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=n$;break;case qx:case Kx:case Gx:f=WM;break;case Qx:f=i$;break;case"scroll":f=UM;break;case"wheel":f=o$;break;case"copy":case"cut":case"paste":f=qM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=R1}var m=(e&4)!==0,E=!m&&t==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var v=u,y;v!==null;){y=v;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,g!==null&&(_=su(v,g),_!=null&&m.push(hu(v,_,y)))),E)break;v=v.return}0<m.length&&(h=new f(h,p,null,n,c),d.push({event:h,listeners:m}))}}if((e&7)===0){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Ng&&(p=n.relatedTarget||n.fromElement)&&(ys(p)||p[ni]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?ys(p):null,p!==null&&(E=so(p),p!==E||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(m=I1,_="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=R1,_="onPointerLeave",g="onPointerEnter",v="pointer"),E=f==null?h:Po(f),y=p==null?h:Po(p),h=new m(_,v+"leave",f,n,c),h.target=E,h.relatedTarget=y,_=null,ys(c)===u&&(m=new m(g,v+"enter",p,n,c),m.target=y,m.relatedTarget=E,_=m),E=_,f&&p)t:{for(m=f,g=p,v=0,y=m;y;y=po(y))v++;for(y=0,_=g;_;_=po(_))y++;for(;0<v-y;)m=po(m),v--;for(;0<y-v;)g=po(g),y--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=po(m),g=po(g)}m=null}else m=null;f!==null&&B1(d,h,f,m,!1),p!==null&&E!==null&&B1(d,E,p,m,!0)}}e:{if(h=u?Po(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var C=f$;else if(A1(h))if(zx)C=v$;else{C=m$;var x=p$}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=g$);if(C&&(C=C(t,u))){Bx(d,C,n,c);break e}x&&x(t,h,u),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&Tg(h,"number",h.value)}switch(x=u?Po(u):window,t){case"focusin":(A1(x)||x.contentEditable==="true")&&(ko=x,Fg=u,$l=null);break;case"focusout":$l=Fg=ko=null;break;case"mousedown":Ug=!0;break;case"contextmenu":case"mouseup":case"dragend":Ug=!1,L1(d,n,c);break;case"selectionchange":if(w$)break;case"keydown":case"keyup":L1(d,n,c)}var S;if(zy)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Io?Fx(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Lx&&n.locale!=="ko"&&(Io||T!=="onCompositionStart"?T==="onCompositionEnd"&&Io&&(S=Dx()):(ki=c,Fy="value"in ki?ki.value:ki.textContent,Io=!0)),x=lh(u,T),0<x.length&&(T=new k1(T,t,null,n,c),d.push({event:T,listeners:x}),S?T.data=S:(S=Ux(n),S!==null&&(T.data=S)))),(S=l$?u$(t,n):c$(t,n))&&(u=lh(u,"onBeforeInput"),0<u.length&&(c=new k1("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=S))}Xx(d,e)})}function hu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=su(t,n),s!=null&&r.unshift(hu(t,s,i)),s=su(t,e),s!=null&&r.push(hu(t,s,i))),t=t.return}return r}function po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function B1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=su(n,s),l!=null&&o.unshift(hu(n,l,a))):i||(l=su(n,s),l!=null&&o.push(hu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var S$=/\r\n?/g,x$=/\u0000|\uFFFD/g;function z1(t){return(typeof t=="string"?t:""+t).replace(S$,`
`).replace(x$,"")}function Xc(t,e,n){if(e=z1(e),z1(t)!==e&&n)throw Error(O(425))}function uh(){}var Bg=null,zg=null;function Vg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jg=typeof setTimeout=="function"?setTimeout:void 0,T$=typeof clearTimeout=="function"?clearTimeout:void 0,V1=typeof Promise=="function"?Promise:void 0,I$=typeof queueMicrotask=="function"?queueMicrotask:typeof V1<"u"?function(t){return V1.resolve(null).then(t).catch(k$)}:jg;function k$(t){setTimeout(function(){throw t})}function _m(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),lu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);lu(e)}function $i(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function j1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ma=Math.random().toString(36).slice(2),kr="__reactFiber$"+Ma,fu="__reactProps$"+Ma,ni="__reactContainer$"+Ma,Wg="__reactEvents$"+Ma,R$="__reactListeners$"+Ma,P$="__reactHandles$"+Ma;function ys(t){var e=t[kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ni]||n[kr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=j1(t);t!==null;){if(n=t[kr])return n;t=j1(t)}return e}t=n,n=t.parentNode}return null}function rc(t){return t=t[kr]||t[ni],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Po(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function Ef(t){return t[fu]||null}var Hg=[],No=-1;function es(t){return{current:t}}function Ye(t){0>No||(t.current=Hg[No],Hg[No]=null,No--)}function He(t,e){No++,Hg[No]=t.current,t.current=e}var Wi={},rn=es(Wi),kn=es(!1),Ls=Wi;function ia(t,e){var n=t.type.contextTypes;if(!n)return Wi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rn(t){return t=t.childContextTypes,t!=null}function ch(){Ye(kn),Ye(rn)}function W1(t,e,n){if(rn.current!==Wi)throw Error(O(168));He(rn,e),He(kn,n)}function Zx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(O(108,pM(t)||"Unknown",i));return ot({},n,r)}function dh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wi,Ls=rn.current,He(rn,t),He(kn,kn.current),!0}function H1(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=Zx(t,e,Ls),r.__reactInternalMemoizedMergedChildContext=t,Ye(kn),Ye(rn),He(rn,t)):Ye(kn),He(kn,n)}var jr=null,bf=!1,wm=!1;function eT(t){jr===null?jr=[t]:jr.push(t)}function N$(t){bf=!0,eT(t)}function ts(){if(!wm&&jr!==null){wm=!0;var t=0,e=De;try{var n=jr;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}jr=null,bf=!1}catch(i){throw jr!==null&&(jr=jr.slice(t+1)),xx(My,ts),i}finally{De=e,wm=!1}}return null}var Ao=[],Oo=0,hh=null,fh=0,Qn=[],Yn=0,Fs=null,Hr=1,qr="";function cs(t,e){Ao[Oo++]=fh,Ao[Oo++]=hh,hh=t,fh=e}function tT(t,e,n){Qn[Yn++]=Hr,Qn[Yn++]=qr,Qn[Yn++]=Fs,Fs=t;var r=Hr;t=qr;var i=32-wr(r)-1;r&=~(1<<i),n+=1;var s=32-wr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Hr=1<<32-wr(e)+i|n<<i|r,qr=s+t}else Hr=1<<s|n<<i|r,qr=t}function jy(t){t.return!==null&&(cs(t,1),tT(t,1,0))}function Wy(t){for(;t===hh;)hh=Ao[--Oo],Ao[Oo]=null,fh=Ao[--Oo],Ao[Oo]=null;for(;t===Fs;)Fs=Qn[--Yn],Qn[Yn]=null,qr=Qn[--Yn],Qn[Yn]=null,Hr=Qn[--Yn],Qn[Yn]=null}var Ln=null,Dn=null,Ze=!1,mr=null;function nT(t,e){var n=Jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function q1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ln=t,Dn=$i(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ln=t,Dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fs!==null?{id:Hr,overflow:qr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ln=t,Dn=null,!0):!1;default:return!1}}function qg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kg(t){if(Ze){var e=Dn;if(e){var n=e;if(!q1(t,e)){if(qg(t))throw Error(O(418));e=$i(n.nextSibling);var r=Ln;e&&q1(t,e)?nT(r,n):(t.flags=t.flags&-4097|2,Ze=!1,Ln=t)}}else{if(qg(t))throw Error(O(418));t.flags=t.flags&-4097|2,Ze=!1,Ln=t}}}function K1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function Jc(t){if(t!==Ln)return!1;if(!Ze)return K1(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vg(t.type,t.memoizedProps)),e&&(e=Dn)){if(qg(t))throw rT(),Error(O(418));for(;e;)nT(t,e),e=$i(e.nextSibling)}if(K1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dn=$i(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dn=null}}else Dn=Ln?$i(t.stateNode.nextSibling):null;return!0}function rT(){for(var t=Dn;t;)t=$i(t.nextSibling)}function sa(){Dn=Ln=null,Ze=!1}function Hy(t){mr===null?mr=[t]:mr.push(t)}var A$=di.ReactCurrentBatchConfig;function fr(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ph=es(null),mh=null,Mo=null,qy=null;function Ky(){qy=Mo=mh=null}function Gy(t){var e=ph.current;Ye(ph),t._currentValue=e}function Gg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ho(t,e){mh=t,qy=Mo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Cn=!0),t.firstContext=null)}function rr(t){var e=t._currentValue;if(qy!==t)if(t={context:t,memoizedValue:e,next:null},Mo===null){if(mh===null)throw Error(O(308));Mo=t,mh.dependencies={lanes:0,firstContext:t}}else Mo=Mo.next=t;return e}var _s=null;function Qy(t){_s===null?_s=[t]:_s.push(t)}function iT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Qy(e)):(n.next=i.next,i.next=n),e.interleaved=n,ri(t,r)}function ri(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bi=!1;function Yy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Di(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(xe&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ri(t,n)}return i=r.interleaved,i===null?(e.next=e,Qy(r)):(e.next=i.next,i.next=e),r.interleaved=e,ri(t,n)}function Nd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$y(t,n)}}function G1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gh(t,e,n,r){var i=t.updateQueue;bi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(h=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=ot({},d,h);break e;case 2:bi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Bs|=o,t.lanes=o,t.memoizedState=d}}function Q1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var oT=new ix.Component().refs;function Qg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cf={isMounted:function(t){return(t=t._reactInternals)?so(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=fn(),i=Fi(t),s=Xr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Di(t,s,i),e!==null&&(Er(e,t,i,r),Nd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=fn(),i=Fi(t),s=Xr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Di(t,s,i),e!==null&&(Er(e,t,i,r),Nd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fn(),r=Fi(t),i=Xr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Di(t,i,r),e!==null&&(Er(e,t,r,n),Nd(e,t,r))}};function Y1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!cu(n,r)||!cu(i,s):!0}function aT(t,e,n){var r=!1,i=Wi,s=e.contextType;return typeof s=="object"&&s!==null?s=rr(s):(i=Rn(e)?Ls:rn.current,r=e.contextTypes,s=(r=r!=null)?ia(t,i):Wi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function X1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cf.enqueueReplaceState(e,e.state,null)}function Yg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=oT,Yy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=rr(s):(s=Rn(e)?Ls:rn.current,i.context=ia(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Qg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Cf.enqueueReplaceState(i,i.state,null),gh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function al(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===oT&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function Zc(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function J1(t){var e=t._init;return e(t._payload)}function lT(t){function e(g,v){if(t){var y=g.deletions;y===null?(g.deletions=[v],g.flags|=16):y.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Ui(g,v),g.index=0,g.sibling=null,g}function s(g,v,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<v?(g.flags|=2,v):y):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,y,_){return v===null||v.tag!==6?(v=Im(y,g.mode,_),v.return=g,v):(v=i(v,y),v.return=g,v)}function l(g,v,y,_){var C=y.type;return C===To?c(g,v,y.props.children,_,y.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ei&&J1(C)===v.type)?(_=i(v,y.props),_.ref=al(g,v,y),_.return=g,_):(_=Ld(y.type,y.key,y.props,null,g.mode,_),_.ref=al(g,v,y),_.return=g,_)}function u(g,v,y,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=km(y,g.mode,_),v.return=g,v):(v=i(v,y.children||[]),v.return=g,v)}function c(g,v,y,_,C){return v===null||v.tag!==7?(v=Ps(y,g.mode,_,C),v.return=g,v):(v=i(v,y),v.return=g,v)}function d(g,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Im(""+v,g.mode,y),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Vc:return y=Ld(v.type,v.key,v.props,null,g.mode,y),y.ref=al(g,null,v),y.return=g,y;case xo:return v=km(v,g.mode,y),v.return=g,v;case Ei:var _=v._init;return d(g,_(v._payload),y)}if(bl(v)||nl(v))return v=Ps(v,g.mode,y,null),v.return=g,v;Zc(g,v)}return null}function h(g,v,y,_){var C=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:a(g,v,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Vc:return y.key===C?l(g,v,y,_):null;case xo:return y.key===C?u(g,v,y,_):null;case Ei:return C=y._init,h(g,v,C(y._payload),_)}if(bl(y)||nl(y))return C!==null?null:c(g,v,y,_,null);Zc(g,y)}return null}function f(g,v,y,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(y)||null,a(v,g,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Vc:return g=g.get(_.key===null?y:_.key)||null,l(v,g,_,C);case xo:return g=g.get(_.key===null?y:_.key)||null,u(v,g,_,C);case Ei:var x=_._init;return f(g,v,y,x(_._payload),C)}if(bl(_)||nl(_))return g=g.get(y)||null,c(v,g,_,C,null);Zc(v,_)}return null}function p(g,v,y,_){for(var C=null,x=null,S=v,T=v=0,N=null;S!==null&&T<y.length;T++){S.index>T?(N=S,S=null):N=S.sibling;var I=h(g,S,y[T],_);if(I===null){S===null&&(S=N);break}t&&S&&I.alternate===null&&e(g,S),v=s(I,v,T),x===null?C=I:x.sibling=I,x=I,S=N}if(T===y.length)return n(g,S),Ze&&cs(g,T),C;if(S===null){for(;T<y.length;T++)S=d(g,y[T],_),S!==null&&(v=s(S,v,T),x===null?C=S:x.sibling=S,x=S);return Ze&&cs(g,T),C}for(S=r(g,S);T<y.length;T++)N=f(S,g,T,y[T],_),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?T:N.key),v=s(N,v,T),x===null?C=N:x.sibling=N,x=N);return t&&S.forEach(function(M){return e(g,M)}),Ze&&cs(g,T),C}function m(g,v,y,_){var C=nl(y);if(typeof C!="function")throw Error(O(150));if(y=C.call(y),y==null)throw Error(O(151));for(var x=C=null,S=v,T=v=0,N=null,I=y.next();S!==null&&!I.done;T++,I=y.next()){S.index>T?(N=S,S=null):N=S.sibling;var M=h(g,S,I.value,_);if(M===null){S===null&&(S=N);break}t&&S&&M.alternate===null&&e(g,S),v=s(M,v,T),x===null?C=M:x.sibling=M,x=M,S=N}if(I.done)return n(g,S),Ze&&cs(g,T),C;if(S===null){for(;!I.done;T++,I=y.next())I=d(g,I.value,_),I!==null&&(v=s(I,v,T),x===null?C=I:x.sibling=I,x=I);return Ze&&cs(g,T),C}for(S=r(g,S);!I.done;T++,I=y.next())I=f(S,g,T,I.value,_),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?T:I.key),v=s(I,v,T),x===null?C=I:x.sibling=I,x=I);return t&&S.forEach(function(V){return e(g,V)}),Ze&&cs(g,T),C}function E(g,v,y,_){if(typeof y=="object"&&y!==null&&y.type===To&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Vc:e:{for(var C=y.key,x=v;x!==null;){if(x.key===C){if(C=y.type,C===To){if(x.tag===7){n(g,x.sibling),v=i(x,y.props.children),v.return=g,g=v;break e}}else if(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ei&&J1(C)===x.type){n(g,x.sibling),v=i(x,y.props),v.ref=al(g,x,y),v.return=g,g=v;break e}n(g,x);break}else e(g,x);x=x.sibling}y.type===To?(v=Ps(y.props.children,g.mode,_,y.key),v.return=g,g=v):(_=Ld(y.type,y.key,y.props,null,g.mode,_),_.ref=al(g,v,y),_.return=g,g=_)}return o(g);case xo:e:{for(x=y.key;v!==null;){if(v.key===x)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(g,v.sibling),v=i(v,y.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=km(y,g.mode,_),v.return=g,g=v}return o(g);case Ei:return x=y._init,E(g,v,x(y._payload),_)}if(bl(y))return p(g,v,y,_);if(nl(y))return m(g,v,y,_);Zc(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,y),v.return=g,g=v):(n(g,v),v=Im(y,g.mode,_),v.return=g,g=v),o(g)):n(g,v)}return E}var oa=lT(!0),uT=lT(!1),ic={},Pr=es(ic),pu=es(ic),mu=es(ic);function ws(t){if(t===ic)throw Error(O(174));return t}function Xy(t,e){switch(He(mu,e),He(pu,t),He(Pr,ic),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=kg(e,t)}Ye(Pr),He(Pr,e)}function aa(){Ye(Pr),Ye(pu),Ye(mu)}function cT(t){ws(mu.current);var e=ws(Pr.current),n=kg(e,t.type);e!==n&&(He(pu,t),He(Pr,n))}function Jy(t){pu.current===t&&(Ye(Pr),Ye(pu))}var it=es(0);function vh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Em=[];function Zy(){for(var t=0;t<Em.length;t++)Em[t]._workInProgressVersionPrimary=null;Em.length=0}var Ad=di.ReactCurrentDispatcher,bm=di.ReactCurrentBatchConfig,Us=0,st=null,vt=null,kt=null,yh=!1,Dl=!1,gu=0,O$=0;function Qt(){throw Error(O(321))}function e0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cr(t[n],e[n]))return!1;return!0}function t0(t,e,n,r,i,s){if(Us=s,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ad.current=t===null||t.memoizedState===null?L$:F$,t=n(r,i),Dl){s=0;do{if(Dl=!1,gu=0,25<=s)throw Error(O(301));s+=1,kt=vt=null,e.updateQueue=null,Ad.current=U$,t=n(r,i)}while(Dl)}if(Ad.current=_h,e=vt!==null&&vt.next!==null,Us=0,kt=vt=st=null,yh=!1,e)throw Error(O(300));return t}function n0(){var t=gu!==0;return gu=0,t}function xr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?st.memoizedState=kt=t:kt=kt.next=t,kt}function ir(){if(vt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=kt===null?st.memoizedState:kt.next;if(e!==null)kt=e,vt=t;else{if(t===null)throw Error(O(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},kt===null?st.memoizedState=kt=t:kt=kt.next=t}return kt}function vu(t,e){return typeof e=="function"?e(t):e}function Cm(t){var e=ir(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=vt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Us&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,st.lanes|=c,Bs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Cr(r,e.memoizedState)||(Cn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,st.lanes|=s,Bs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sm(t){var e=ir(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Cr(s,e.memoizedState)||(Cn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function dT(){}function hT(t,e){var n=st,r=ir(),i=e(),s=!Cr(r.memoizedState,i);if(s&&(r.memoizedState=i,Cn=!0),r=r.queue,r0(mT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,yu(9,pT.bind(null,n,r,i,e),void 0,null),Nt===null)throw Error(O(349));(Us&30)!==0||fT(n,e,i)}return i}function fT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pT(t,e,n,r){e.value=n,e.getSnapshot=r,gT(e)&&vT(t)}function mT(t,e,n){return n(function(){gT(e)&&vT(t)})}function gT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cr(t,n)}catch{return!0}}function vT(t){var e=ri(t,1);e!==null&&Er(e,t,1,-1)}function Z1(t){var e=xr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vu,lastRenderedState:t},e.queue=t,t=t.dispatch=D$.bind(null,st,t),[e.memoizedState,t]}function yu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function yT(){return ir().memoizedState}function Od(t,e,n,r){var i=xr();st.flags|=t,i.memoizedState=yu(1|e,n,void 0,r===void 0?null:r)}function Sf(t,e,n,r){var i=ir();r=r===void 0?null:r;var s=void 0;if(vt!==null){var o=vt.memoizedState;if(s=o.destroy,r!==null&&e0(r,o.deps)){i.memoizedState=yu(e,n,s,r);return}}st.flags|=t,i.memoizedState=yu(1|e,n,s,r)}function eE(t,e){return Od(8390656,8,t,e)}function r0(t,e){return Sf(2048,8,t,e)}function _T(t,e){return Sf(4,2,t,e)}function wT(t,e){return Sf(4,4,t,e)}function ET(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bT(t,e,n){return n=n!=null?n.concat([t]):null,Sf(4,4,ET.bind(null,e,t),n)}function i0(){}function CT(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&e0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ST(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&e0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function xT(t,e,n){return(Us&21)===0?(t.baseState&&(t.baseState=!1,Cn=!0),t.memoizedState=n):(Cr(n,e)||(n=kx(),st.lanes|=n,Bs|=n,t.baseState=!0),e)}function M$(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=bm.transition;bm.transition={};try{t(!1),e()}finally{De=n,bm.transition=r}}function TT(){return ir().memoizedState}function $$(t,e,n){var r=Fi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},IT(t))kT(e,n);else if(n=iT(t,e,n,r),n!==null){var i=fn();Er(n,t,r,i),RT(n,e,r)}}function D$(t,e,n){var r=Fi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(IT(t))kT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Cr(a,o)){var l=e.interleaved;l===null?(i.next=i,Qy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=iT(t,e,i,r),n!==null&&(i=fn(),Er(n,t,r,i),RT(n,e,r))}}function IT(t){var e=t.alternate;return t===st||e!==null&&e===st}function kT(t,e){Dl=yh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RT(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$y(t,n)}}var _h={readContext:rr,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},L$={readContext:rr,useCallback:function(t,e){return xr().memoizedState=[t,e===void 0?null:e],t},useContext:rr,useEffect:eE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Od(4194308,4,ET.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Od(4194308,4,t,e)},useInsertionEffect:function(t,e){return Od(4,2,t,e)},useMemo:function(t,e){var n=xr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$$.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=xr();return t={current:t},e.memoizedState=t},useState:Z1,useDebugValue:i0,useDeferredValue:function(t){return xr().memoizedState=t},useTransition:function(){var t=Z1(!1),e=t[0];return t=M$.bind(null,t[1]),xr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,i=xr();if(Ze){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),Nt===null)throw Error(O(349));(Us&30)!==0||fT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,eE(mT.bind(null,r,s,t),[t]),r.flags|=2048,yu(9,pT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=xr(),e=Nt.identifierPrefix;if(Ze){var n=qr,r=Hr;n=(r&~(1<<32-wr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=O$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},F$={readContext:rr,useCallback:CT,useContext:rr,useEffect:r0,useImperativeHandle:bT,useInsertionEffect:_T,useLayoutEffect:wT,useMemo:ST,useReducer:Cm,useRef:yT,useState:function(){return Cm(vu)},useDebugValue:i0,useDeferredValue:function(t){var e=ir();return xT(e,vt.memoizedState,t)},useTransition:function(){var t=Cm(vu)[0],e=ir().memoizedState;return[t,e]},useMutableSource:dT,useSyncExternalStore:hT,useId:TT,unstable_isNewReconciler:!1},U$={readContext:rr,useCallback:CT,useContext:rr,useEffect:r0,useImperativeHandle:bT,useInsertionEffect:_T,useLayoutEffect:wT,useMemo:ST,useReducer:Sm,useRef:yT,useState:function(){return Sm(vu)},useDebugValue:i0,useDeferredValue:function(t){var e=ir();return vt===null?e.memoizedState=t:xT(e,vt.memoizedState,t)},useTransition:function(){var t=Sm(vu)[0],e=ir().memoizedState;return[t,e]},useMutableSource:dT,useSyncExternalStore:hT,useId:TT,unstable_isNewReconciler:!1};function la(t,e){try{var n="",r=e;do n+=fM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function xm(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function Xg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var B$=typeof WeakMap=="function"?WeakMap:Map;function PT(t,e,n){n=Xr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Eh||(Eh=!0,av=r),Xg(t,e)},n}function NT(t,e,n){n=Xr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Xg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Xg(t,e),typeof r!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function tE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new B$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=eD.bind(null,t,e,n),e.then(t,t))}function nE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rE(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xr(-1,1),e.tag=2,Di(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var z$=di.ReactCurrentOwner,Cn=!1;function un(t,e,n,r){e.child=t===null?uT(e,null,n,r):oa(e,t.child,n,r)}function iE(t,e,n,r,i){n=n.render;var s=e.ref;return Ho(e,i),r=t0(t,e,n,r,s,i),n=n0(),t!==null&&!Cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ii(t,e,i)):(Ze&&n&&jy(e),e.flags|=1,un(t,e,r,i),e.child)}function sE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!h0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,AT(t,e,s,r,i)):(t=Ld(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,(t.lanes&i)===0){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:cu,n(o,r)&&t.ref===e.ref)return ii(t,e,i)}return e.flags|=1,t=Ui(s,r),t.ref=e.ref,t.return=e,e.child=t}function AT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(cu(s,r)&&t.ref===e.ref)if(Cn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)(t.flags&131072)!==0&&(Cn=!0);else return e.lanes=t.lanes,ii(t,e,i)}return Jg(t,e,n,r,i)}function OT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Do,$n),$n|=n;else{if((n&1073741824)===0)return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(Do,$n),$n|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,He(Do,$n),$n|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,He(Do,$n),$n|=r;return un(t,e,i,n),e.child}function MT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jg(t,e,n,r,i){var s=Rn(n)?Ls:rn.current;return s=ia(e,s),Ho(e,i),n=t0(t,e,n,r,s,i),r=n0(),t!==null&&!Cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ii(t,e,i)):(Ze&&r&&jy(e),e.flags|=1,un(t,e,n,i),e.child)}function oE(t,e,n,r,i){if(Rn(n)){var s=!0;dh(e)}else s=!1;if(Ho(e,i),e.stateNode===null)Md(t,e),aT(e,n,r),Yg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=rr(u):(u=Rn(n)?Ls:rn.current,u=ia(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&X1(e,o,r,u),bi=!1;var h=e.memoizedState;o.state=h,gh(e,r,o,i),l=e.memoizedState,a!==r||h!==l||kn.current||bi?(typeof c=="function"&&(Qg(e,n,c,r),l=e.memoizedState),(a=bi||Y1(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,sT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:fr(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=rr(l):(l=Rn(n)?Ls:rn.current,l=ia(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&X1(e,o,r,l),bi=!1,h=e.memoizedState,o.state=h,gh(e,r,o,i);var p=e.memoizedState;a!==d||h!==p||kn.current||bi?(typeof f=="function"&&(Qg(e,n,f,r),p=e.memoizedState),(u=bi||Y1(e,n,u,r,h,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Zg(t,e,n,r,s,i)}function Zg(t,e,n,r,i,s){MT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&H1(e,n,!1),ii(t,e,s);r=e.stateNode,z$.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=oa(e,t.child,null,s),e.child=oa(e,null,a,s)):un(t,e,a,s),e.memoizedState=r.state,i&&H1(e,n,!0),e.child}function $T(t){var e=t.stateNode;e.pendingContext?W1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&W1(t,e.context,!1),Xy(t,e.containerInfo)}function aE(t,e,n,r,i){return sa(),Hy(i),e.flags|=256,un(t,e,n,r),e.child}var ev={dehydrated:null,treeContext:null,retryLane:0};function tv(t){return{baseLanes:t,cachePool:null,transitions:null}}function DT(t,e,n){var r=e.pendingProps,i=it.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),He(it,i&1),t===null)return Kg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=If(o,r,0,null),t=Ps(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=tv(n),e.memoizedState=ev,t):s0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return V$(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return(o&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ui(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ui(a,s):(s=Ps(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?tv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ev,r}return s=t.child,t=s.sibling,r=Ui(s,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function s0(t,e){return e=If({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ed(t,e,n,r){return r!==null&&Hy(r),oa(e,t.child,null,n),t=s0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function V$(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=xm(Error(O(422))),ed(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=If({mode:"visible",children:r.children},i,0,null),s=Ps(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&oa(e,t.child,null,o),e.child.memoizedState=tv(o),e.memoizedState=ev,s);if((e.mode&1)===0)return ed(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(O(419)),r=xm(s,r,void 0),ed(t,e,o,r)}if(a=(o&t.childLanes)!==0,Cn||a){if(r=Nt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|o))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ri(t,i),Er(r,t,i,-1))}return d0(),r=xm(Error(O(421))),ed(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dn=$i(i.nextSibling),Ln=e,Ze=!0,mr=null,t!==null&&(Qn[Yn++]=Hr,Qn[Yn++]=qr,Qn[Yn++]=Fs,Hr=t.id,qr=t.overflow,Fs=e),e=s0(e,r.children),e.flags|=4096,e)}function lE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gg(t.return,e,n)}function Tm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function LT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(un(t,e,r.children,n),r=it.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lE(t,n,e);else if(t.tag===19)lE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(it,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&vh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Tm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&vh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Tm(e,!0,n,null,s);break;case"together":Tm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Md(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ii(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bs|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=Ui(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ui(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function j$(t,e,n){switch(e.tag){case 3:$T(e),sa();break;case 5:cT(e);break;case 1:Rn(e.type)&&dh(e);break;case 4:Xy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;He(ph,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(it,it.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?DT(t,e,n):(He(it,it.current&1),t=ii(t,e,n),t!==null?t.sibling:null);He(it,it.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return LT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(it,it.current),r)break;return null;case 22:case 23:return e.lanes=0,OT(t,e,n)}return ii(t,e,n)}var FT,nv,UT,BT;FT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nv=function(){};UT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ws(Pr.current);var s=null;switch(n){case"input":i=Sg(t,i),r=Sg(t,r),s=[];break;case"select":i=ot({},i,{value:void 0}),r=ot({},r,{value:void 0}),s=[];break;case"textarea":i=Ig(t,i),r=Ig(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=uh)}Rg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ru.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ru.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ge("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};BT=function(t,e,n,r){n!==r&&(e.flags|=4)};function ll(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function W$(t,e,n){var r=e.pendingProps;switch(Wy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return Rn(e.type)&&ch(),Yt(e),null;case 3:return r=e.stateNode,aa(),Ye(kn),Ye(rn),Zy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Jc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,mr!==null&&(cv(mr),mr=null))),nv(t,e),Yt(e),null;case 5:Jy(e);var i=ws(mu.current);if(n=e.type,t!==null&&e.stateNode!=null)UT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return Yt(e),null}if(t=ws(Pr.current),Jc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[kr]=e,r[fu]=s,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(i=0;i<Sl.length;i++)Ge(Sl[i],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":v1(r,s),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ge("invalid",r);break;case"textarea":_1(r,s),Ge("invalid",r)}Rg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Xc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Xc(r.textContent,a,t),i=["children",""+a]):ru.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ge("scroll",r)}switch(n){case"input":jc(r),y1(r,s,!0);break;case"textarea":jc(r),w1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=uh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[kr]=e,t[fu]=r,FT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Pg(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),i=r;break;case"iframe":case"object":case"embed":Ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<Sl.length;i++)Ge(Sl[i],t);i=r;break;case"source":Ge("error",t),i=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),i=r;break;case"details":Ge("toggle",t),i=r;break;case"input":v1(t,r),i=Sg(t,r),Ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ot({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":_1(t,r),i=Ig(t,r),Ge("invalid",t);break;default:i=r}Rg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?gx(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&px(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&iu(t,l):typeof l=="number"&&iu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ru.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ge("scroll",t):l!=null&&Ry(t,s,l,o))}switch(n){case"input":jc(t),y1(t,r,!1);break;case"textarea":jc(t),w1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ji(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?zo(t,!!r.multiple,s,!1):r.defaultValue!=null&&zo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=uh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yt(e),null;case 6:if(t&&e.stateNode!=null)BT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=ws(mu.current),ws(Pr.current),Jc(e)){if(r=e.stateNode,n=e.memoizedProps,r[kr]=e,(s=r.nodeValue!==n)&&(t=Ln,t!==null))switch(t.tag){case 3:Xc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kr]=e,e.stateNode=r}return Yt(e),null;case 13:if(Ye(it),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&Dn!==null&&(e.mode&1)!==0&&(e.flags&128)===0)rT(),sa(),e.flags|=98560,s=!1;else if(s=Jc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(O(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[kr]=e}else sa(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Yt(e),s=!1}else mr!==null&&(cv(mr),mr=null),s=!0;if(!s)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(it.current&1)!==0?_t===0&&(_t=3):d0())),e.updateQueue!==null&&(e.flags|=4),Yt(e),null);case 4:return aa(),nv(t,e),t===null&&du(e.stateNode.containerInfo),Yt(e),null;case 10:return Gy(e.type._context),Yt(e),null;case 17:return Rn(e.type)&&ch(),Yt(e),null;case 19:if(Ye(it),s=e.memoizedState,s===null)return Yt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ll(s,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=vh(t),o!==null){for(e.flags|=128,ll(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(it,it.current&1|2),e.child}t=t.sibling}s.tail!==null&&ut()>ua&&(e.flags|=128,r=!0,ll(s,!1),e.lanes=4194304)}else{if(!r)if(t=vh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ll(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ze)return Yt(e),null}else 2*ut()-s.renderingStartTime>ua&&n!==1073741824&&(e.flags|=128,r=!0,ll(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ut(),e.sibling=null,n=it.current,He(it,r?n&1|2:n&1),e):(Yt(e),null);case 22:case 23:return c0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?($n&1073741824)!==0&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function H$(t,e){switch(Wy(e),e.tag){case 1:return Rn(e.type)&&ch(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return aa(),Ye(kn),Ye(rn),Zy(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return Jy(e),null;case 13:if(Ye(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));sa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(it),null;case 4:return aa(),null;case 10:return Gy(e.type._context),null;case 22:case 23:return c0(),null;case 24:return null;default:return null}}var td=!1,Jt=!1,q$=typeof WeakSet=="function"?WeakSet:Set,j=null;function $o(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function rv(t,e,n){try{n()}catch(r){at(t,e,r)}}var uE=!1;function K$(t,e){if(Bg=oh,t=Wx(),Vy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zg={focusedElem:t,selectionRange:n},oh=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var p=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,E=p.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:fr(e.type,m),E);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(_){at(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return p=uE,uE=!1,p}function Ll(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&rv(e,n,s)}i=i.next}while(i!==r)}}function xf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function iv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zT(t){var e=t.alternate;e!==null&&(t.alternate=null,zT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kr],delete e[fu],delete e[Wg],delete e[R$],delete e[P$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function VT(t){return t.tag===5||t.tag===3||t.tag===4}function cE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||VT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=uh));else if(r!==4&&(t=t.child,t!==null))for(sv(t,e,n),t=t.sibling;t!==null;)sv(t,e,n),t=t.sibling}function ov(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ov(t,e,n),t=t.sibling;t!==null;)ov(t,e,n),t=t.sibling}var Ft=null,pr=!1;function vi(t,e,n){for(n=n.child;n!==null;)jT(t,e,n),n=n.sibling}function jT(t,e,n){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(vf,n)}catch{}switch(n.tag){case 5:Jt||$o(n,e);case 6:var r=Ft,i=pr;Ft=null,vi(t,e,n),Ft=r,pr=i,Ft!==null&&(pr?(t=Ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ft.removeChild(n.stateNode));break;case 18:Ft!==null&&(pr?(t=Ft,n=n.stateNode,t.nodeType===8?_m(t.parentNode,n):t.nodeType===1&&_m(t,n),lu(t)):_m(Ft,n.stateNode));break;case 4:r=Ft,i=pr,Ft=n.stateNode.containerInfo,pr=!0,vi(t,e,n),Ft=r,pr=i;break;case 0:case 11:case 14:case 15:if(!Jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&rv(n,e,o),i=i.next}while(i!==r)}vi(t,e,n);break;case 1:if(!Jt&&($o(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,e,a)}vi(t,e,n);break;case 21:vi(t,e,n);break;case 22:n.mode&1?(Jt=(r=Jt)||n.memoizedState!==null,vi(t,e,n),Jt=r):vi(t,e,n);break;default:vi(t,e,n)}}function dE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new q$),e.forEach(function(r){var i=nD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function hr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ft=a.stateNode,pr=!1;break e;case 3:Ft=a.stateNode.containerInfo,pr=!0;break e;case 4:Ft=a.stateNode.containerInfo,pr=!0;break e}a=a.return}if(Ft===null)throw Error(O(160));jT(s,o,i),Ft=null,pr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){at(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)WT(e,t),e=e.sibling}function WT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hr(e,t),Sr(t),r&4){try{Ll(3,t,t.return),xf(3,t)}catch(m){at(t,t.return,m)}try{Ll(5,t,t.return)}catch(m){at(t,t.return,m)}}break;case 1:hr(e,t),Sr(t),r&512&&n!==null&&$o(n,n.return);break;case 5:if(hr(e,t),Sr(t),r&512&&n!==null&&$o(n,n.return),t.flags&32){var i=t.stateNode;try{iu(i,"")}catch(m){at(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&dx(i,s),Pg(a,o);var u=Pg(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?gx(i,d):c==="dangerouslySetInnerHTML"?px(i,d):c==="children"?iu(i,d):Ry(i,c,d,u)}switch(a){case"input":xg(i,s);break;case"textarea":hx(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?zo(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?zo(i,!!s.multiple,s.defaultValue,!0):zo(i,!!s.multiple,s.multiple?[]:"",!1))}i[fu]=s}catch(m){at(t,t.return,m)}}break;case 6:if(hr(e,t),Sr(t),r&4){if(t.stateNode===null)throw Error(O(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){at(t,t.return,m)}}break;case 3:if(hr(e,t),Sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lu(e.containerInfo)}catch(m){at(t,t.return,m)}break;case 4:hr(e,t),Sr(t);break;case 13:hr(e,t),Sr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(l0=ut())),r&4&&dE(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Jt=(u=Jt)||c,hr(e,t),Jt=u):hr(e,t),Sr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&(t.mode&1)!==0)for(j=t,c=t.child;c!==null;){for(d=j=c;j!==null;){switch(h=j,f=h.child,h.tag){case 0:case 11:case 14:case 15:Ll(4,h,h.return);break;case 1:$o(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){at(r,n,m)}}break;case 5:$o(h,h.return);break;case 22:if(h.memoizedState!==null){fE(d);continue}}f!==null?(f.return=h,j=f):fE(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mx("display",o))}catch(m){at(t,t.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){at(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:hr(e,t),Sr(t),r&4&&dE(t);break;case 21:break;default:hr(e,t),Sr(t)}}function Sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(VT(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(iu(i,""),r.flags&=-33);var s=cE(t);ov(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=cE(t);sv(t,a,o);break;default:throw Error(O(161))}}catch(l){at(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function G$(t,e,n){j=t,HT(t)}function HT(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var i=j,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||td;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Jt;a=td;var u=Jt;if(td=o,(Jt=l)&&!u)for(j=i;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?pE(i):l!==null?(l.return=o,j=l):pE(i);for(;s!==null;)j=s,HT(s),s=s.sibling;j=i,td=a,Jt=u}hE(t)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,j=s):hE(t)}}function hE(t){for(;j!==null;){var e=j;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Jt||xf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:fr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Q1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Q1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&lu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Jt||e.flags&512&&iv(e)}catch(h){at(e,e.return,h)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function fE(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function pE(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xf(4,e)}catch(l){at(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){at(e,i,l)}}var s=e.return;try{iv(e)}catch(l){at(e,s,l)}break;case 5:var o=e.return;try{iv(e)}catch(l){at(e,o,l)}}}catch(l){at(e,e.return,l)}if(e===t){j=null;break}var a=e.sibling;if(a!==null){a.return=e.return,j=a;break}j=e.return}}var Q$=Math.ceil,wh=di.ReactCurrentDispatcher,o0=di.ReactCurrentOwner,Zn=di.ReactCurrentBatchConfig,xe=0,Nt=null,ft=null,zt=0,$n=0,Do=es(0),_t=0,_u=null,Bs=0,Tf=0,a0=0,Fl=null,En=null,l0=0,ua=1/0,Vr=null,Eh=!1,av=null,Li=null,nd=!1,Ri=null,bh=0,Ul=0,lv=null,$d=-1,Dd=0;function fn(){return(xe&6)!==0?ut():$d!==-1?$d:$d=ut()}function Fi(t){return(t.mode&1)===0?1:(xe&2)!==0&&zt!==0?zt&-zt:A$.transition!==null?(Dd===0&&(Dd=kx()),Dd):(t=De,t!==0||(t=window.event,t=t===void 0?16:$x(t.type)),t)}function Er(t,e,n,r){if(50<Ul)throw Ul=0,lv=null,Error(O(185));tc(t,n,r),((xe&2)===0||t!==Nt)&&(t===Nt&&((xe&2)===0&&(Tf|=n),_t===4&&Si(t,zt)),Pn(t,r),n===1&&xe===0&&(e.mode&1)===0&&(ua=ut()+500,bf&&ts()))}function Pn(t,e){var n=t.callbackNode;AM(t,e);var r=sh(t,t===Nt?zt:0);if(r===0)n!==null&&C1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&C1(n),e===1)t.tag===0?N$(mE.bind(null,t)):eT(mE.bind(null,t)),I$(function(){(xe&6)===0&&ts()}),n=null;else{switch(Rx(r)){case 1:n=My;break;case 4:n=Tx;break;case 16:n=ih;break;case 536870912:n=Ix;break;default:n=ih}n=ZT(n,qT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function qT(t,e){if($d=-1,Dd=0,(xe&6)!==0)throw Error(O(327));var n=t.callbackNode;if(qo()&&t.callbackNode!==n)return null;var r=sh(t,t===Nt?zt:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=Ch(t,r);else{e=r;var i=xe;xe|=2;var s=GT();(Nt!==t||zt!==e)&&(Vr=null,ua=ut()+500,Rs(t,e));do try{J$();break}catch(a){KT(t,a)}while(1);Ky(),wh.current=s,xe=i,ft!==null?e=0:(Nt=null,zt=0,e=_t)}if(e!==0){if(e===2&&(i=$g(t),i!==0&&(r=i,e=uv(t,i))),e===1)throw n=_u,Rs(t,0),Si(t,r),Pn(t,ut()),n;if(e===6)Si(t,r);else{if(i=t.current.alternate,(r&30)===0&&!Y$(i)&&(e=Ch(t,r),e===2&&(s=$g(t),s!==0&&(r=s,e=uv(t,s))),e===1))throw n=_u,Rs(t,0),Si(t,r),Pn(t,ut()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:ds(t,En,Vr);break;case 3:if(Si(t,r),(r&130023424)===r&&(e=l0+500-ut(),10<e)){if(sh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){fn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jg(ds.bind(null,t,En,Vr),e);break}ds(t,En,Vr);break;case 4:if(Si(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-wr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Q$(r/1960))-r,10<r){t.timeoutHandle=jg(ds.bind(null,t,En,Vr),r);break}ds(t,En,Vr);break;case 5:ds(t,En,Vr);break;default:throw Error(O(329))}}}return Pn(t,ut()),t.callbackNode===n?qT.bind(null,t):null}function uv(t,e){var n=Fl;return t.current.memoizedState.isDehydrated&&(Rs(t,e).flags|=256),t=Ch(t,e),t!==2&&(e=En,En=n,e!==null&&cv(e)),t}function cv(t){En===null?En=t:En.push.apply(En,t)}function Y$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Cr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Si(t,e){for(e&=~a0,e&=~Tf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wr(e),r=1<<n;t[n]=-1,e&=~r}}function mE(t){if((xe&6)!==0)throw Error(O(327));qo();var e=sh(t,0);if((e&1)===0)return Pn(t,ut()),null;var n=Ch(t,e);if(t.tag!==0&&n===2){var r=$g(t);r!==0&&(e=r,n=uv(t,r))}if(n===1)throw n=_u,Rs(t,0),Si(t,e),Pn(t,ut()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ds(t,En,Vr),Pn(t,ut()),null}function u0(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(ua=ut()+500,bf&&ts())}}function zs(t){Ri!==null&&Ri.tag===0&&(xe&6)===0&&qo();var e=xe;xe|=1;var n=Zn.transition,r=De;try{if(Zn.transition=null,De=1,t)return t()}finally{De=r,Zn.transition=n,xe=e,(xe&6)===0&&ts()}}function c0(){$n=Do.current,Ye(Do)}function Rs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,T$(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(Wy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ch();break;case 3:aa(),Ye(kn),Ye(rn),Zy();break;case 5:Jy(r);break;case 4:aa();break;case 13:Ye(it);break;case 19:Ye(it);break;case 10:Gy(r.type._context);break;case 22:case 23:c0()}n=n.return}if(Nt=t,ft=t=Ui(t.current,null),zt=$n=e,_t=0,_u=null,a0=Tf=Bs=0,En=Fl=null,_s!==null){for(e=0;e<_s.length;e++)if(n=_s[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}_s=null}return t}function KT(t,e){do{var n=ft;try{if(Ky(),Ad.current=_h,yh){for(var r=st.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yh=!1}if(Us=0,kt=vt=st=null,Dl=!1,gu=0,o0.current=null,n===null||n.return===null){_t=1,_u=e,ft=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=zt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if((c.mode&1)===0&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=nE(o);if(f!==null){f.flags&=-257,rE(f,o,a,s,e),f.mode&1&&tE(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if((e&1)===0){tE(s,u,e),d0();break e}l=Error(O(426))}}else if(Ze&&a.mode&1){var E=nE(o);if(E!==null){(E.flags&65536)===0&&(E.flags|=256),rE(E,o,a,s,e),Hy(la(l,a));break e}}s=l=la(l,a),_t!==4&&(_t=2),Fl===null?Fl=[s]:Fl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=PT(s,l,e);G1(s,g);break e;case 1:a=l;var v=s.type,y=s.stateNode;if((s.flags&128)===0&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Li===null||!Li.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=NT(s,a,e);G1(s,_);break e}}s=s.return}while(s!==null)}YT(n)}catch(C){e=C,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(1)}function GT(){var t=wh.current;return wh.current=_h,t===null?_h:t}function d0(){(_t===0||_t===3||_t===2)&&(_t=4),Nt===null||(Bs&268435455)===0&&(Tf&268435455)===0||Si(Nt,zt)}function Ch(t,e){var n=xe;xe|=2;var r=GT();(Nt!==t||zt!==e)&&(Vr=null,Rs(t,e));do try{X$();break}catch(i){KT(t,i)}while(1);if(Ky(),xe=n,wh.current=r,ft!==null)throw Error(O(261));return Nt=null,zt=0,_t}function X$(){for(;ft!==null;)QT(ft)}function J$(){for(;ft!==null&&!CM();)QT(ft)}function QT(t){var e=JT(t.alternate,t,$n);t.memoizedProps=t.pendingProps,e===null?YT(t):ft=e,o0.current=null}function YT(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=W$(n,e,$n),n!==null){ft=n;return}}else{if(n=H$(n,e),n!==null){n.flags&=32767,ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,ft=null;return}}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);_t===0&&(_t=5)}function ds(t,e,n){var r=De,i=Zn.transition;try{Zn.transition=null,De=1,Z$(t,e,n,r)}finally{Zn.transition=i,De=r}return null}function Z$(t,e,n,r){do qo();while(Ri!==null);if((xe&6)!==0)throw Error(O(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(OM(t,s),t===Nt&&(ft=Nt=null,zt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||nd||(nd=!0,ZT(ih,function(){return qo(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=Zn.transition,Zn.transition=null;var o=De;De=1;var a=xe;xe|=4,o0.current=null,K$(t,n),WT(n,t),_$(zg),oh=!!Bg,zg=Bg=null,t.current=n,G$(n),SM(),xe=a,De=o,Zn.transition=s}else t.current=n;if(nd&&(nd=!1,Ri=t,bh=i),s=t.pendingLanes,s===0&&(Li=null),IM(n.stateNode),Pn(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Eh)throw Eh=!1,t=av,av=null,t;return(bh&1)!==0&&t.tag!==0&&qo(),s=t.pendingLanes,(s&1)!==0?t===lv?Ul++:(Ul=0,lv=t):Ul=0,ts(),null}function qo(){if(Ri!==null){var t=Rx(bh),e=Zn.transition,n=De;try{if(Zn.transition=null,De=16>t?16:t,Ri===null)var r=!1;else{if(t=Ri,Ri=null,bh=0,(xe&6)!==0)throw Error(O(331));var i=xe;for(xe|=4,j=t.current;j!==null;){var s=j,o=s.child;if((j.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:Ll(8,c,s)}var d=c.child;if(d!==null)d.return=c,j=d;else for(;j!==null;){c=j;var h=c.sibling,f=c.return;if(zT(c),c===u){j=null;break}if(h!==null){h.return=f,j=h;break}j=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var E=m.sibling;m.sibling=null,m=E}while(m!==null)}}j=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,j=o;else e:for(;j!==null;){if(s=j,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Ll(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,j=g;break e}j=s.return}}var v=t.current;for(j=v;j!==null;){o=j;var y=o.child;if((o.subtreeFlags&2064)!==0&&y!==null)y.return=o,j=y;else e:for(o=v;j!==null;){if(a=j,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:xf(9,a)}}catch(C){at(a,a.return,C)}if(a===o){j=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,j=_;break e}j=a.return}}if(xe=i,ts(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(vf,t)}catch{}r=!0}return r}finally{De=n,Zn.transition=e}}return!1}function gE(t,e,n){e=la(n,e),e=PT(t,e,1),t=Di(t,e,1),e=fn(),t!==null&&(tc(t,1,e),Pn(t,e))}function at(t,e,n){if(t.tag===3)gE(t,t,n);else for(;e!==null;){if(e.tag===3){gE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Li===null||!Li.has(r))){t=la(n,t),t=NT(e,t,1),e=Di(e,t,1),t=fn(),e!==null&&(tc(e,1,t),Pn(e,t));break}}e=e.return}}function eD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=fn(),t.pingedLanes|=t.suspendedLanes&n,Nt===t&&(zt&n)===n&&(_t===4||_t===3&&(zt&130023424)===zt&&500>ut()-l0?Rs(t,0):a0|=n),Pn(t,e)}function XT(t,e){e===0&&((t.mode&1)===0?e=1:(e=qc,qc<<=1,(qc&130023424)===0&&(qc=4194304)));var n=fn();t=ri(t,e),t!==null&&(tc(t,e,n),Pn(t,n))}function tD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XT(t,n)}function nD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),XT(t,n)}var JT;JT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kn.current)Cn=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return Cn=!1,j$(t,e,n);Cn=(t.flags&131072)!==0}else Cn=!1,Ze&&(e.flags&1048576)!==0&&tT(e,fh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Md(t,e),t=e.pendingProps;var i=ia(e,rn.current);Ho(e,n),i=t0(null,e,r,t,i,n);var s=n0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rn(r)?(s=!0,dh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yy(e),i.updater=Cf,e.stateNode=i,i._reactInternals=e,Yg(e,r,t,n),e=Zg(null,e,r,!0,s,n)):(e.tag=0,Ze&&s&&jy(e),un(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Md(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=iD(r),t=fr(r,t),i){case 0:e=Jg(null,e,r,t,n);break e;case 1:e=oE(null,e,r,t,n);break e;case 11:e=iE(null,e,r,t,n);break e;case 14:e=sE(null,e,r,fr(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),Jg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),oE(t,e,r,i,n);case 3:e:{if($T(e),t===null)throw Error(O(387));r=e.pendingProps,s=e.memoizedState,i=s.element,sT(t,e),gh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=la(Error(O(423)),e),e=aE(t,e,r,n,i);break e}else if(r!==i){i=la(Error(O(424)),e),e=aE(t,e,r,n,i);break e}else for(Dn=$i(e.stateNode.containerInfo.firstChild),Ln=e,Ze=!0,mr=null,n=uT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sa(),r===i){e=ii(t,e,n);break e}un(t,e,r,n)}e=e.child}return e;case 5:return cT(e),t===null&&Kg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Vg(r,i)?o=null:s!==null&&Vg(r,s)&&(e.flags|=32),MT(t,e),un(t,e,o,n),e.child;case 6:return t===null&&Kg(e),null;case 13:return DT(t,e,n);case 4:return Xy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=oa(e,null,r,n):un(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),iE(t,e,r,i,n);case 7:return un(t,e,e.pendingProps,n),e.child;case 8:return un(t,e,e.pendingProps.children,n),e.child;case 12:return un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,He(ph,r._currentValue),r._currentValue=o,s!==null)if(Cr(s.value,o)){if(s.children===i.children&&!kn.current){e=ii(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Xr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Gg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(O(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Gg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}un(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ho(e,n),i=rr(i),r=r(i),e.flags|=1,un(t,e,r,n),e.child;case 14:return r=e.type,i=fr(r,e.pendingProps),i=fr(r.type,i),sE(t,e,r,i,n);case 15:return AT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),Md(t,e),e.tag=1,Rn(r)?(t=!0,dh(e)):t=!1,Ho(e,n),aT(e,r,i),Yg(e,r,i,n),Zg(null,e,r,!0,t,n);case 19:return LT(t,e,n);case 22:return OT(t,e,n)}throw Error(O(156,e.tag))};function ZT(t,e){return xx(t,e)}function rD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(t,e,n,r){return new rD(t,e,n,r)}function h0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iD(t){if(typeof t=="function")return h0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ny)return 11;if(t===Ay)return 14}return 2}function Ui(t,e){var n=t.alternate;return n===null?(n=Jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ld(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")h0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case To:return Ps(n.children,i,s,e);case Py:o=8,i|=8;break;case wg:return t=Jn(12,n,e,i|2),t.elementType=wg,t.lanes=s,t;case Eg:return t=Jn(13,n,e,i),t.elementType=Eg,t.lanes=s,t;case bg:return t=Jn(19,n,e,i),t.elementType=bg,t.lanes=s,t;case lx:return If(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ox:o=10;break e;case ax:o=9;break e;case Ny:o=11;break e;case Ay:o=14;break e;case Ei:o=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=Jn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ps(t,e,n,r){return t=Jn(7,t,r,e),t.lanes=n,t}function If(t,e,n,r){return t=Jn(22,t,r,e),t.elementType=lx,t.lanes=n,t.stateNode={isHidden:!1},t}function Im(t,e,n){return t=Jn(6,t,null,e),t.lanes=n,t}function km(t,e,n){return e=Jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sD(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lm(0),this.expirationTimes=lm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function f0(t,e,n,r,i,s,o,a,l){return t=new sD(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Jn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yy(s),t}function oD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function eI(t){if(!t)return Wi;t=t._reactInternals;e:{if(so(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(Rn(n))return Zx(t,n,e)}return e}function tI(t,e,n,r,i,s,o,a,l){return t=f0(n,r,!0,t,i,s,o,a,l),t.context=eI(null),n=t.current,r=fn(),i=Fi(n),s=Xr(r,i),s.callback=e!=null?e:null,Di(n,s,i),t.current.lanes=i,tc(t,i,r),Pn(t,r),t}function kf(t,e,n,r){var i=e.current,s=fn(),o=Fi(i);return n=eI(n),e.context===null?e.context=n:e.pendingContext=n,e=Xr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Di(i,e,o),t!==null&&(Er(t,i,o,s),Nd(t,i,o)),o}function Sh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function p0(t,e){vE(t,e),(t=t.alternate)&&vE(t,e)}function aD(){return null}var nI=typeof reportError=="function"?reportError:function(t){console.error(t)};function m0(t){this._internalRoot=t}Rf.prototype.render=m0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));kf(t,e,null,null)};Rf.prototype.unmount=m0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zs(function(){kf(null,t,null,null)}),e[ni]=null}};function Rf(t){this._internalRoot=t}Rf.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ax();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ci.length&&e!==0&&e<Ci[n].priority;n++);Ci.splice(n,0,t),n===0&&Mx(t)}};function g0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yE(){}function lD(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Sh(o);s.call(u)}}var o=tI(e,r,t,0,null,!1,!1,"",yE);return t._reactRootContainer=o,t[ni]=o.current,du(t.nodeType===8?t.parentNode:t),zs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Sh(l);a.call(u)}}var l=f0(t,0,!1,null,null,!1,!1,"",yE);return t._reactRootContainer=l,t[ni]=l.current,du(t.nodeType===8?t.parentNode:t),zs(function(){kf(e,l,n,r)}),l}function Nf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Sh(o);a.call(l)}}kf(e,o,t,i)}else o=lD(n,e,t,i,r);return Sh(o)}Px=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Cl(e.pendingLanes);n!==0&&($y(e,n|1),Pn(e,ut()),(xe&6)===0&&(ua=ut()+500,ts()))}break;case 13:zs(function(){var r=ri(t,1);if(r!==null){var i=fn();Er(r,t,1,i)}}),p0(t,1)}};Dy=function(t){if(t.tag===13){var e=ri(t,134217728);if(e!==null){var n=fn();Er(e,t,134217728,n)}p0(t,134217728)}};Nx=function(t){if(t.tag===13){var e=Fi(t),n=ri(t,e);if(n!==null){var r=fn();Er(n,t,e,r)}p0(t,e)}};Ax=function(){return De};Ox=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};Ag=function(t,e,n){switch(e){case"input":if(xg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ef(r);if(!i)throw Error(O(90));cx(r),xg(r,i)}}}break;case"textarea":hx(t,n);break;case"select":e=n.value,e!=null&&zo(t,!!n.multiple,e,!1)}};_x=u0;wx=zs;var uD={usingClientEntryPoint:!1,Events:[rc,Po,Ef,vx,yx,u0]},ul={findFiberByHostInstance:ys,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cD={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:di.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Cx(t),t===null?null:t.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||aD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{vf=rd.inject(cD),Rr=rd}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uD;jn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g0(e))throw Error(O(200));return oD(t,e,null,n)};jn.createRoot=function(t,e){if(!g0(t))throw Error(O(299));var n=!1,r="",i=nI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=f0(t,1,!1,null,null,n,!1,r,i),t[ni]=e.current,du(t.nodeType===8?t.parentNode:t),new m0(e)};jn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=Cx(e),t=t===null?null:t.stateNode,t};jn.flushSync=function(t){return zs(t)};jn.hydrate=function(t,e,n){if(!Pf(e))throw Error(O(200));return Nf(null,t,e,!0,n)};jn.hydrateRoot=function(t,e,n){if(!g0(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=nI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=tI(e,null,t,1,n!=null?n:null,i,!1,s,o),t[ni]=e.current,du(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Rf(e)};jn.render=function(t,e,n){if(!Pf(e))throw Error(O(200));return Nf(null,t,e,!1,n)};jn.unmountComponentAtNode=function(t){if(!Pf(t))throw Error(O(40));return t._reactRootContainer?(zs(function(){Nf(null,null,t,!1,function(){t._reactRootContainer=null,t[ni]=null})}),!0):!1};jn.unstable_batchedUpdates=u0;jn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pf(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return Nf(t,e,n,!1,r)};jn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=jn})(ec);const id=KS(ec.exports);var _E=ec.exports;yg.createRoot=_E.createRoot,yg.hydrateRoot=_E.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=function(t,e){if(!t)throw $a(e)},$a=function(t){return new Error("Firebase Database ("+rI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},v0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw Error();const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},sI=function(t){const e=iI(t);return v0.encodeByteArray(e,!0)},oI=function(t){return sI(t).replace(/\./g,"")},dv=function(t){try{return v0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(t){return aI(void 0,t)}function aI(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!fD(n)||(t[n]=aI(t[n],e[n]));return t}function fD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Af(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function lI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pD(){return At().indexOf("Electron/")>=0}function uI(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mD(){return At().indexOf("MSAppHost/")>=0}function cI(){return rI.NODE_ADMIN===!0}function dI(){return typeof indexedDB=="object"}function gD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="FirebaseError";class lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vD,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oo.prototype.create)}}class oo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?yD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new lr(i,a,r)}}function yD(t,e){return t.replace(_D,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _D=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t){return JSON.parse(t)}function Pt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=wu(dv(s[0])||""),n=wu(dv(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},wD=function(t){const e=hI(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},ED=function(t){const e=hI(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ca(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function hv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xh(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Th(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(wE(s)&&wE(o)){if(!Th(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function wE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function CD(t,e){const n=new SD(t,e);return n.subscribe.bind(n)}class SD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Rm),i.error===void 0&&(i.error=Rm),i.complete===void 0&&(i.complete=Rm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rm(){}function fI(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,D(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Of=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=1e3,kD=2,RD=4*60*60*1e3,PD=.5;function ND(t,e=ID,n=kD){const r=e*Math.pow(n,t),i=Math.round(PD*r*(Math.random()-.5)*2);return Math.min(RD,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class zn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new y0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MD(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OD(t){return t===hs?void 0:t}function MD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const DD={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},LD=Se.INFO,FD={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},UD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=FD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sc{constructor(e){this.name=e,this._logLevel=LD,this._logHandler=UD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const BD=(t,e)=>e.some(n=>t instanceof n);let EE,bE;function zD(){return EE||(EE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VD(){return bE||(bE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pI=new WeakMap,fv=new WeakMap,mI=new WeakMap,Pm=new WeakMap,w0=new WeakMap;function jD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Bi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pI.set(n,t)}).catch(()=>{}),w0.set(e,t),e}function WD(t){if(fv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fv.set(t,e)}let pv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HD(t){pv=t(pv)}function qD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Nm(this),e,...n);return mI.set(r,e.sort?e.sort():[e]),Bi(r)}:VD().includes(t)?function(...e){return t.apply(Nm(this),e),Bi(pI.get(this))}:function(...e){return Bi(t.apply(Nm(this),e))}}function KD(t){return typeof t=="function"?qD(t):(t instanceof IDBTransaction&&WD(t),BD(t,zD())?new Proxy(t,pv):t)}function Bi(t){if(t instanceof IDBRequest)return jD(t);if(Pm.has(t))return Pm.get(t);const e=KD(t);return e!==t&&(Pm.set(t,e),w0.set(e,t)),e}const Nm=t=>w0.get(t);function gI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Bi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Bi(o.result),l.oldVersion,l.newVersion,Bi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const GD=["get","getKey","getAll","getAllKeys","count"],QD=["put","add","delete","clear"],Am=new Map;function CE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Am.get(e))return Am.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=QD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Am.set(e,s),s}HD(t=>({...t,get:(e,n,r)=>CE(e,n)||t.get(e,n,r),has:(e,n)=>!!CE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mv="@firebase/app",SE="0.7.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new sc("@firebase/app"),JD="@firebase/app-compat",ZD="@firebase/analytics-compat",eL="@firebase/analytics",tL="@firebase/app-check-compat",nL="@firebase/app-check",rL="@firebase/auth",iL="@firebase/auth-compat",sL="@firebase/database",oL="@firebase/database-compat",aL="@firebase/functions",lL="@firebase/functions-compat",uL="@firebase/installations",cL="@firebase/installations-compat",dL="@firebase/messaging",hL="@firebase/messaging-compat",fL="@firebase/performance",pL="@firebase/performance-compat",mL="@firebase/remote-config",gL="@firebase/remote-config-compat",vL="@firebase/storage",yL="@firebase/storage-compat",_L="@firebase/firestore",wL="@firebase/firestore-compat",EL="firebase",bL="9.9.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="[DEFAULT]",CL={[mv]:"fire-core",[JD]:"fire-core-compat",[eL]:"fire-analytics",[ZD]:"fire-analytics-compat",[nL]:"fire-app-check",[tL]:"fire-app-check-compat",[rL]:"fire-auth",[iL]:"fire-auth-compat",[sL]:"fire-rtdb",[oL]:"fire-rtdb-compat",[aL]:"fire-fn",[lL]:"fire-fn-compat",[uL]:"fire-iid",[cL]:"fire-iid-compat",[dL]:"fire-fcm",[hL]:"fire-fcm-compat",[fL]:"fire-perf",[pL]:"fire-perf-compat",[mL]:"fire-rc",[gL]:"fire-rc-compat",[vL]:"fire-gcs",[yL]:"fire-gcs-compat",[_L]:"fire-fst",[wL]:"fire-fst-compat","fire-js":"fire-js",[EL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=new Map,gv=new Map;function SL(t,e){try{t.container.addComponent(e)}catch(n){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sr(t){const e=t.name;if(gv.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;gv.set(e,t);for(const n of Eu.values())SL(n,t);return!0}function La(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},js=new oo("app","Firebase",xL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw js.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=bL;function IL(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:vI,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw js.create("bad-app-name",{appName:String(r)});const i=Eu.get(r);if(i){if(Th(t,i.options)&&Th(n,i.config))return i;throw js.create("duplicate-app",{appName:r})}const s=new $D(r);for(const a of gv.values())s.addComponent(a);const o=new TL(t,n,s);return Eu.set(r,o),o}function E0(t=vI){const e=Eu.get(t);if(!e)throw js.create("no-app",{appName:t});return e}function kL(){return Array.from(Eu.values())}function pt(t,e,n){var r;let i=(r=CL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(a.join(" "));return}sr(new zn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="firebase-heartbeat-database",PL=1,bu="firebase-heartbeat-store";let Om=null;function yI(){return Om||(Om=gI(RL,PL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(bu)}}}).catch(t=>{throw js.create("idb-open",{originalErrorMessage:t.message})})),Om}async function NL(t){var e;try{return(await yI()).transaction(bu).objectStore(bu).get(_I(t))}catch(n){if(n instanceof lr)Vs.warn(n.message);else{const r=js.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});Vs.warn(r.message)}}}async function xE(t,e){var n;try{const i=(await yI()).transaction(bu,"readwrite");return await i.objectStore(bu).put(e,_I(t)),i.done}catch(r){if(r instanceof lr)Vs.warn(r.message);else{const i=js.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});Vs.warn(i.message)}}}function _I(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=1024,OL=30*24*60*60*1e3;class ML{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=TE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=OL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=TE(),{heartbeatsToSend:n,unsentEntries:r}=$L(this._heartbeatsCache.heartbeats),i=oI(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function TE(){return new Date().toISOString().substring(0,10)}function $L(t,e=AL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),IE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),IE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dI()?gD().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await NL(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function IE(t){return oI(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(t){sr(new zn("platform-logger",e=>new YD(e),"PRIVATE")),sr(new zn("heartbeat",e=>new ML(e),"PRIVATE")),pt(mv,SE,t),pt(mv,SE,"esm2017"),pt("fire-js","")}LL("");function b0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function wI(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FL=wI,EI=new oo("auth","Firebase",wI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new sc("@firebase/auth");function Fd(t,...e){kE.logLevel<=Se.ERROR&&kE.error(`Auth (${ns}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,...e){throw C0(t,...e)}function Nr(t,...e){return C0(t,...e)}function bI(t,e,n){const r=Object.assign(Object.assign({},FL()),{[e]:n});return new oo("auth","Firebase",r).create(e,{appName:t.name})}function UL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Dr(t,"argument-error"),bI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function C0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EI.create(t,...e)}function oe(t,e,...n){if(!t)throw C0(e,...n)}function Kr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fd(e),new Error(e)}function si(t,e){t||Kr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Map;function Gr(t){si(t instanceof Function,"Expected a class definition");let e=RE.get(t);return e?(si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RE.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t,e){const n=La(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Th(s,e!=null?e:{}))return i;Dr(i,"already-initialized")}return n.initialize({options:e})}function zL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function VL(){return PE()==="http:"||PE()==="https:"}function PE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VL()||lI()||"connection"in navigator)?navigator.onLine:!0}function WL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n){this.shortDelay=e,this.longDelay=n,si(n>e,"Short delay should be less than long delay!"),this.isMobile=Af()||_0()}get(){return jL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(t,e){si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=new oc(3e4,6e4);function KL(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Mf(t,e,n,r,i={}){return SI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Da(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),CI.fetch()(xI(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function SI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},HL),e);try{const i=new QL(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw sd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw sd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw sd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw sd(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw bI(t,c,u);Dr(t,c)}}catch(i){if(i instanceof lr)throw i;Dr(t,"network-request-failed")}}async function GL(t,e,n,r,i={}){const s=await Mf(t,e,n,r,i);return"mfaPendingCredential"in s&&Dr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function xI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?S0(t.config,i):`${t.config.apiScheme}://${i}`}class QL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Nr(this.auth,"network-request-failed")),qL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Nr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YL(t,e){return Mf(t,"POST","/v1/accounts:delete",e)}async function XL(t,e){return Mf(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JL(t,e=!1){const n=Ot(t),r=await n.getIdToken(e),i=x0(r);oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Bl(Mm(i.auth_time)),issuedAtTime:Bl(Mm(i.iat)),expirationTime:Bl(Mm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Mm(t){return Number(t)*1e3}function x0(t){var e;const[n,r,i]=t.split(".");if(n===void 0||r===void 0||i===void 0)return Fd("JWT malformed, contained fewer than 3 sections"),null;try{const s=dv(r);return s?JSON.parse(s):(Fd("Failed to decode base64 JWT payload"),null)}catch(s){return Fd("Caught error parsing JWT payload as JSON",(e=s)===null||e===void 0?void 0:e.toString()),null}}function ZL(t){const e=x0(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof lr&&e2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function e2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Cu(t,XL(n,{idToken:r}));oe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?i2(s.providerUserInfo):[],a=r2(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new TI(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function n2(t){const e=Ot(t);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function i2(t){return t.map(e=>{var{providerId:n}=e,r=b0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s2(t,e){const n=await SI(t,{},async()=>{const r=Da({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=xI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",CI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return oe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await s2(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Su;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(oe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Su,this.toJSON())}_performRefresh(){return Kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ns{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=b0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new t2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new TI(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Cu(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JL(this,e)}reload(){return n2(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Cu(this,YL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:_,isAnonymous:C,providerData:x,stsTokenManager:S}=n;oe(y&&S,e,"internal-error");const T=Su.fromJSON(this.name,S);oe(typeof y=="string",e,"internal-error"),yi(d,e.name),yi(h,e.name),oe(typeof _=="boolean",e,"internal-error"),oe(typeof C=="boolean",e,"internal-error"),yi(f,e.name),yi(p,e.name),yi(m,e.name),yi(E,e.name),yi(g,e.name),yi(v,e.name);const N=new Ns({uid:y,auth:e,email:h,emailVerified:_,displayName:d,isAnonymous:C,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:T,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(N.providerData=x.map(I=>Object.assign({},I))),E&&(N._redirectEventId=E),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Su;i.updateFromServerResponse(n);const s=new Ns({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ih(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}II.type="NONE";const NE=II;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t,e,n){return`firebase:${t}:${e}:${n}`}class Ko{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ud(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ud("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ns._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ko(Gr(NE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Gr(NE);const o=Ud(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Ns._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ko(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ko(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AI(e))return"Blackberry";if(OI(e))return"Webos";if(T0(e))return"Safari";if((e.includes("chrome/")||RI(e))&&!e.includes("edge/"))return"Chrome";if(NI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kI(t=At()){return/firefox\//i.test(t)}function T0(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RI(t=At()){return/crios\//i.test(t)}function PI(t=At()){return/iemobile/i.test(t)}function NI(t=At()){return/android/i.test(t)}function AI(t=At()){return/blackberry/i.test(t)}function OI(t=At()){return/webos/i.test(t)}function $f(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o2(t=At()){var e;return $f(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function a2(){return uI()&&document.documentMode===10}function MI(t=At()){return $f(t)||NI(t)||OI(t)||AI(t)||/windows phone/i.test(t)||PI(t)}function l2(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(t,e=[]){let n;switch(t){case"Browser":n=AE(At());break;case"Worker":n=`${AE(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ns}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OE(this),this.idTokenSubscription=new OE(this),this.beforeStateQueue=new u2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EI,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ko.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l==null?void 0:l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await Ih(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ot(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Gr(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new oo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[Gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$I(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function I0(t){return Ot(t)}class OE{constructor(e){this.auth=e,this.observer=null,this.addObserver=CD(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kr("not implemented")}_getIdTokenResponse(e){return Kr("not implemented")}_linkToIdToken(e,n){return Kr("not implemented")}_getReauthenticationResolver(e){return Kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(t,e){return GL(t,"POST","/v1/accounts:signInWithIdp",KL(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="http://localhost";class Ws extends DI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=b0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ws(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Go(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Go(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Go(e,n)}buildRequest(){const e={requestUri:d2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Da(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends k0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends ac{constructor(){super("facebook.com")}static credential(e){return Ws._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends ac{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ws._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wr.credential(n,r)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends ac{constructor(){super("github.com")}static credential(e){return Ws._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.GITHUB_SIGN_IN_METHOD="github.com";Ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends ac{constructor(){super("twitter.com")}static credential(e,n){return Ws._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ii.credential(n,r)}catch{return null}}}Ii.TWITTER_SIGN_IN_METHOD="twitter.com";Ii.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ns._fromIdTokenResponse(e,r,i),o=ME(r);return new da({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ME(r);return new da({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ME(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh extends lr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new kh(e,n,r,i)}}function LI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?kh._fromErrorAndOperation(t,s,e,r):s})}async function h2(t,e,n=!1){const r=await Cu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return da._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(t,e,n=!1){var r;const{auth:i}=t,s="reauthenticate";try{const o=await Cu(t,LI(i,s,e,t),n);oe(o.idToken,i,"internal-error");const a=x0(o.idToken);oe(a,i,"internal-error");const{sub:l}=a;return oe(t.uid===l,i,"user-mismatch"),da._forOperation(t,s,o)}catch(o){throw((r=o)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&Dr(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(t,e,n=!1){const r="signIn",i=await LI(t,r,e),s=await da._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function m2(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function g2(t){Ot(t).useDeviceLanguage()}function v2(t){return Ot(t).signOut()}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(){const t=At();return T0(t)||$f(t)}const _2=1e3,w2=10;class UI extends FI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=y2()&&l2(),this.fallbackToPolling=MI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);a2()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,w2):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UI.type="LOCAL";const E2=UI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI extends FI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BI.type="SESSION";const zI=BI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Df(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await b2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Df.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=R0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return window}function S2(t){Ar().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}async function x2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function T2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function I2(){return VI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="firebaseLocalStorageDb",k2=1,Ph="firebaseLocalStorage",WI="fbase_key";class lc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lf(t,e){return t.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function R2(){const t=indexedDB.deleteDatabase(jI);return new lc(t).toPromise()}function yv(){const t=indexedDB.open(jI,k2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ph,{keyPath:WI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ph)?e(r):(r.close(),await R2(),e(await yv()))})})}async function $E(t,e,n){const r=Lf(t,!0).put({[WI]:e,value:n});return new lc(r).toPromise()}async function P2(t,e){const n=Lf(t,!1).get(e),r=await new lc(n).toPromise();return r===void 0?null:r.value}function DE(t,e){const n=Lf(t,!0).delete(e);return new lc(n).toPromise()}const N2=800,A2=3;class HI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>A2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Df._getInstance(I2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await x2(),!this.activeServiceWorker)return;this.sender=new C2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||T2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yv();return await $E(e,Rh,"1"),await DE(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$E(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>P2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Lf(i,!1).getAll();return new lc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HI.type="LOCAL";const O2=HI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function $2(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Nr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",M2().appendChild(r)})}function D2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t,e){return e?Gr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0 extends DI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function L2(t){return p2(t.auth,new P0(t),t.bypassAuthState)}function F2(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),f2(n,new P0(t),t.bypassAuthState)}async function U2(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),h2(n,new P0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return L2;case"linkViaPopup":case"linkViaRedirect":return U2;case"reauthViaPopup":case"reauthViaRedirect":return F2;default:Dr(this.auth,"internal-error")}}resolve(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new oc(2e3,1e4);async function z2(t,e,n){const r=I0(t);UL(t,e,k0);const i=qI(r,n);return new Es(r,"signInViaPopup",e,i).executeNotNull()}class Es extends KI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Es.currentPopupAction&&Es.currentPopupAction.cancel(),Es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const e=R0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,B2.get())};e()}}Es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="pendingRedirect",Bd=new Map;class j2 extends KI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Bd.get(this.auth._key());if(!e){try{const r=await W2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bd.set(this.auth._key(),e)}return this.bypassAuthState||Bd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function W2(t,e){const n=K2(e),r=q2(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function H2(t,e){Bd.set(t._key(),e)}function q2(t){return Gr(t._redirectPersistence)}function K2(t){return Ud(V2,t.config.apiKey,t.name)}async function G2(t,e,n=!1){const r=I0(t),i=qI(r,e),o=await new j2(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=10*60*1e3;class Y2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!X2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!GI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Nr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q2&&this.cachedEventUids.clear(),this.cachedEventUids.has(LE(e))}saveEventToCache(e){this.cachedEventUids.add(LE(e)),this.lastProcessedEventTime=Date.now()}}function LE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function X2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(t,e={}){return Mf(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eF=/^https?/;async function tF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await J2(t);for(const n of e)try{if(nF(n))return}catch{}Dr(t,"unauthorized-domain")}function nF(t){const e=vv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!eF.test(n))return!1;if(Z2.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=new oc(3e4,6e4);function FE(){const t=Ar().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function iF(t){return new Promise((e,n)=>{var r,i,s;function o(){FE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FE(),n(Nr(t,"network-request-failed"))},timeout:rF.get()})}if(!((i=(r=Ar().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ar().gapi)===null||s===void 0)&&s.load)o();else{const a=D2("iframefcb");return Ar()[a]=()=>{gapi.load?o():n(Nr(t,"network-request-failed"))},$2(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw zd=null,e})}let zd=null;function sF(t){return zd=zd||iF(t),zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF=new oc(5e3,15e3),aF="__/auth/iframe",lF="emulator/auth/iframe",uF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dF(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?S0(e,lF):`https://${t.config.authDomain}/${aF}`,r={apiKey:e.apiKey,appName:t.name,v:ns},i=cF.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Da(r).slice(1)}`}async function hF(t){const e=await sF(t),n=Ar().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:dF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uF,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Nr(t,"network-request-failed"),a=Ar().setTimeout(()=>{s(o)},oF.get());function l(){Ar().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pF=500,mF=600,gF="_blank",vF="http://localhost";class UE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yF(t,e,n,r=pF,i=mF){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},fF),{width:r.toString(),height:i.toString(),top:s,left:o}),u=At().toLowerCase();n&&(a=RI(u)?gF:n),kI(u)&&(e=e||vF,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(o2(u)&&a!=="_self")return _F(e||"",a),new UE(null);const d=window.open(e||"",a,c);oe(d,t,"popup-blocked");try{d.focus()}catch{}return new UE(d)}function _F(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF="__/auth/handler",EF="emulator/auth/handler";function BE(t,e,n,r,i,s){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ns,eventId:i};if(e instanceof k0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",hv(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof ac){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${bF(t)}?${Da(a).slice(1)}`}function bF({config:t}){return t.emulator?S0(t,EF):`https://${t.authDomain}/${wF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="webStorageSupport";class CF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zI,this._completeRedirectFn=G2,this._overrideRedirectResult=H2}async _openPopup(e,n,r,i){var s;si((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=BE(e,n,r,vv(),i);return yF(e,o,R0())}async _openRedirect(e,n,r,i){return await this._originValidation(e),S2(BE(e,n,r,vv(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(si(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await hF(e),r=new Y2(e);return n.register("authEvent",i=>(oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($m,{type:$m},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[$m];o!==void 0&&n(!!o),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MI()||T0()||$f()}}const SF=CF;var zE="@firebase/auth",VE="0.20.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function IF(t){sr(new zn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{oe(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),oe(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$I(t)},c=new c2(a,l,u);return zL(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sr(new zn("auth-internal",e=>{const n=I0(e.getProvider("auth").getImmediate());return(r=>new xF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pt(zE,VE,TF(t)),pt(zE,VE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(t=E0()){const e=La(t,"auth");return e.isInitialized()?e.getImmediate():BL(t,{popupRedirectResolver:SF,persistence:[O2,E2,zI]})}IF("Browser");const jE="@firebase/database",WE="0.13.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QI="";function RF(t){QI=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Pt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:wu(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return hi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new PF(e)}}catch{}return new NF},bs=YI("localStorage"),_v=YI("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new sc("@firebase/database"),AF=function(){let t=1;return function(){return t++}}(),XI=function(t){const e=TD(t),n=new bD;n.update(e);const r=n.digest();return v0.encodeByteArray(r)},uc=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=uc.apply(null,r):typeof r=="object"?e+=Pt(r):e+=r,e+=" "}return e};let As=null,HE=!0;const OF=function(t,e){D(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Qo.logLevel=Se.VERBOSE,As=Qo.log.bind(Qo),e&&_v.set("logging_enabled",!0)):typeof t=="function"?As=t:(As=null,_v.remove("logging_enabled"))},Zt=function(...t){if(HE===!0&&(HE=!1,As===null&&_v.get("logging_enabled")===!0&&OF(!0)),As){const e=uc.apply(null,t);As(e)}},cc=function(t){return function(...e){Zt(t,...e)}},wv=function(...t){const e="FIREBASE INTERNAL ERROR: "+uc(...t);Qo.error(e)},Hs=function(...t){const e=`FIREBASE FATAL ERROR: ${uc(...t)}`;throw Qo.error(e),new Error(e)},Fn=function(...t){const e="FIREBASE WARNING: "+uc(...t);Qo.warn(e)},MF=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Fn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},JI=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},$F=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ha="[MIN_NAME]",qs="[MAX_NAME]",Fa=function(t,e){if(t===e)return 0;if(t===ha||e===qs)return-1;if(e===ha||t===qs)return 1;{const n=qE(t),r=qE(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},DF=function(t,e){return t===e?0:t<e?-1:1},cl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Pt(e))},N0=function(t){if(typeof t!="object"||t===null)return Pt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Pt(e[r]),n+=":",n+=N0(t[e[r]]);return n+="}",n},ZI=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function On(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const ek=function(t){D(!JI(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},LF=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},FF=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function UF(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const BF=new RegExp("^-?(0*)\\d{1,10}$"),zF=-2147483648,VF=2147483647,qE=function(t){if(BF.test(t)){const e=Number(t);if(e>=zF&&e<=VF)return e}return null},dc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Fn("Exception was thrown by user callback.",n),e},Math.floor(0))}},jF=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},zl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Fn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Zt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Fn(e)}}class Ev{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ev.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="5",tk="v",nk="s",rk="r",ik="f",sk=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ok="ls",ak="p",bv="ac",lk="websocket",uk="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n,r,i,s=!1,o="",a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=bs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&bs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function KF(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ck(t,e,n){D(typeof e=="string","typeof type must == string"),D(typeof n=="object","typeof params must == object");let r;if(e===lk)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===uk)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);KF(t)&&(n.ns=t.namespace);const i=[];return On(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(){this.counters_={}}incrementCounter(e,n=1){hi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return hD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm={},Lm={};function O0(t){const e=t.toString();return Dm[e]||(Dm[e]=new GF),Dm[e]}function QF(t,e){const n=t.toString();return Lm[n]||(Lm[n]=e()),Lm[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&dc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="start",XF="close",JF="pLPCommand",ZF="pRTLPCB",dk="id",hk="pw",fk="ser",eU="cb",tU="seg",nU="ts",rU="d",iU="dframe",pk=1870,mk=30,sU=pk-mk,oU=25e3,aU=3e4;class Lo{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cc(e),this.stats_=O0(n),this.urlFn=l=>(this.appCheckToken&&(l[bv]=this.appCheckToken),ck(n,uk,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new YF(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(aU)),$F(()=>{if(this.isClosed_)return;this.scriptTagHolder=new M0((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===KE)this.id=a,this.password=l;else if(o===XF)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[KE]="t",r[fk]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[eU]=this.scriptTagHolder.uniqueCallbackIdentifier),r[tk]=A0,this.transportSessionId&&(r[nk]=this.transportSessionId),this.lastSessionId&&(r[ok]=this.lastSessionId),this.applicationId&&(r[ak]=this.applicationId),this.appCheckToken&&(r[bv]=this.appCheckToken),typeof location<"u"&&location.hostname&&sk.test(location.hostname)&&(r[rk]=ik);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Lo.forceAllow_=!0}static forceDisallow(){Lo.forceDisallow_=!0}static isAvailable(){return Lo.forceAllow_?!0:!Lo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!LF()&&!FF()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Pt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=sI(n),i=ZI(r,sU);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[iU]="t",r[dk]=e,r[hk]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Pt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class M0{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=AF(),window[JF+this.uniqueCallbackIdentifier]=e,window[ZF+this.uniqueCallbackIdentifier]=n,this.myIFrame=M0.createIFrame_();let s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){const a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Zt("frame writing exception"),a.stack&&Zt(a.stack),Zt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Zt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[dk]=this.myID,e[hk]=this.myPW,e[fk]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+mk+r.length<=pk;){const o=this.pendingSegs.shift();r=r+"&"+tU+i+"="+o.seg+"&"+nU+i+"="+o.ts+"&"+rU+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(oU)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Zt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=16384,uU=45e3;let Nh=null;typeof MozWebSocket<"u"?Nh=MozWebSocket:typeof WebSocket<"u"&&(Nh=WebSocket);class gr{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cc(this.connId),this.stats_=O0(n),this.connURL=gr.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[tk]=A0,typeof location<"u"&&location.hostname&&sk.test(location.hostname)&&(o[rk]=ik),n&&(o[nk]=n),r&&(o[ok]=r),i&&(o[bv]=i),s&&(o[ak]=s),ck(e,lk,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,bs.set("previous_websocket_failure",!0);try{let r;cI(),this.mySock=new Nh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){gr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Nh!==null&&!gr.forceDisallow_}static previouslyFailed(){return bs.isInMemoryStorage||bs.get("previous_websocket_failure")===!0}markConnectionHealthy(){bs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=wu(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(D(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Pt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=ZI(n,lU);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(uU))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}gr.responsesRequiredToBeHealthy=2;gr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Lo,gr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=gr&&gr.isAvailable();let r=n&&!gr.previouslyFailed();if(e.webSocketOnly&&(n||Fn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[gr];else{const i=this.transports_=[];for(const s of xu.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);xu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}xu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=6e4,dU=5e3,hU=10*1024,fU=100*1024,Fm="t",GE="d",pU="s",QE="r",mU="e",YE="o",XE="a",JE="n",ZE="p",gU="h";class vU{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cc("c:"+this.id+":"),this.transportManager_=new xu(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=zl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>fU?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>hU?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Fm in e){const n=e[Fm];n===XE?this.upgradeIfSecondaryHealthy_():n===QE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===YE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=cl("t",e),r=cl("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ZE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:XE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:JE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=cl("t",e),r=cl("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=cl(Fm,e);if(GE in e){const r=e[GE];if(n===gU)this.onHandshake_(r);else if(n===JE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===pU?this.onConnectionShutdown_(r):n===QE?this.onReset_(r):n===mU?wv("Server Error: "+r):n===YE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wv("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),A0!==r&&Fn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),zl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(cU))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(dU))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ZE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(bs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends vk{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Af()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ah}getInitialEvent(e){return D(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=32,tb=768;class ze{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ke(){return new ze("")}function pe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Hi(t){return t.pieces_.length-t.pieceNum_}function We(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ze(t.pieces_,e)}function yk(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function yU(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function _k(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function wk(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ze(e,0)}function yt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ze)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ze(n,0)}function me(t){return t.pieceNum_>=t.pieces_.length}function Sn(t,e){const n=pe(t),r=pe(e);if(n===null)return e;if(n===r)return Sn(We(t),We(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function $0(t,e){if(Hi(t)!==Hi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function vr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Hi(t)>Hi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class _U{constructor(e,n){this.errorPrefix_=n,this.parts_=_k(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Of(this.parts_[r]);Ek(this)}}function wU(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Of(e),Ek(t)}function EU(t){const e=t.parts_.pop();t.byteLength_-=Of(e),t.parts_.length>0&&(t.byteLength_-=1)}function Ek(t){if(t.byteLength_>tb)throw new Error(t.errorPrefix_+"has a key path longer than "+tb+" bytes ("+t.byteLength_+").");if(t.parts_.length>eb)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+eb+") or object contains a cycle "+fs(t))}function fs(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0 extends vk{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new D0}getInitialEvent(e){return D(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=1e3,bU=60*5*1e3,nb=30*1e3,CU=1.3,SU=3e4,xU="server_kill",rb=3;class Jr extends gk{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Jr.nextPersistentConnectionId_++,this.log_=cc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=dl,this.maxReconnectDelay_=bU,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!cI())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");D0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ah.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Pt(s)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new y0,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Jr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&hi(e,"w")){const r=ca(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Fn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||ED(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=nb)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=wD(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Pt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):wv("Unrecognized action received from server: "+Pt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=dl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=dl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>SU&&(this.reconnectDelay_=dl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*CU)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Jr.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){D(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Zt("getToken() completed but was canceled"):(Zt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new vU(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{Fn(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(xU)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Fn(d),l())}}}interrupt(e){Zt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Zt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],hv(this.interruptReasons_)&&(this.reconnectDelay_=dl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>N0(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ze(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Zt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=rb&&(this.reconnectDelay_=nb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Zt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=rb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+QI.replace(/\./g,"-")]=1,Af()?e["framework.cordova"]=1:_0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ah.getInstance().currentlyOnline();return hv(this.interruptReasons_)&&e}}Jr.nextPersistentConnectionId_=0;Jr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ce(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ce(ha,e),i=new ce(ha,n);return this.compare(r,i)!==0}minPost(){return ce.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let od;class bk extends Ff{static get __EMPTY_NODE(){return od}static set __EMPTY_NODE(e){od=e}compare(e,n){return Fa(e.name,n.name)}isDefinedOn(e){throw $a("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ce.MIN}maxPost(){return new ce(qs,od)}makePost(e,n){return D(typeof e=="string","KeyIndex indexValue must always be a string."),new ce(e,od)}toString(){return".key"}}const Yo=new bk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:Rt.RED,this.left=i!=null?i:xn.EMPTY_NODE,this.right=s!=null?s:xn.EMPTY_NODE}copy(e,n,r,i,s){return new Rt(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return xn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return xn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Rt.RED=!0;Rt.BLACK=!1;class TU{copy(e,n,r,i,s){return this}insert(e,n,r){return new Rt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xn{constructor(e,n=xn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new xn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Rt.BLACK,null,null))}remove(e){return new xn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Rt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ad(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ad(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ad(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ad(this.root_,null,this.comparator_,!0,e)}}xn.EMPTY_NODE=new TU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(t,e){return Fa(t.name,e.name)}function L0(t,e){return Fa(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cv;function kU(t){Cv=t}const Ck=function(t){return typeof t=="number"?"number:"+ek(t):"string:"+t},Sk=function(t){if(t.isLeafNode()){const e=t.val();D(typeof e=="string"||typeof e=="number"||typeof e=="object"&&hi(e,".sv"),"Priority must be a string or number.")}else D(t===Cv||t.isEmpty(),"priority of unexpected type.");D(t===Cv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ib;class Tt{constructor(e,n=Tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,D(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Sk(this.priorityNode_)}static set __childrenNodeConstructor(e){ib=e}static get __childrenNodeConstructor(){return ib}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Tt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return me(e)?this:pe(e)===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=pe(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(D(r!==".priority"||Hi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Tt.__childrenNodeConstructor.EMPTY_NODE.updateChild(We(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ck(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=ek(this.value_):e+=this.value_,this.lazyHash_=XI(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Tt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Tt.__childrenNodeConstructor?-1:(D(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Tt.VALUE_TYPE_ORDER.indexOf(n),s=Tt.VALUE_TYPE_ORDER.indexOf(r);return D(i>=0,"Unknown leaf type: "+n),D(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xk,Tk;function RU(t){xk=t}function PU(t){Tk=t}class NU extends Ff{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Fa(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ce.MIN}maxPost(){return new ce(qs,new Tt("[PRIORITY-POST]",Tk))}makePost(e,n){const r=xk(e);return new ce(n,new Tt("[PRIORITY-POST]",r))}toString(){return".priority"}}const lt=new NU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=Math.log(2);class OU{constructor(e){const n=s=>parseInt(Math.log(s)/AU,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Oh=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new Rt(h,d.node,Rt.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),m=i(f+1,u);return d=t[f],h=n?n(d):d,new Rt(h,d.node,Rt.BLACK,p,m)}},s=function(l){let u=null,c=null,d=t.length;const h=function(p,m){const E=d-p,g=d;d-=p;const v=i(E+1,g),y=t[E],_=n?n(y):y;f(new Rt(_,y.node,m,null,v))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),E=Math.pow(2,l.count-(p+1));m?h(E,Rt.BLACK):(h(E,Rt.BLACK),h(E,Rt.RED))}return c},o=new OU(t.length),a=s(o);return new xn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Um;const mo={};class Qr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return D(mo&&lt,"ChildrenNode.ts has not been loaded"),Um=Um||new Qr({".priority":mo},{".priority":lt}),Um}get(e){const n=ca(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof xn?n:null}hasIndex(e){return hi(this.indexSet_,e.toString())}addIndex(e,n){D(e!==Yo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ce.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Oh(r,e.getCompare()):a=mo;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new Qr(c,u)}addToIndexes(e,n){const r=xh(this.indexes_,(i,s)=>{const o=ca(this.indexSet_,s);if(D(o,"Missing index implementation for "+s),i===mo)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ce.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Oh(a,o.getCompare())}else return mo;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new ce(e.name,a))),l.insert(e,e.node)}});return new Qr(r,this.indexSet_)}removeFromIndexes(e,n){const r=xh(this.indexes_,i=>{if(i===mo)return i;{const s=n.get(e.name);return s?i.remove(new ce(e.name,s)):i}});return new Qr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl;class re{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Sk(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return hl||(hl=new re(new xn(L0),null,Qr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hl}updatePriority(e){return this.children_.isEmpty()?this:new re(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?hl:n}}getChild(e){const n=pe(e);return n===null?this:this.getImmediateChild(n).getChild(We(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(D(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ce(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?hl:this.priorityNode_;return new re(i,o,s)}}updateChild(e,n){const r=pe(e);if(r===null)return n;{D(pe(e)!==".priority"||Hi(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(We(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(lt,(o,a)=>{n[o]=a.val(e),r++,s&&re.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ck(this.getPriority().val())+":"),this.forEachChild(lt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":XI(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ce(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ce(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ce(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ce.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ce.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===hc?-1:0}withIndex(e){if(e===Yo||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new re(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Yo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(lt),i=n.getIterator(lt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Yo?null:this.indexMap_.get(e.toString())}}re.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class MU extends re{constructor(){super(new xn(L0),re.EMPTY_NODE,Qr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return re.EMPTY_NODE}isEmpty(){return!1}}const hc=new MU;Object.defineProperties(ce,{MIN:{value:new ce(ha,re.EMPTY_NODE)},MAX:{value:new ce(qs,hc)}});bk.__EMPTY_NODE=re.EMPTY_NODE;Tt.__childrenNodeConstructor=re;kU(hc);PU(hc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U=!0;function en(t,e=null){if(t===null)return re.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),D(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Tt(n,en(e))}if(!(t instanceof Array)&&$U){const n=[];let r=!1;if(On(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=en(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ce(o,l)))}}),n.length===0)return re.EMPTY_NODE;const s=Oh(n,IU,o=>o.name,L0);if(r){const o=Oh(n,lt.getCompare());return new re(s,en(e),new Qr({".priority":o},{".priority":lt}))}else return new re(s,en(e),Qr.Default)}else{let n=re.EMPTY_NODE;return On(t,(r,i)=>{if(hi(t,r)&&r.substring(0,1)!=="."){const s=en(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(en(e))}}RU(en);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU extends Ff{constructor(e){super(),this.indexPath_=e,D(!me(e)&&pe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Fa(e.name,n.name):s}makePost(e,n){const r=en(e),i=re.EMPTY_NODE.updateChild(this.indexPath_,r);return new ce(n,i)}maxPost(){const e=re.EMPTY_NODE.updateChild(this.indexPath_,hc);return new ce(qs,e)}toString(){return _k(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU extends Ff{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Fa(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ce.MIN}maxPost(){return ce.MAX}makePost(e,n){const r=en(e);return new ce(n,r)}toString(){return".value"}}const FU=new LU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t){return{type:"value",snapshotNode:t}}function fa(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Tu(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Iu(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function UU(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Tu(n,a)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(fa(n,r)):o.trackChildChange(Iu(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(lt,(i,s)=>{n.hasChild(i)||r.trackChildChange(Tu(i,s))}),n.isLeafNode()||n.forEachChild(lt,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Iu(i,s,o))}else r.trackChildChange(fa(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?re.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e){this.indexedFilter_=new F0(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ku.getStartPost_(e),this.endPost_=ku.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,n,r,i,s,o){return this.matches(new ce(n,r))||(r=re.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=re.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(re.EMPTY_NODE);const s=this;return n.forEachChild(lt,(o,a)=>{s.matches(new ce(o,a))||(i=i.updateImmediateChild(o,re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.rangedFilter_=new ku(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ce(n,r))||(r=re.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=re.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=re.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();let l;if(this.reverse_?l=this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:l=this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,l)i=i.updateImmediateChild(a.name,a.node),o++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(re.EMPTY_NODE);let s,o,a,l;if(this.reverse_){l=i.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),o=this.rangedFilter_.getStartPost();const d=this.index_.getCompare();a=(h,f)=>d(f,h)}else l=i.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),o=this.rangedFilter_.getEndPost(),a=this.index_.getCompare();let u=0,c=!1;for(;l.hasNext();){const d=l.getNext();!c&&a(s,d)<=0&&(c=!0),c&&u<this.limit_&&a(d,o)<=0?u++:i=i.updateImmediateChild(d.name,re.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;D(a.numChildren()===this.limit_,"");const l=new ce(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=h==null?1:o(h,l);if(c&&!r.isEmpty()&&f>=0)return s!=null&&s.trackChildChange(Iu(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Tu(n,d));const m=a.updateImmediateChild(n,re.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(fa(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return r.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(Tu(u.name,u.node)),s.trackChildChange(fa(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,re.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=lt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ha}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===lt}copy(){const e=new U0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function zU(t){return t.loadsAllData()?new F0(t.getIndex()):t.hasLimit()?new BU(t):new ku(t)}function sb(t){const e={};if(t.isDefault())return e;let n;return t.index_===lt?n="$priority":t.index_===FU?n="$value":t.index_===Yo?n="$key":(D(t.index_ instanceof DU,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Pt(n),t.startSet_&&(e.startAt=Pt(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+Pt(t.indexStartName_))),t.endSet_&&(e.endAt=Pt(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+Pt(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ob(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==lt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends gk{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=cc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Mh.getListenId_(e,r),a={};this.listens_[o]=a;const l=sb(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),ca(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=Mh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=sb(e._queryParams),r=e._path.toString(),i=new y0;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Da(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=wu(a.responseText)}catch{Fn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Fn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(){this.rootNode_=re.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(){return{value:null,children:new Map}}function kk(t,e,n){if(me(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=pe(e);t.children.has(r)||t.children.set(r,$h());const i=t.children.get(r);e=We(e),kk(i,e,n)}}function Sv(t,e,n){t.value!==null?n(e,t.value):jU(t,(r,i)=>{const s=new ze(e.toString()+"/"+r);Sv(i,s,n)})}function jU(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&On(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=10*1e3,HU=30*1e3,qU=5*60*1e3;class KU{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new WU(e);const r=ab+(HU-ab)*Math.random();zl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;On(e,(i,s)=>{s>0&&hi(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),zl(this.reportStats_.bind(this),Math.floor(Math.random()*2*qU))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(yr||(yr={}));function Rk(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function B0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function z0(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=yr.ACK_USER_WRITE,this.source=Rk()}operationForChild(e){if(me(this.path)){if(this.affectedTree.value!=null)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ze(e));return new Dh(ke(),n,this.revert)}}else return D(pe(this.path)===e,"operationForChild called for unrelated child."),new Dh(We(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n){this.source=e,this.path=n,this.type=yr.LISTEN_COMPLETE}operationForChild(e){return me(this.path)?new Ru(this.source,ke()):new Ru(this.source,We(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=yr.OVERWRITE}operationForChild(e){return me(this.path)?new Ks(this.source,ke(),this.snap.getImmediateChild(e)):new Ks(this.source,We(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=yr.MERGE}operationForChild(e){if(me(this.path)){const n=this.children.subtree(new ze(e));return n.isEmpty()?null:n.value?new Ks(this.source,ke(),n.value):new Pu(this.source,ke(),n)}else return D(pe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Pu(this.source,We(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(me(e))return this.isFullyInitialized()&&!this.filtered_;const n=pe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function QU(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(UU(o.childName,o.snapshotNode))}),fl(t,i,"child_removed",e,r,n),fl(t,i,"child_added",e,r,n),fl(t,i,"child_moved",s,r,n),fl(t,i,"child_changed",e,r,n),fl(t,i,"value",e,r,n),i}function fl(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>XU(t,a,l)),o.forEach(a=>{const l=YU(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function YU(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function XU(t,e,n){if(e.childName==null||n.childName==null)throw $a("Should only compare child_ events.");const r=new ce(e.childName,e.snapshotNode),i=new ce(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(t,e){return{eventCache:t,serverCache:e}}function Vl(t,e,n,r){return Uf(new Gs(e,n,r),t.serverCache)}function Pk(t,e,n,r){return Uf(t.eventCache,new Gs(e,n,r))}function xv(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Qs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bm;const JU=()=>(Bm||(Bm=new xn(DF)),Bm);class Qe{constructor(e,n=JU()){this.value=e,this.children=n}static fromObject(e){let n=new Qe(null);return On(e,(r,i)=>{n=n.set(new ze(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ke(),value:this.value};if(me(e))return null;{const r=pe(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(We(e),n);return s!=null?{path:yt(new ze(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(me(e))return this;{const n=pe(e),r=this.children.get(n);return r!==null?r.subtree(We(e)):new Qe(null)}}set(e,n){if(me(e))return new Qe(n,this.children);{const r=pe(e),s=(this.children.get(r)||new Qe(null)).set(We(e),n),o=this.children.insert(r,s);return new Qe(this.value,o)}}remove(e){if(me(e))return this.children.isEmpty()?new Qe(null):new Qe(null,this.children);{const n=pe(e),r=this.children.get(n);if(r){const i=r.remove(We(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Qe(null):new Qe(this.value,s)}else return this}}get(e){if(me(e))return this.value;{const n=pe(e),r=this.children.get(n);return r?r.get(We(e)):null}}setTree(e,n){if(me(e))return n;{const r=pe(e),s=(this.children.get(r)||new Qe(null)).setTree(We(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Qe(this.value,o)}}fold(e){return this.fold_(ke(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(yt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ke(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(me(e))return null;{const s=pe(e),o=this.children.get(s);return o?o.findOnPath_(We(e),yt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ke(),n)}foreachOnPath_(e,n,r){if(me(e))return this;{this.value&&r(n,this.value);const i=pe(e),s=this.children.get(i);return s?s.foreachOnPath_(We(e),yt(n,i),r):new Qe(null)}}foreach(e){this.foreach_(ke(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(yt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.writeTree_=e}static empty(){return new br(new Qe(null))}}function jl(t,e,n){if(me(e))return new br(new Qe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Sn(i,e);return s=s.updateChild(o,n),new br(t.writeTree_.set(i,s))}else{const i=new Qe(n),s=t.writeTree_.setTree(e,i);return new br(s)}}}function lb(t,e,n){let r=t;return On(n,(i,s)=>{r=jl(r,yt(e,i),s)}),r}function ub(t,e){if(me(e))return br.empty();{const n=t.writeTree_.setTree(e,new Qe(null));return new br(n)}}function Tv(t,e){return ao(t,e)!=null}function ao(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Sn(n.path,e)):null}function cb(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(lt,(r,i)=>{e.push(new ce(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ce(r,i.value))}),e}function zi(t,e){if(me(e))return t;{const n=ao(t,e);return n!=null?new br(new Qe(n)):new br(t.writeTree_.subtree(e))}}function Iv(t){return t.writeTree_.isEmpty()}function pa(t,e){return Nk(ke(),t.writeTree_,e)}function Nk(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(D(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Nk(yt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(yt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(t,e){return $k(e,t)}function ZU(t,e,n,r,i){D(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=jl(t.visibleWrites,e,n)),t.lastWriteId=r}function eB(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function tB(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&nB(a,r.path)?i=!1:vr(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return rB(t),!0;if(r.snap)t.visibleWrites=ub(t.visibleWrites,r.path);else{const a=r.children;On(a,l=>{t.visibleWrites=ub(t.visibleWrites,yt(r.path,l))})}return!0}else return!1}function nB(t,e){if(t.snap)return vr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&vr(yt(t.path,n),e))return!0;return!1}function rB(t){t.visibleWrites=Ak(t.allWrites,iB,ke()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function iB(t){return t.visible}function Ak(t,e,n){let r=br.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)vr(n,o)?(a=Sn(n,o),r=jl(r,a,s.snap)):vr(o,n)&&(a=Sn(o,n),r=jl(r,ke(),s.snap.getChild(a)));else if(s.children){if(vr(n,o))a=Sn(n,o),r=lb(r,a,s.children);else if(vr(o,n))if(a=Sn(o,n),me(a))r=lb(r,ke(),s.children);else{const l=ca(s.children,pe(a));if(l){const u=l.getChild(We(a));r=jl(r,ke(),u)}}}else throw $a("WriteRecord should have .snap or .children")}}return r}function Ok(t,e,n,r,i){if(!r&&!i){const s=ao(t.visibleWrites,e);if(s!=null)return s;{const o=zi(t.visibleWrites,e);if(Iv(o))return n;if(n==null&&!Tv(o,ke()))return null;{const a=n||re.EMPTY_NODE;return pa(o,a)}}}else{const s=zi(t.visibleWrites,e);if(!i&&Iv(s))return n;if(!i&&n==null&&!Tv(s,ke()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(vr(u.path,e)||vr(e,u.path))},a=Ak(t.allWrites,o,e),l=n||re.EMPTY_NODE;return pa(a,l)}}}function sB(t,e,n){let r=re.EMPTY_NODE;const i=ao(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(lt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=zi(t.visibleWrites,e);return n.forEachChild(lt,(o,a)=>{const l=pa(zi(s,new ze(o)),a);r=r.updateImmediateChild(o,l)}),cb(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=zi(t.visibleWrites,e);return cb(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function oB(t,e,n,r,i){D(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=yt(e,n);if(Tv(t.visibleWrites,s))return null;{const o=zi(t.visibleWrites,s);return Iv(o)?i.getChild(n):pa(o,i.getChild(n))}}function aB(t,e,n,r){const i=yt(e,n),s=ao(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=zi(t.visibleWrites,i);return pa(o,r.getNode().getImmediateChild(n))}else return null}function lB(t,e){return ao(t.visibleWrites,e)}function uB(t,e,n,r,i,s,o){let a;const l=zi(t.visibleWrites,e),u=ao(l,ke());if(u!=null)a=u;else if(n!=null)a=pa(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)d(f,r)!==0&&c.push(f),f=h.getNext();return c}else return[]}function cB(){return{visibleWrites:br.empty(),allWrites:[],lastWriteId:-1}}function Lh(t,e,n,r){return Ok(t.writeTree,t.treePath,e,n,r)}function j0(t,e){return sB(t.writeTree,t.treePath,e)}function db(t,e,n,r){return oB(t.writeTree,t.treePath,e,n,r)}function Fh(t,e){return lB(t.writeTree,yt(t.treePath,e))}function dB(t,e,n,r,i,s){return uB(t.writeTree,t.treePath,e,n,r,i,s)}function W0(t,e,n){return aB(t.writeTree,t.treePath,e,n)}function Mk(t,e){return $k(yt(t.treePath,e),t.writeTree)}function $k(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;D(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),D(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Iu(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Tu(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,fa(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Iu(r,e.snapshotNode,i.oldSnap));else throw $a("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Dk=new fB;class H0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Gs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return W0(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Qs(this.viewCache_),s=dB(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(t){return{filter:t}}function mB(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function gB(t,e,n,r,i){const s=new hB;let o,a;if(n.type===yr.OVERWRITE){const u=n;u.source.fromUser?o=kv(t,e,u.path,u.snap,r,i,s):(D(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!me(u.path),o=Uh(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===yr.MERGE){const u=n;u.source.fromUser?o=yB(t,e,u.path,u.children,r,i,s):(D(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=Rv(t,e,u.path,u.children,r,i,a,s))}else if(n.type===yr.ACK_USER_WRITE){const u=n;u.revert?o=EB(t,e,u.path,r,i,s):o=_B(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===yr.LISTEN_COMPLETE)o=wB(t,e,n.path,r,s);else throw $a("Unknown operation type: "+n.type);const l=s.getChanges();return vB(e,o,l),{viewCache:o,changes:l}}function vB(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=xv(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Ik(xv(e)))}}function Lk(t,e,n,r,i,s){const o=e.eventCache;if(Fh(r,n)!=null)return e;{let a,l;if(me(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Qs(e),c=u instanceof re?u:re.EMPTY_NODE,d=j0(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=Lh(r,Qs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=pe(n);if(u===".priority"){D(Hi(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=db(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=We(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=db(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=W0(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return Vl(e,a,o.isFullyInitialized()||me(n),t.filter.filtersNodes())}}function Uh(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(me(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=pe(n);if(!l.isCompleteForPath(n)&&Hi(n)>1)return e;const p=We(n),E=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?u=c.updatePriority(l.getNode(),E):u=c.updateChild(l.getNode(),f,E,p,Dk,null)}const d=Pk(e,u,l.isFullyInitialized()||me(n),c.filtersNodes()),h=new H0(i,d,s);return Lk(t,d,n,i,h,a)}function kv(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new H0(i,e,s);if(me(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Vl(e,u,!0,t.filter.filtersNodes());else{const d=pe(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Vl(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=We(n),f=a.getNode().getImmediateChild(d);let p;if(me(h))p=r;else{const m=c.getCompleteChild(d);m!=null?yk(h)===".priority"&&m.getChild(wk(h)).isEmpty()?p=m:p=m.updateChild(h,r):p=re.EMPTY_NODE}if(f.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,h,c,o);l=Vl(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function hb(t,e){return t.eventCache.isCompleteForChild(e)}function yB(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=yt(n,l);hb(e,pe(c))&&(a=kv(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=yt(n,l);hb(e,pe(c))||(a=kv(t,a,c,u,i,s,o))}),a}function fb(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Rv(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;me(n)?u=r:u=new Qe(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=fb(t,f,h);l=Uh(t,l,new ze(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),m=fb(t,p,h);l=Uh(t,l,new ze(d),m,i,s,o,a)}}),l}function _B(t,e,n,r,i,s,o){if(Fh(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(me(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Uh(t,e,n,l.getNode().getChild(n),i,s,a,o);if(me(n)){let u=new Qe(null);return l.getNode().forEachChild(Yo,(c,d)=>{u=u.set(new ze(c),d)}),Rv(t,e,n,u,i,s,a,o)}else return e}else{let u=new Qe(null);return r.foreach((c,d)=>{const h=yt(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),Rv(t,e,n,u,i,s,a,o)}}function wB(t,e,n,r,i){const s=e.serverCache,o=Pk(e,s.getNode(),s.isFullyInitialized()||me(n),s.isFiltered());return Lk(t,o,n,r,Dk,i)}function EB(t,e,n,r,i,s){let o;if(Fh(r,n)!=null)return e;{const a=new H0(r,e,i),l=e.eventCache.getNode();let u;if(me(n)||pe(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Lh(r,Qs(e));else{const d=e.serverCache.getNode();D(d instanceof re,"serverChildren would be complete if leaf node"),c=j0(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=pe(n);let d=W0(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,We(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,re.EMPTY_NODE,We(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Lh(r,Qs(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Fh(r,ke())!=null,Vl(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new F0(r.getIndex()),s=zU(r);this.processor_=pB(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(re.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(re.EMPTY_NODE,a.getNode(),null),c=new Gs(l,o.isFullyInitialized(),i.filtersNodes()),d=new Gs(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Uf(d,c),this.eventGenerator_=new GU(this.query_)}get query(){return this.query_}}function CB(t){return t.viewCache_.serverCache.getNode()}function SB(t,e){const n=Qs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!me(e)&&!n.getImmediateChild(pe(e)).isEmpty())?n.getChild(e):null}function pb(t){return t.eventRegistrations_.length===0}function xB(t,e){t.eventRegistrations_.push(e)}function mb(t,e,n){const r=[];if(n){D(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function gb(t,e,n,r){e.type===yr.MERGE&&e.source.queryId!==null&&(D(Qs(t.viewCache_),"We should always have a full cache before handling merges"),D(xv(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=gB(t.processor_,i,e,n,r);return mB(t.processor_,s.viewCache),D(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Fk(t,s.changes,s.viewCache.eventCache.getNode(),null)}function TB(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(lt,(s,o)=>{r.push(fa(s,o))}),n.isFullyInitialized()&&r.push(Ik(n.getNode())),Fk(t,r,n.getNode(),e)}function Fk(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return QU(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh;class IB{constructor(){this.views=new Map}}function kB(t){D(!Bh,"__referenceConstructor has already been defined"),Bh=t}function RB(){return D(Bh,"Reference.ts has not been loaded"),Bh}function PB(t){return t.views.size===0}function q0(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return D(s!=null,"SyncTree gave us an op for an invalid query."),gb(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(gb(o,e,n,r));return s}}function NB(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Lh(n,i?r:null),l=!1;a?l=!0:r instanceof re?(a=j0(n,r),l=!1):(a=re.EMPTY_NODE,l=!1);const u=Uf(new Gs(a,l,!1),new Gs(r,i,!1));return new bB(e,u)}return o}function AB(t,e,n,r,i,s){const o=NB(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),xB(o,n),TB(o,n)}function OB(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=qi(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(mb(u,n,r)),pb(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(mb(l,n,r)),pb(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!qi(t)&&s.push(new(RB())(e._repo,e._path)),{removed:s,events:o}}function Uk(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Xo(t,e){let n=null;for(const r of t.views.values())n=n||SB(r,e);return n}function Bk(t,e){if(e._queryParams.loadsAllData())return Bf(t);{const r=e._queryIdentifier;return t.views.get(r)}}function zk(t,e){return Bk(t,e)!=null}function qi(t){return Bf(t)!=null}function Bf(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh;function MB(t){D(!zh,"__referenceConstructor has already been defined"),zh=t}function $B(){return D(zh,"Reference.ts has not been loaded"),zh}let DB=1;class vb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Qe(null),this.pendingWriteTree_=cB(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function LB(t,e,n,r,i){return ZU(t.pendingWriteTree_,e,n,r,i),i?fc(t,new Ks(Rk(),e,n)):[]}function Fo(t,e,n=!1){const r=eB(t.pendingWriteTree_,e);if(tB(t.pendingWriteTree_,e)){let s=new Qe(null);return r.snap!=null?s=s.set(ke(),!0):On(r.children,o=>{s=s.set(new ze(o),!0)}),fc(t,new Dh(r.path,s,n))}else return[]}function zf(t,e,n){return fc(t,new Ks(B0(),e,n))}function FB(t,e,n){const r=Qe.fromObject(n);return fc(t,new Pu(B0(),e,r))}function UB(t,e){return fc(t,new Ru(B0(),e))}function BB(t,e,n){const r=K0(t,n);if(r){const i=G0(r),s=i.path,o=i.queryId,a=Sn(s,e),l=new Ru(z0(o),a);return Q0(t,s,l)}else return[]}function Pv(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||zk(o,e))){const l=OB(o,e,n,r);PB(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,f)=>qi(f));if(c&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const f=jB(h);for(let p=0;p<f.length;++p){const m=f[p],E=m.query,g=Hk(t,m);t.listenProvider_.startListening(Wl(E),Vh(t,E),g.hashFn,g.onComplete)}}}!d&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(Wl(e),null):u.forEach(h=>{const f=t.queryToTagMap.get(Vf(h));t.listenProvider_.stopListening(Wl(h),f)}))}WB(t,u)}return a}function zB(t,e,n,r){const i=K0(t,r);if(i!=null){const s=G0(i),o=s.path,a=s.queryId,l=Sn(o,e),u=new Ks(z0(a),l,n);return Q0(t,o,u)}else return[]}function VB(t,e,n,r){const i=K0(t,r);if(i){const s=G0(i),o=s.path,a=s.queryId,l=Sn(o,e),u=Qe.fromObject(n),c=new Pu(z0(a),l,u);return Q0(t,o,c)}else return[]}function yb(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{const p=Sn(h,i);s=s||Xo(f,p),o=o||qi(f)});let a=t.syncPointTree_.get(i);a?(o=o||qi(a),s=s||Xo(a,ke())):(a=new IB,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=re.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,p)=>{const m=Xo(p,ke());m&&(s=s.updateImmediateChild(f,m))}));const u=zk(a,e);if(!u&&!e._queryParams.loadsAllData()){const h=Vf(e);D(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=HB();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}const c=V0(t.pendingWriteTree_,i);let d=AB(a,e,n,c,s,l);if(!u&&!o&&!r){const h=Bk(a,e);d=d.concat(qB(t,e,h))}return d}function Vk(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Sn(o,e),u=Xo(a,l);if(u)return u});return Ok(i,e,s,n,!0)}function fc(t,e){return jk(e,t.syncPointTree_,null,V0(t.pendingWriteTree_,ke()))}function jk(t,e,n,r){if(me(t.path))return Wk(t,e,n,r);{const i=e.get(ke());n==null&&i!=null&&(n=Xo(i,ke()));let s=[];const o=pe(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=Mk(r,o);s=s.concat(jk(a,l,u,c))}return i&&(s=s.concat(q0(i,t,r,n))),s}}function Wk(t,e,n,r){const i=e.get(ke());n==null&&i!=null&&(n=Xo(i,ke()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=Mk(r,o),c=t.operationForChild(o);c&&(s=s.concat(Wk(c,a,l,u)))}),i&&(s=s.concat(q0(i,t,r,n))),s}function Hk(t,e){const n=e.query,r=Vh(t,n);return{hashFn:()=>(CB(e)||re.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?BB(t,n._path,r):UB(t,n._path);{const s=UF(i,n);return Pv(t,n,null,s)}}}}function Vh(t,e){const n=Vf(e);return t.queryToTagMap.get(n)}function Vf(t){return t._path.toString()+"$"+t._queryIdentifier}function K0(t,e){return t.tagToQueryMap.get(e)}function G0(t){const e=t.indexOf("$");return D(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ze(t.substr(0,e))}}function Q0(t,e,n){const r=t.syncPointTree_.get(e);D(r,"Missing sync point for query tag that we're tracking");const i=V0(t.pendingWriteTree_,e);return q0(r,n,i,null)}function jB(t){return t.fold((e,n,r)=>{if(n&&qi(n))return[Bf(n)];{let i=[];return n&&(i=Uk(n)),On(r,(s,o)=>{i=i.concat(o)}),i}})}function Wl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new($B())(t._repo,t._path):t}function WB(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Vf(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function HB(){return DB++}function qB(t,e,n){const r=e._path,i=Vh(t,e),s=Hk(t,n),o=t.listenProvider_.startListening(Wl(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)D(!qi(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!me(u)&&c&&qi(c))return[Bf(c).query];{let h=[];return c&&(h=h.concat(Uk(c).map(f=>f.query))),On(d,(f,p)=>{h=h.concat(p)}),h}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(Wl(c),Vh(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Y0(n)}node(){return this.node_}}class X0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=yt(this.path_,e);return new X0(this.syncTree_,n)}node(){return Vk(this.syncTree_,this.path_)}}const KB=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},_b=function(t,e,n){if(!t||typeof t!="object")return t;if(D(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return GB(t[".sv"],e,n);if(typeof t[".sv"]=="object")return QB(t[".sv"],e);D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},GB=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:D(!1,"Unexpected server value: "+t)}},QB=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&D(!1,"Unexpected increment value: "+r);const i=e.node();if(D(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},YB=function(t,e,n,r){return J0(e,new X0(n,t),r)},XB=function(t,e,n){return J0(t,new Y0(e),n)};function J0(t,e,n){const r=t.getPriority().val(),i=_b(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=_b(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Tt(a,en(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Tt(i))),o.forEachChild(lt,(a,l)=>{const u=J0(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function e_(t,e){let n=e instanceof ze?e:new ze(e),r=t,i=pe(n);for(;i!==null;){const s=ca(r.node.children,i)||{children:{},childCount:0};r=new Z0(i,r,s),n=We(n),i=pe(n)}return r}function Ua(t){return t.node.value}function qk(t,e){t.node.value=e,Nv(t)}function Kk(t){return t.node.childCount>0}function JB(t){return Ua(t)===void 0&&!Kk(t)}function jf(t,e){On(t.node.children,(n,r)=>{e(new Z0(n,t,r))})}function Gk(t,e,n,r){n&&!r&&e(t),jf(t,i=>{Gk(i,e,!0,r)}),n&&r&&e(t)}function ZB(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function pc(t){return new ze(t.parent===null?t.name:pc(t.parent)+"/"+t.name)}function Nv(t){t.parent!==null&&e4(t.parent,t.name,t)}function e4(t,e,n){const r=JB(n),i=hi(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Nv(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Nv(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=/[\[\].#$\/\u0000-\u001F\u007F]/,n4=/[\[\].#$\u0000-\u001F\u007F]/,zm=10*1024*1024,Qk=function(t){return typeof t=="string"&&t.length!==0&&!t4.test(t)},Yk=function(t){return typeof t=="string"&&t.length!==0&&!n4.test(t)},r4=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Yk(t)},Xk=function(t,e,n){const r=n instanceof ze?new _U(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+fs(r));if(typeof e=="function")throw new Error(t+"contains a function "+fs(r)+" with contents = "+e.toString());if(JI(e))throw new Error(t+"contains "+e.toString()+" "+fs(r));if(typeof e=="string"&&e.length>zm/3&&Of(e)>zm)throw new Error(t+"contains a string greater than "+zm+" utf8 bytes "+fs(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(On(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Qk(o)))throw new Error(t+" contains an invalid key ("+o+") "+fs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);wU(r,o),Xk(t,a,r),EU(r)}),i&&s)throw new Error(t+' contains ".value" child '+fs(r)+" in addition to actual children.")}},Jk=function(t,e,n,r){if(!(r&&n===void 0)&&!Yk(n))throw new Error(fI(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},i4=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Jk(t,e,n,r)},s4=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Qk(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!r4(n))throw new Error(fI(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Zk(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!$0(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function eR(t,e,n){Zk(t,n),tR(t,r=>$0(r,e))}function lo(t,e,n){Zk(t,n),tR(t,r=>vr(r,e)||vr(e,r))}function tR(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(a4(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function a4(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();As&&Zt("event: "+n.toString()),dc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="repo_interrupt",u4=25;class c4{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new o4,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=$h(),this.transactionQueueTree_=new Z0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function d4(t,e,n){if(t.stats_=O0(t.repoInfo_),t.forceRestClient_||jF())t.server_=new Mh(t.repoInfo_,(r,i,s,o)=>{wb(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Eb(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Pt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Jr(t.repoInfo_,e,(r,i,s,o)=>{wb(t,r,i,s,o)},r=>{Eb(t,r)},r=>{f4(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=QF(t.repoInfo_,()=>new KU(t.stats_,t.server_)),t.infoData_=new VU,t.infoSyncTree_=new vb({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=zf(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),t_(t,"connected",!1),t.serverSyncTree_=new vb({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);lo(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function h4(t){const n=t.infoData_.getNode(new ze(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function nR(t){return KB({timestamp:h4(t)})}function wb(t,e,n,r,i){t.dataUpdateCount++;const s=new ze(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=xh(n,u=>en(u));o=VB(t.serverSyncTree_,s,l,i)}else{const l=en(n);o=zB(t.serverSyncTree_,s,l,i)}else if(r){const l=xh(n,u=>en(u));o=FB(t.serverSyncTree_,s,l)}else{const l=en(n);o=zf(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=r_(t,s)),lo(t.eventQueue_,a,o)}function Eb(t,e){t_(t,"connected",e),e===!1&&m4(t)}function f4(t,e){On(e,(n,r)=>{t_(t,n,r)})}function t_(t,e,n){const r=new ze("/.info/"+e),i=en(n);t.infoData_.updateSnapshot(r,i);const s=zf(t.infoSyncTree_,r,i);lo(t.eventQueue_,r,s)}function p4(t){return t.nextWriteId_++}function m4(t){rR(t,"onDisconnectEvents");const e=nR(t),n=$h();Sv(t.onDisconnect_,ke(),(i,s)=>{const o=YB(i,s,t.serverSyncTree_,e);kk(n,i,o)});let r=[];Sv(n,ke(),(i,s)=>{r=r.concat(zf(t.serverSyncTree_,i,s));const o=w4(t,i);r_(t,o)}),t.onDisconnect_=$h(),lo(t.eventQueue_,ke(),r)}function g4(t,e,n){let r;pe(e._path)===".info"?r=yb(t.infoSyncTree_,e,n):r=yb(t.serverSyncTree_,e,n),eR(t.eventQueue_,e._path,r)}function bb(t,e,n){let r;pe(e._path)===".info"?r=Pv(t.infoSyncTree_,e,n):r=Pv(t.serverSyncTree_,e,n),eR(t.eventQueue_,e._path,r)}function v4(t){t.persistentConnection_&&t.persistentConnection_.interrupt(l4)}function rR(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Zt(n,...e)}function iR(t,e,n){return Vk(t.serverSyncTree_,e,n)||re.EMPTY_NODE}function n_(t,e=t.transactionQueueTree_){if(e||Wf(t,e),Ua(e)){const n=oR(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&y4(t,pc(e),n)}else Kk(e)&&jf(e,n=>{n_(t,n)})}function y4(t,e,n){const r=n.map(u=>u.currentWriteId),i=iR(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];D(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Sn(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{rR(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(Fo(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Wf(t,e_(t.transactionQueueTree_,e)),n_(t,t.transactionQueueTree_),lo(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)dc(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Fn("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}r_(t,e)}},o)}function r_(t,e){const n=sR(t,e),r=pc(n),i=oR(t,n);return _4(t,i,r),r}function _4(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Sn(n,l.path);let c=!1,d;if(D(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(Fo(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=u4)c=!0,d="maxretry",i=i.concat(Fo(t.serverSyncTree_,l.currentWriteId,!0));else{const h=iR(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){Xk("transaction failed: Data returned ",f,l.path);let p=en(f);typeof f=="object"&&f!=null&&hi(f,".priority")||(p=p.updatePriority(h.getPriority()));const E=l.currentWriteId,g=nR(t),v=XB(p,h,g);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=p4(t),o.splice(o.indexOf(E),1),i=i.concat(LB(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),i=i.concat(Fo(t.serverSyncTree_,E,!0))}else c=!0,d="nodata",i=i.concat(Fo(t.serverSyncTree_,l.currentWriteId,!0))}lo(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Wf(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)dc(r[a]);n_(t,t.transactionQueueTree_)}function sR(t,e){let n,r=t.transactionQueueTree_;for(n=pe(e);n!==null&&Ua(r)===void 0;)r=e_(r,n),e=We(e),n=pe(e);return r}function oR(t,e){const n=[];return aR(t,e,n),n.sort((r,i)=>r.order-i.order),n}function aR(t,e,n){const r=Ua(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);jf(e,i=>{aR(t,i,n)})}function Wf(t,e){const n=Ua(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,qk(e,n.length>0?n:void 0)}jf(e,r=>{Wf(t,r)})}function w4(t,e){const n=pc(sR(t,e)),r=e_(t.transactionQueueTree_,e);return ZB(r,i=>{Vm(t,i)}),Vm(t,r),Gk(r,i=>{Vm(t,i)}),n}function Vm(t,e){const n=Ua(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(D(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(D(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Fo(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?qk(e,void 0):n.length=s+1,lo(t.eventQueue_,pc(e),i);for(let o=0;o<r.length;o++)dc(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function b4(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Fn(`Invalid query segment '${n}' in query '${t}'`)}return e}const Cb=function(t,e){const n=C4(t),r=n.namespace;n.domain==="firebase.com"&&Hs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Hs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||MF();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new qF(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ze(n.pathString)}},C4=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=E4(t.substring(c,d)));const h=b4(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Pt(this.snapshot.exportVal())}}class uR{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return me(this._path)?null:yk(this._path)}get ref(){return new fi(this._repo,this._path)}get _queryIdentifier(){const e=ob(this._queryParams),n=N0(e);return n==="{}"?"default":n}get _queryObject(){return ob(this._queryParams)}isEqual(e){if(e=Ot(e),!(e instanceof i_))return!1;const n=this._repo===e._repo,r=$0(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+yU(this._path)}}class fi extends i_{constructor(e,n){super(e,n,new U0,!1)}get parent(){const e=wk(this._path);return e===null?null:new fi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Nu{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ze(e),r=Av(this.ref,e);return new Nu(this._node.getChild(n),r,lt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Nu(i,Av(this.ref,r),lt)))}hasChild(e){const n=new ze(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Av(t,e){return t=Ot(t),pe(t._path)===null?i4("child","path",e,!1):Jk("child","path",e,!1),new fi(t._repo,yt(t._path,e))}class s_{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new lR("value",this,new Nu(e.snapshotNode,new fi(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new uR(this,e,n):null}matches(e){return e instanceof s_?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class o_{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new uR(this,e,n):null}createEvent(e,n){D(e.childName!=null,"Child events should have a childName.");const r=Av(new fi(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new lR(e.type,this,new Nu(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof o_?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function mc(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,u=(c,d)=>{bb(t._repo,t,a),l(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new S4(n,s||void 0),a=e==="value"?new s_(o):new o_(e,o);return g4(t._repo,t,a),()=>bb(t._repo,t,a)}function x4(t,e,n,r){return mc(t,"value",e,n,r)}function T4(t,e,n,r){return mc(t,"child_added",e,n,r)}function I4(t,e,n,r){return mc(t,"child_changed",e,n,r)}function k4(t,e,n,r){return mc(t,"child_moved",e,n,r)}function R4(t,e,n,r){return mc(t,"child_removed",e,n,r)}kB(fi);MB(fi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4="FIREBASE_DATABASE_EMULATOR_HOST",Ov={};let N4=!1;function A4(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Hs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Zt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Cb(s,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[P4]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=Cb(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new Ev(Ev.OWNER):new HF(t.name,t.options,e);s4("Invalid Firebase Database URL",o),me(o.path)||Hs("Database URL must point to the root of a Firebase Database (not including a child path).");const d=M4(a,t,c,new WF(t.name,n));return new $4(d,t)}function O4(t,e){const n=Ov[e];(!n||n[t.key]!==t)&&Hs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),v4(t),delete n[t.key]}function M4(t,e,n,r){let i=Ov[e.name];i||(i={},Ov[e.name]=i);let s=i[t.toURLString()];return s&&Hs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new c4(t,N4,n,r),i[t.toURLString()]=s,s}class $4{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(d4(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new fi(this._repo,ke())),this._rootInternal}_delete(){return this._rootInternal!==null&&(O4(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Hs("Cannot call "+e+" on a deleted database.")}}function D4(t=E0(),e){return La(t,"database").getImmediate({identifier:e})}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t){RF(ns),sr(new zn("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return A4(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),pt(jE,WE,t),pt(jE,WE,"esm2017")}Jr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Jr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};L4();var F4="firebase",U4="9.9.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pt(F4,U4,"app");var B4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W,a_=a_||{},se=B4||self;function jh(){}function Mv(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function gc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function z4(t){return Object.prototype.hasOwnProperty.call(t,jm)&&t[jm]||(t[jm]=++V4)}var jm="closure_uid_"+(1e9*Math.random()>>>0),V4=0;function j4(t,e,n){return t.call.apply(t.bind,arguments)}function W4(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Vt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Vt=j4:Vt=W4,Vt.apply(null,arguments)}function ld(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function qt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function rs(){this.s=this.s,this.o=this.o}var H4=0;rs.prototype.s=!1;rs.prototype.na=function(){!this.s&&(this.s=!0,this.M(),H4!=0)&&z4(this)};rs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const cR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},dR=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i=typeof t=="string"?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function q4(t){e:{var e=Lz;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function Sb(t){return Array.prototype.concat.apply([],arguments)}function l_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Wh(t){return/^[\s\xa0]*$/.test(t)}var xb=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function cn(t,e){return t.indexOf(e)!=-1}function Wm(t,e){return t<e?-1:t>e?1:0}var dn;e:{var Tb=se.navigator;if(Tb){var Ib=Tb.userAgent;if(Ib){dn=Ib;break e}}dn=""}function u_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function hR(t){const e={};for(const n in t)e[n]=t[n];return e}var kb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fR(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<kb.length;s++)n=kb[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function c_(t){return c_[" "](t),t}c_[" "]=jh;function K4(t){var e=Y4;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var G4=cn(dn,"Opera"),ma=cn(dn,"Trident")||cn(dn,"MSIE"),pR=cn(dn,"Edge"),$v=pR||ma,mR=cn(dn,"Gecko")&&!(cn(dn.toLowerCase(),"webkit")&&!cn(dn,"Edge"))&&!(cn(dn,"Trident")||cn(dn,"MSIE"))&&!cn(dn,"Edge"),Q4=cn(dn.toLowerCase(),"webkit")&&!cn(dn,"Edge");function gR(){var t=se.document;return t?t.documentMode:void 0}var Hh;e:{var Hm="",qm=function(){var t=dn;if(mR)return/rv:([^\);]+)(\)|;)/.exec(t);if(pR)return/Edge\/([\d\.]+)/.exec(t);if(ma)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Q4)return/WebKit\/(\S+)/.exec(t);if(G4)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(qm&&(Hm=qm?qm[1]:""),ma){var Km=gR();if(Km!=null&&Km>parseFloat(Hm)){Hh=String(Km);break e}}Hh=Hm}var Y4={};function X4(){return K4(function(){let t=0;const e=xb(String(Hh)).split("."),n=xb("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Wm(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Wm(i[2].length==0,s[2].length==0)||Wm(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Dv;if(se.document&&ma){var Rb=gR();Dv=Rb||parseInt(Hh,10)||void 0}else Dv=void 0;var J4=Dv,Z4=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{se.addEventListener("test",jh,e),se.removeEventListener("test",jh,e)}catch{}return t}();function nn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}nn.prototype.h=function(){this.defaultPrevented=!0};function Au(t,e){if(nn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(mR){e:{try{c_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:ez[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Au.Z.h.call(this)}}qt(Au,nn);var ez={2:"touch",3:"pen",4:"mouse"};Au.prototype.h=function(){Au.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var vc="closure_listenable_"+(1e6*Math.random()|0),tz=0;function nz(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++tz,this.ca=this.fa=!1}function Hf(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function qf(t){this.src=t,this.g={},this.h=0}qf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Fv(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new nz(e,this.src,s,!!r,i),e.fa=n,t.push(e)),e};function Lv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=cR(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Hf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Fv(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}var d_="closure_lm_"+(1e6*Math.random()|0),Gm={};function vR(t,e,n,r,i){if(r&&r.once)return _R(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)vR(t,e[s],n,r,i);return null}return n=p_(n),t&&t[vc]?t.N(e,n,gc(r)?!!r.capture:!!r,i):yR(t,e,n,!1,r,i)}function yR(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=gc(i)?!!i.capture:!!i,a=f_(t);if(a||(t[d_]=a=new qf(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=rz(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Z4||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ER(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function rz(){function t(n){return e.call(t.src,t.listener,n)}var e=iz;return t}function _R(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)_R(t,e[s],n,r,i);return null}return n=p_(n),t&&t[vc]?t.O(e,n,gc(r)?!!r.capture:!!r,i):yR(t,e,n,!0,r,i)}function wR(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)wR(t,e[s],n,r,i);else r=gc(r)?!!r.capture:!!r,n=p_(n),t&&t[vc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Fv(s,n,r,i),-1<n&&(Hf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=f_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Fv(e,n,r,i)),(n=-1<t?e[t]:null)&&h_(n))}function h_(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[vc])Lv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ER(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=f_(e))?(Lv(n,t),n.h==0&&(n.src=null,e[d_]=null)):Hf(t)}}}function ER(t){return t in Gm?Gm[t]:Gm[t]="on"+t}function iz(t,e){if(t.ca)t=!0;else{e=new Au(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&h_(t),t=n.call(r,e)}return t}function f_(t){return t=t[d_],t instanceof qf?t:null}var Qm="__closure_events_fn_"+(1e9*Math.random()>>>0);function p_(t){return typeof t=="function"?t:(t[Qm]||(t[Qm]=function(e){return t.handleEvent(e)}),t[Qm])}function Mt(){rs.call(this),this.i=new qf(this),this.P=this,this.I=null}qt(Mt,rs);Mt.prototype[vc]=!0;Mt.prototype.removeEventListener=function(t,e,n,r){wR(this,t,e,n,r)};function jt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new nn(e,t);else if(e instanceof nn)e.target=e.target||t;else{var i=e;e=new nn(r,t),fR(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ud(o,r,!0,e)&&i}if(o=e.g=t,i=ud(o,r,!0,e)&&i,i=ud(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=ud(o,r,!1,e)&&i}Mt.prototype.M=function(){if(Mt.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Hf(n[r]);delete t.g[e],t.h--}}this.I=null};Mt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Mt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ud(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&Lv(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var m_=se.JSON.stringify;function sz(){var t=CR;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class oz{constructor(){this.h=this.g=null}add(e,n){const r=bR.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var bR=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new az,t=>t.reset());class az{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function lz(t){se.setTimeout(()=>{throw t},0)}function g_(t,e){Uv||uz(),Bv||(Uv(),Bv=!0),CR.add(t,e)}var Uv;function uz(){var t=se.Promise.resolve(void 0);Uv=function(){t.then(cz)}}var Bv=!1,CR=new oz;function cz(){for(var t;t=sz();){try{t.h.call(t.g)}catch(n){lz(n)}var e=bR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Bv=!1}function Kf(t,e){Mt.call(this),this.h=t||1,this.g=e||se,this.j=Vt(this.kb,this),this.l=Date.now()}qt(Kf,Mt);W=Kf.prototype;W.da=!1;W.S=null;W.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),jt(this,"tick"),this.da&&(v_(this),this.start()))}};W.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function v_(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}W.M=function(){Kf.Z.M.call(this),v_(this),delete this.g};function y_(t,e,n){if(typeof t=="function")n&&(t=Vt(t,n));else if(t&&typeof t.handleEvent=="function")t=Vt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:se.setTimeout(t,e||0)}function SR(t){t.g=y_(()=>{t.g=null,t.i&&(t.i=!1,SR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class dz extends rs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:SR(this)}M(){super.M(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ou(t){rs.call(this),this.h=t,this.g={}}qt(Ou,rs);var Pb=[];function xR(t,e,n,r){Array.isArray(n)||(n&&(Pb[0]=n.toString()),n=Pb);for(var i=0;i<n.length;i++){var s=vR(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function TR(t){u_(t.g,function(e,n){this.g.hasOwnProperty(n)&&h_(e)},t),t.g={}}Ou.prototype.M=function(){Ou.Z.M.call(this),TR(this)};Ou.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Gf(){this.g=!0}Gf.prototype.Aa=function(){this.g=!1};function hz(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function fz(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Uo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+mz(t,n)+(r?" "+r:"")})}function pz(t,e){t.info(function(){return"TIMEOUT: "+e})}Gf.prototype.info=function(){};function mz(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return m_(n)}catch{return e}}var uo={},Nb=null;function Qf(){return Nb=Nb||new Mt}uo.Ma="serverreachability";function IR(t){nn.call(this,uo.Ma,t)}qt(IR,nn);function Mu(t){const e=Qf();jt(e,new IR(e))}uo.STAT_EVENT="statevent";function kR(t,e){nn.call(this,uo.STAT_EVENT,t),this.stat=e}qt(kR,nn);function hn(t){const e=Qf();jt(e,new kR(e,t))}uo.Na="timingevent";function RR(t,e){nn.call(this,uo.Na,t),this.size=e}qt(RR,nn);function yc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){t()},e)}var Yf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},PR={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function __(){}__.prototype.h=null;function Ab(t){return t.h||(t.h=t.i())}function NR(){}var _c={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function w_(){nn.call(this,"d")}qt(w_,nn);function E_(){nn.call(this,"c")}qt(E_,nn);var zv;function Xf(){}qt(Xf,__);Xf.prototype.g=function(){return new XMLHttpRequest};Xf.prototype.i=function(){return{}};zv=new Xf;function wc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Ou(this),this.P=gz,t=$v?125:void 0,this.W=new Kf(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new AR}function AR(){this.i=null,this.g="",this.h=!1}var gz=45e3,Vv={},qh={};W=wc.prototype;W.setTimeout=function(t){this.P=t};function jv(t,e,n){t.K=1,t.v=Zf(oi(e)),t.s=n,t.U=!0,OR(t,null)}function OR(t,e){t.F=Date.now(),Ec(t),t.A=oi(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),BR(n.h,"t",r),t.C=0,n=t.l.H,t.h=new AR,t.g=oP(t.l,n?e:null,!t.s),0<t.O&&(t.L=new dz(Vt(t.Ia,t,t.g),t.O)),xR(t.V,t.g,"readystatechange",t.gb),e=t.H?hR(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Mu(),hz(t.j,t.u,t.A,t.m,t.X,t.s)}W.gb=function(t){t=t.target;const e=this.L;e&&Yr(t)==3?e.l():this.Ia(t)};W.Ia=function(t){try{if(t==this.g)e:{const c=Yr(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>c)&&(c!=3||$v||this.g&&(this.h.h||this.g.ga()||Db(this.g)))){this.I||c!=4||e==7||(e==8||0>=d?Mu(3):Mu(2)),Jf(this);var n=this.g.ba();this.N=n;t:if(MR(this)){var r=Db(this.g);t="";var i=r.length,s=Yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cs(this),Hl(this);var o="";break t}this.h.i=new se.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,fz(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wh(a)){var u=a;break t}}u=null}if(n=u)Uo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Wv(this,n);else{this.i=!1,this.o=3,hn(12),Cs(this),Hl(this);break e}}this.U?($R(this,c,o),$v&&this.i&&c==3&&(xR(this.V,this.W,"tick",this.fb),this.W.start())):(Uo(this.j,this.m,o,null),Wv(this,o)),c==4&&Cs(this),this.i&&!this.I&&(c==4?nP(this.l,this):(this.i=!1,Ec(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,hn(12)):(this.o=0,hn(13)),Cs(this),Hl(this)}}}catch{}finally{}};function MR(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function $R(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=vz(t,n),i==qh){e==4&&(t.o=4,hn(14),r=!1),Uo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Vv){t.o=4,hn(15),Uo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Uo(t.j,t.m,i,null),Wv(t,i);MR(t)&&i!=qh&&i!=Vv&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,hn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),P_(e),e.L=!0,hn(11))):(Uo(t.j,t.m,n,"[Invalid Chunked Response]"),Cs(t),Hl(t))}W.fb=function(){if(this.g){var t=Yr(this.g),e=this.g.ga();this.C<e.length&&(Jf(this),$R(this,t,e),this.i&&t!=4&&Ec(this))}};function vz(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?qh:(n=Number(e.substring(n,r)),isNaN(n)?Vv:(r+=1,r+n>e.length?qh:(e=e.substr(r,n),t.C=r+n,e)))}W.cancel=function(){this.I=!0,Cs(this)};function Ec(t){t.Y=Date.now()+t.P,DR(t,t.P)}function DR(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=yc(Vt(t.eb,t),e)}function Jf(t){t.B&&(se.clearTimeout(t.B),t.B=null)}W.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(pz(this.j,this.A),this.K!=2&&(Mu(),hn(17)),Cs(this),this.o=2,Hl(this)):DR(this,this.Y-t)};function Hl(t){t.l.G==0||t.I||nP(t.l,t)}function Cs(t){Jf(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,v_(t.W),TR(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Wv(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Hv(n.i,t))){if(n.I=t.N,!t.J&&Hv(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Yh(n),np(n);else break e;R_(n),hn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=yc(Vt(n.ab,n),6e3));if(1>=jR(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Ss(n,11)}else if((t.J||n.g==t)&&Yh(n),!Wh(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];const c=u[3];c!=null&&(n.ma=c,n.h.info("VER="+n.ma));const d=u[4];d!=null&&(n.za=d,n.h.info("SVER="+n.za));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(cn(p,"spdy")||cn(p,"quic")||cn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(S_(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,et(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var o=t;if(r.oa=sP(r,r.H?r.la:null,r.W),o.J){WR(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(Jf(a),Ec(a)),r.g=o}else eP(r);0<n.l.length&&rp(n)}else u[0]!="stop"&&u[0]!="close"||Ss(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ss(n,7):k_(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}Mu(4)}catch{}}function yz(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Mv(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function b_(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Mv(t)||typeof t=="string")dR(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Mv(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=yz(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Ba(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ba)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}W=Ba.prototype;W.R=function(){C_(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};W.T=function(){return C_(this),this.g.concat()};function C_(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ys(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],Ys(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}W.get=function(t,e){return Ys(this.h,t)?this.h[t]:e};W.set=function(t,e){Ys(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};W.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};function Ys(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var LR=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _z(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Xs(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Xs){this.g=e!==void 0?e:t.g,Kh(this,t.j),this.s=t.s,Gh(this,t.i),Qh(this,t.m),this.l=t.l,e=t.h;var n=new $u;n.i=e.i,e.g&&(n.g=new Ba(e.g),n.h=e.h),Ob(this,n),this.o=t.o}else t&&(n=String(t).match(LR))?(this.g=!!e,Kh(this,n[1]||"",!0),this.s=ql(n[2]||""),Gh(this,n[3]||"",!0),Qh(this,n[4]),this.l=ql(n[5]||"",!0),Ob(this,n[6]||"",!0),this.o=ql(n[7]||"")):(this.g=!!e,this.h=new $u(null,this.g))}Xs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(xl(e,Mb,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(xl(e,Mb,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(xl(n,n.charAt(0)=="/"?Sz:Cz,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",xl(n,Tz)),t.join("")};function oi(t){return new Xs(t)}function Kh(t,e,n){t.j=n?ql(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Gh(t,e,n){t.i=n?ql(e,!0):e}function Qh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ob(t,e,n){e instanceof $u?(t.h=e,Iz(t.h,t.g)):(n||(e=xl(e,xz)),t.h=new $u(e,t.g))}function et(t,e,n){t.h.set(e,n)}function Zf(t){return et(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function wz(t){return t instanceof Xs?oi(t):new Xs(t,void 0)}function Ez(t,e,n,r){var i=new Xs(null,void 0);return t&&Kh(i,t),e&&Gh(i,e),n&&Qh(i,n),r&&(i.l=r),i}function ql(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function xl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,bz),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function bz(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Mb=/[#\/\?@]/g,Cz=/[#\?:]/g,Sz=/[#\?]/g,xz=/[#\?@]/g,Tz=/#/g;function $u(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function is(t){t.g||(t.g=new Ba,t.h=0,t.i&&_z(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}W=$u.prototype;W.add=function(t,e){is(this),this.i=null,t=za(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function FR(t,e){is(t),e=za(t,e),Ys(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Ys(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&C_(t)))}function UR(t,e){return is(t),e=za(t,e),Ys(t.g.h,e)}W.forEach=function(t,e){is(this),this.g.forEach(function(n,r){dR(n,function(i){t.call(e,i,r,this)},this)},this)};W.T=function(){is(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n};W.R=function(t){is(this);var e=[];if(typeof t=="string")UR(this,t)&&(e=Sb(e,this.g.get(za(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Sb(e,t[n])}return e};W.set=function(t,e){return is(this),this.i=null,t=za(this,t),UR(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};W.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function BR(t,e,n){FR(t,e),0<n.length&&(t.i=null,t.g.set(za(t,e),l_(n)),t.h+=n.length)}W.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;r[s]!==""&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};function za(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Iz(t,e){e&&!t.j&&(is(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(FR(this,r),BR(this,i,n))},t)),t.j=e}var kz=class{constructor(t,e){this.h=t,this.g=e}};function zR(t){this.l=t||Rz,se.PerformanceNavigationTiming?(t=se.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(se.g&&se.g.Ea&&se.g.Ea()&&se.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Rz=10;function VR(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function jR(t){return t.h?1:t.g?t.g.size:0}function Hv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function S_(t,e){t.g?t.g.add(e):t.h=e}function WR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}zR.prototype.cancel=function(){if(this.i=HR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function HR(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return l_(t.i)}function x_(){}x_.prototype.stringify=function(t){return se.JSON.stringify(t,void 0)};x_.prototype.parse=function(t){return se.JSON.parse(t,void 0)};function Pz(){this.g=new x_}function Nz(t,e,n){const r=n||"";try{b_(t,function(i,s){let o=i;gc(i)&&(o=m_(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Az(t,e){const n=new Gf;if(se.Image){const r=new Image;r.onload=ld(cd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ld(cd,n,r,"TestLoadImage: error",!1,e),r.onabort=ld(cd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ld(cd,n,r,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function cd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function bc(t){this.l=t.$b||null,this.j=t.ib||!1}qt(bc,__);bc.prototype.g=function(){return new ep(this.l,this.j)};bc.prototype.i=function(t){return function(){return t}}({});function ep(t,e){Mt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=T_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qt(ep,Mt);var T_=0;W=ep.prototype;W.open=function(t,e){if(this.readyState!=T_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Du(this)};W.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||se).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cc(this)),this.readyState=T_};W.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Du(this)),this.g&&(this.readyState=3,Du(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qR(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function qR(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}W.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Cc(this):Du(this),this.readyState==3&&qR(this)}};W.Ua=function(t){this.g&&(this.response=this.responseText=t,Cc(this))};W.Ta=function(t){this.g&&(this.response=t,Cc(this))};W.ha=function(){this.g&&Cc(this)};function Cc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Du(t)}W.setRequestHeader=function(t,e){this.v.append(t,e)};W.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};W.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Du(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ep.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Oz=se.JSON.parse;function mt(t){Mt.call(this),this.headers=new Ba,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=KR,this.K=this.L=!1}qt(mt,Mt);var KR="",Mz=/^https?$/i,$z=["POST","PUT"];W=mt.prototype;W.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():zv.g(),this.C=this.u?Ab(this.u):Ab(zv),this.g.onreadystatechange=Vt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){$b(this,s);return}t=n||"";const i=new Ba(this.headers);r&&b_(r,function(s,o){i.set(o,s)}),r=q4(i.T()),n=se.FormData&&t instanceof se.FormData,!(0<=cR($z,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{YR(this),0<this.B&&((this.K=Dz(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vt(this.pa,this)):this.A=y_(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){$b(this,s)}};function Dz(t){return ma&&X4()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function Lz(t){return t.toLowerCase()=="content-type"}W.pa=function(){typeof a_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jt(this,"timeout"),this.abort(8))};function $b(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,GR(t),tp(t)}function GR(t){t.D||(t.D=!0,jt(t,"complete"),jt(t,"error"))}W.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,jt(this,"complete"),jt(this,"abort"),tp(this))};W.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tp(this,!0)),mt.Z.M.call(this)};W.Fa=function(){this.s||(this.F||this.v||this.l?QR(this):this.cb())};W.cb=function(){QR(this)};function QR(t){if(t.h&&typeof a_<"u"&&(!t.C[1]||Yr(t)!=4||t.ba()!=2)){if(t.v&&Yr(t)==4)y_(t.Fa,0,t);else if(jt(t,"readystatechange"),Yr(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(LR)[1]||null;if(!i&&se.self&&se.self.location){var s=se.self.location.protocol;i=s.substr(0,s.length-1)}r=!Mz.test(i?i.toLowerCase():"")}n=r}if(n)jt(t,"complete"),jt(t,"success");else{t.m=6;try{var o=2<Yr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",GR(t)}}finally{tp(t)}}}}function tp(t,e){if(t.g){YR(t);const n=t.g,r=t.C[0]?jh:null;t.g=null,t.C=null,e||jt(t,"ready");try{n.onreadystatechange=r}catch{}}}function YR(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(se.clearTimeout(t.A),t.A=null)}function Yr(t){return t.g?t.g.readyState:0}W.ba=function(){try{return 2<Yr(this)?this.g.status:-1}catch{return-1}};W.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};W.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Oz(e)}};function Db(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case KR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}W.Da=function(){return this.m};W.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function Fz(t){let e="";return u_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function I_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Fz(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):et(t,e,n))}function pl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function XR(t){this.za=0,this.l=[],this.h=new Gf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=pl("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=pl("baseRetryDelayMs",5e3,t),this.$a=pl("retryDelaySeedMs",1e4,t),this.Ya=pl("forwardChannelMaxRetries",2,t),this.ra=pl("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new zR(t&&t.concurrentRequestLimit),this.Ca=new Pz,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}W=XR.prototype;W.ma=8;W.G=1;function k_(t){if(JR(t),t.G==3){var e=t.V++,n=oi(t.F);et(n,"SID",t.J),et(n,"RID",e),et(n,"TYPE","terminate"),Sc(t,n),e=new wc(t,t.h,e,void 0),e.K=2,e.v=Zf(oi(n)),n=!1,se.navigator&&se.navigator.sendBeacon&&(n=se.navigator.sendBeacon(e.v.toString(),"")),!n&&se.Image&&(new Image().src=e.v,n=!0),n||(e.g=oP(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ec(e)}iP(t)}W.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function np(t){t.g&&(P_(t),t.g.cancel(),t.g=null)}function JR(t){np(t),t.u&&(se.clearTimeout(t.u),t.u=null),Yh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&se.clearTimeout(t.m),t.m=null)}function Ym(t,e){t.l.push(new kz(t.Za++,e)),t.G==3&&rp(t)}function rp(t){VR(t.i)||t.m||(t.m=!0,g_(t.Ha,t),t.C=0)}function Uz(t,e){return jR(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=yc(Vt(t.Ha,t,e),rP(t,t.C)),t.C++,!0)}W.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new wc(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=hR(s),fR(s,this.P)):s=this.P),this.o===null&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ZR(this,i,e),n=oi(this.F),et(n,"RID",t),et(n,"CVER",22),this.D&&et(n,"X-HTTP-Session-Id",this.D),Sc(this,n),this.o&&s&&I_(n,this.o,s),S_(this.i,i),this.Ra&&et(n,"TYPE","init"),this.ja?(et(n,"$req",e),et(n,"SID","null"),i.$=!0,jv(i,n,null)):jv(i,n,e),this.G=2}}else this.G==3&&(t?Lb(this,t):this.l.length==0||VR(this.i)||Lb(this))};function Lb(t,e){var n;e?n=e.m:n=t.V++;const r=oi(t.F);et(r,"SID",t.J),et(r,"RID",n),et(r,"AID",t.U),Sc(t,r),t.o&&t.s&&I_(r,t.o,t.s),n=new wc(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=ZR(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),S_(t.i,n),jv(n,r,e)}function Sc(t,e){t.j&&b_({},function(n,r){et(e,r,n)})}function ZR(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Vt(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{Nz(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function eP(t){t.g||t.u||(t.Y=1,g_(t.Ga,t),t.A=0)}function R_(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=yc(Vt(t.Ga,t),rP(t,t.A)),t.A++,!0)}W.Ga=function(){if(this.u=null,tP(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=yc(Vt(this.bb,this),t)}};W.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,hn(10),np(this),tP(this))};function P_(t){t.B!=null&&(se.clearTimeout(t.B),t.B=null)}function tP(t){t.g=new wc(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=oi(t.oa);et(e,"RID","rpc"),et(e,"SID",t.J),et(e,"CI",t.N?"0":"1"),et(e,"AID",t.U),Sc(t,e),et(e,"TYPE","xmlhttp"),t.o&&t.s&&I_(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Zf(oi(e)),n.s=null,n.U=!0,OR(n,t)}W.ab=function(){this.v!=null&&(this.v=null,np(this),R_(this),hn(19))};function Yh(t){t.v!=null&&(se.clearTimeout(t.v),t.v=null)}function nP(t,e){var n=null;if(t.g==e){Yh(t),P_(t),t.g=null;var r=2}else if(Hv(t.i,e))n=e.D,WR(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Qf(),jt(r,new RR(r,n)),rp(t)}else eP(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&Uz(t,e)||r==2&&R_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ss(t,5);break;case 4:Ss(t,10);break;case 3:Ss(t,6);break;default:Ss(t,2)}}}function rP(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Ss(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=Vt(t.jb,t);n||(n=new Xs("//www.google.com/images/cleardot.gif"),se.location&&se.location.protocol=="http"||Kh(n,"https"),Zf(n)),Az(n.toString(),r)}else hn(2);t.G=0,t.j&&t.j.va(e),iP(t),JR(t)}W.jb=function(t){t?(this.h.info("Successfully pinged google.com"),hn(2)):(this.h.info("Failed to ping google.com"),hn(1))};function iP(t){t.G=0,t.I=-1,t.j&&((HR(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,l_(t.l),t.l.length=0),t.j.ua())}function sP(t,e,n){let r=wz(n);if(r.i!="")e&&Gh(r,e+"."+r.i),Qh(r,r.m);else{const i=se.location;r=Ez(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&u_(t.aa,function(i,s){et(r,s,i)}),e=t.D,n=t.sa,e&&n&&et(r,e,n),et(r,"VER",t.ma),Sc(t,r),r}function oP(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new mt(new bc({ib:!0})):new mt(t.qa),e.L=t.H,e}function aP(){}W=aP.prototype;W.xa=function(){};W.wa=function(){};W.va=function(){};W.ua=function(){};W.Oa=function(){};function Xh(){if(ma&&!(10<=Number(J4)))throw Error("Environmental error: no available transport.")}Xh.prototype.g=function(t,e){return new Vn(t,e)};function Vn(t,e){Mt.call(this),this.g=new XR(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Wh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wh(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Va(this)}qt(Vn,Mt);Vn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),g_(Vt(t.hb,t,e))),hn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=sP(t,null,t.W),rp(t)};Vn.prototype.close=function(){k_(this.g)};Vn.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,Ym(this.g,e)}else this.v?(e={},e.__data__=m_(t),Ym(this.g,e)):Ym(this.g,t)};Vn.prototype.M=function(){this.g.j=null,delete this.j,k_(this.g),delete this.g,Vn.Z.M.call(this)};function lP(t){w_.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}qt(lP,w_);function uP(){E_.call(this),this.status=1}qt(uP,E_);function Va(t){this.g=t}qt(Va,aP);Va.prototype.xa=function(){jt(this.g,"a")};Va.prototype.wa=function(t){jt(this.g,new lP(t))};Va.prototype.va=function(t){jt(this.g,new uP)};Va.prototype.ua=function(){jt(this.g,"b")};Xh.prototype.createWebChannel=Xh.prototype.g;Vn.prototype.send=Vn.prototype.u;Vn.prototype.open=Vn.prototype.m;Vn.prototype.close=Vn.prototype.close;Yf.NO_ERROR=0;Yf.TIMEOUT=8;Yf.HTTP_ERROR=6;PR.COMPLETE="complete";NR.EventType=_c;_c.OPEN="a";_c.CLOSE="b";_c.ERROR="c";_c.MESSAGE="d";Mt.prototype.listen=Mt.prototype.N;mt.prototype.listenOnce=mt.prototype.O;mt.prototype.getLastError=mt.prototype.La;mt.prototype.getLastErrorCode=mt.prototype.Da;mt.prototype.getStatus=mt.prototype.ba;mt.prototype.getResponseJson=mt.prototype.Qa;mt.prototype.getResponseText=mt.prototype.ga;mt.prototype.send=mt.prototype.ea;var Bz=function(){return new Xh},zz=function(){return Qf()},Xm=Yf,Vz=PR,jz=uo,Fb={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Wz=bc,dd=NR,Hz=mt;const Ub="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ja="9.9.4";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new sc("@firebase/firestore");function Bb(){return Js.logLevel}function Z(t,...e){if(Js.logLevel<=Se.DEBUG){const n=e.map(N_);Js.debug(`Firestore (${ja}): ${t}`,...n)}}function ai(t,...e){if(Js.logLevel<=Se.ERROR){const n=e.map(N_);Js.error(`Firestore (${ja}): ${t}`,...n)}}function zb(t,...e){if(Js.logLevel<=Se.WARN){const n=e.map(N_);Js.warn(`Firestore (${ja}): ${t}`,...n)}}function N_(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${ja}) INTERNAL ASSERTION FAILED: `+t;throw ai(e),new Error(e)}function qe(t,e){t||le()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Kz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_n.UNAUTHENTICATED))}shutdown(){}}class Gz{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Os,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Os)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string"),new qz(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new _n(e)}}class Qz{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(qe(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Yz{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new Qz(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xz{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jz{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string"),this.A=n.token,new Xz(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Zz(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ae(t,e){return t<e?-1:t>e?1:0}function ga(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new wt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new wt(0,0))}static max(){return new de(new wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Lu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Lu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class tt extends Lu{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const e3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Lu{construct(e,n,r){return new tn(e,n,r)}static isValidIdentifier(e){return e3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ee(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ee(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ee(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(tt.fromString(e))}static fromName(e){return new te(tt.fromString(e).popFirst(5))}static empty(){return new te(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new tt(e.slice()))}}function t3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new wt(n+1,0):new wt(n,r));return new Ki(i,te.empty(),e)}function n3(t){return new Ki(t.readTime,t.key,-1)}class Ki{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ki(de.min(),te.empty(),-1)}static max(){return new Ki(de.max(),te.empty(),-1)}}function r3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(t){if(t.code!==A.FAILED_PRECONDITION||t.message!==i3)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Tc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */A_.at=-1;class Ct{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hd(this.root,e,this.comparator,!1)}getReverseIterator(){return new hd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hd(this.root,e,this.comparator,!0)}}class hd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:Ut.RED,this.left=i!=null?i:Ut.EMPTY,this.right=s!=null?s:Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ut(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ut(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jb(this.data.getIterator())}getIteratorFrom(e){return new jb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class jb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Or([])}unionWith(e){let n=new Et(tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ga(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Ht(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const o3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(t){if(qe(!!t),typeof t=="string"){let e=0;const n=o3.exec(t);if(qe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function va(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fP(t){const e=t.mapValue.fields.__previous_value__;return hP(e)?fP(e):e}function Fu(t){const e=Gi(t.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Uu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Uu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Uu&&e.projectId===this.projectId&&e.database===this.database}}function ip(t){return t==null}function Jh(t){return t===0&&1/t==-1/0}function l3(t){return typeof t=="number"&&Number.isInteger(t)&&!Jh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hP(t)?4:u3(t)?9007199254740991:10:le()}function Lr(t,e){if(t===e)return!0;const n=Zs(t);if(n!==Zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fu(t).isEqual(Fu(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Gi(r.timestampValue),o=Gi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return va(r.bytesValue).isEqual(va(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return dt(r.geoPointValue.latitude)===dt(i.geoPointValue.latitude)&&dt(r.geoPointValue.longitude)===dt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return dt(r.integerValue)===dt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=dt(r.doubleValue),o=dt(i.doubleValue);return s===o?Jh(s)===Jh(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ga(t.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Vb(s)!==Vb(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Lr(s[a],o[a])))return!1;return!0}(t,e);default:return le()}}function Bu(t,e){return(t.values||[]).find(n=>Lr(n,e))!==void 0}function ya(t,e){if(t===e)return 0;const n=Zs(t),r=Zs(e);if(n!==r)return Ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=dt(i.integerValue||i.doubleValue),a=dt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Wb(t.timestampValue,e.timestampValue);case 4:return Wb(Fu(t),Fu(e));case 5:return Ae(t.stringValue,e.stringValue);case 6:return function(i,s){const o=va(i),a=va(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Ae(o[l],a[l]);if(u!==0)return u}return Ae(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Ae(dt(i.latitude),dt(s.latitude));return o!==0?o:Ae(dt(i.longitude),dt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=ya(o[l],a[l]);if(u)return u}return Ae(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===fd.mapValue&&s===fd.mapValue)return 0;if(i===fd.mapValue)return 1;if(s===fd.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Ae(a[c],u[c]);if(d!==0)return d;const h=ya(o[a[c]],l[u[c]]);if(h!==0)return h}return Ae(a.length,u.length)}(t.mapValue,e.mapValue);default:throw le()}}function Wb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);const n=Gi(t),r=Gi(e),i=Ae(n.seconds,r.seconds);return i!==0?i:Ae(n.nanos,r.nanos)}function Jo(t){return qv(t)}function qv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Gi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?va(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,te.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=qv(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${qv(r.fields[a])}`;return s+"}"}(t.mapValue):le();var e,n}function Kv(t){return!!t&&"integerValue"in t}function O_(t){return!!t&&"arrayValue"in t}function Hb(t){return!!t&&"nullValue"in t}function qb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vd(t){return!!t&&"mapValue"in t}function Kl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Kl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function u3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=tn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Kl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Vd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Vd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Xn(Kl(this.value))}}function pP(t){const e=[];return Wa(t.fields,(n,r)=>{const i=new tn([n]);if(Vd(r)){const s=pP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Bt(e,0,de.min(),de.min(),Xn.empty(),0)}static newFoundDocument(e,n,r){return new Bt(e,1,n,de.min(),r,0)}static newNoDocument(e,n){return new Bt(e,2,n,de.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,de.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function Kb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new c3(t,e,n,r,i,s,o)}function M_(t){const e=ue(t);if(e.ht===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Jo(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ip(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Jo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Jo(r)).join(",")),e.ht=n}return e.ht}function d3(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Jo(r.value)}`;var r}).join(", ")}]`),ip(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Jo(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Jo(n)).join(",")),`Target(${e})`}function $_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!_3(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Lr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qb(t.startAt,e.startAt)&&Qb(t.endAt,e.endAt)}function Gv(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Tn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.lt(e,n,r):new h3(e,n,r):n==="array-contains"?new m3(e,r):n==="in"?new g3(e,r):n==="not-in"?new v3(e,r):n==="array-contains-any"?new y3(e,r):new Tn(e,n,r)}static lt(e,n,r){return n==="in"?new f3(e,r):new p3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.ft(ya(n,this.value)):n!==null&&Zs(this.value)===Zs(n)&&this.ft(ya(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class h3 extends Tn{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.ft(n)}}class f3 extends Tn{constructor(e,n){super(e,"in",n),this.keys=mP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class p3 extends Tn{constructor(e,n){super(e,"not-in",n),this.keys=mP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class m3 extends Tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return O_(n)&&Bu(n.arrayValue,this.value)}}class g3 extends Tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bu(this.value.arrayValue,n)}}class v3 extends Tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Bu(this.value.arrayValue,n)}}class y3 extends Tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!O_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bu(this.value.arrayValue,r))}}class Zh{constructor(e,n){this.position=e,this.inclusive=n}}class Zo{constructor(e,n="asc"){this.field=e,this.dir=n}}function _3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Gb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=ya(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Qb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this._t=null,this.wt=null,this.startAt,this.endAt}}function w3(t,e,n,r,i,s,o,a){return new Ic(t,e,n,r,i,s,o,a)}function D_(t){return new Ic(t)}function Yb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gP(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function vP(t){for(const e of t.filters)if(e.dt())return e.field;return null}function E3(t){return t.collectionGroup!==null}function zu(t){const e=ue(t);if(e._t===null){e._t=[];const n=vP(e),r=gP(e);if(n!==null&&r===null)n.isKeyField()||e._t.push(new Zo(n)),e._t.push(new Zo(tn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Zo(tn.keyField(),s))}}}return e._t}function li(t){const e=ue(t);if(!e.wt)if(e.limitType==="F")e.wt=Kb(e.path,e.collectionGroup,zu(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of zu(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Zo(s.field,o))}const r=e.endAt?new Zh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Zh(e.startAt.position,e.startAt.inclusive):null;e.wt=Kb(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function ef(t,e,n){return new Ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kc(t,e){return $_(li(t),li(e))&&t.limitType===e.limitType}function yP(t){return`${M_(li(t))}|lt:${t.limitType}`}function Qv(t){return`Query(target=${d3(li(t))}; limitType=${t.limitType})`}function L_(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):te.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=Gb(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,zu(n),r)||n.endAt&&!function(i,s,o){const a=Gb(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,zu(n),r))}(t,e)}function b3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _P(t){return(e,n)=>{let r=!1;for(const i of zu(t)){const s=C3(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function C3(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?ya(a,l):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jh(e)?"-0":e}}function EP(t){return{integerValue:""+t}}function S3(t,e){return l3(e)?EP(e):wP(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(){this._=void 0}}function x3(t,e,n){return t instanceof Vu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ju?CP(t,e):t instanceof Wu?SP(t,e):function(r,i){const s=bP(r,i),o=Xb(s)+Xb(r.yt);return Kv(s)&&Kv(r.yt)?EP(o):wP(r.It,o)}(t,e)}function T3(t,e,n){return t instanceof ju?CP(t,e):t instanceof Wu?SP(t,e):n}function bP(t,e){return t instanceof tf?Kv(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Vu extends sp{}class ju extends sp{constructor(e){super(),this.elements=e}}function CP(t,e){const n=xP(e);for(const r of t.elements)n.some(i=>Lr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wu extends sp{constructor(e){super(),this.elements=e}}function SP(t,e){let n=xP(e);for(const r of t.elements)n=n.filter(i=>!Lr(i,r));return{arrayValue:{values:n}}}class tf extends sp{constructor(e,n){super(),this.It=e,this.yt=n}}function Xb(t){return dt(t.integerValue||t.doubleValue)}function xP(t){return O_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,n){this.field=e,this.transform=n}}function k3(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof ju&&r instanceof ju||n instanceof Wu&&r instanceof Wu?ga(n.elements,r.elements,Lr):n instanceof tf&&r instanceof tf?Lr(n.yt,r.yt):n instanceof Vu&&r instanceof Vu}(t.transform,e.transform)}class R3{constructor(e,n){this.version=e,this.transformResults=n}}class Zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zr}static exists(e){return new Zr(void 0,e)}static updateTime(e){return new Zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class op{}function TP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kP(t.key,Zr.none()):new Rc(t.key,t.data,Zr.none());{const n=t.data,r=Xn.empty();let i=new Et(tn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new co(t.key,r,new Or(i.toArray()),Zr.none())}}function P3(t,e,n){t instanceof Rc?function(r,i,s){const o=r.value.clone(),a=Zb(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof co?function(r,i,s){if(!jd(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Zb(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(IP(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Gl(t,e,n,r){return t instanceof Rc?function(i,s,o,a){if(!jd(i.precondition,s))return o;const l=i.value.clone(),u=eC(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof co?function(i,s,o,a){if(!jd(i.precondition,s))return o;const l=eC(i.fieldTransforms,a,s),u=s.data;return u.setAll(IP(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return jd(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function N3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=bP(r.transform,i||null);s!=null&&(n===null&&(n=Xn.empty()),n.set(r.field,s))}return n||null}function Jb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ga(n,r,(i,s)=>k3(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rc extends op{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class co extends op{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function IP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Zb(t,e,n){const r=new Map;qe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,T3(o,a,n[i]))}return r}function eC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,x3(s,o,e))}return r}class kP extends op{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class A3 extends op{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,be;function M3(t){switch(t){default:return le();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function RP(t){if(t===void 0)return ai("GRPC error has no .code"),A.UNKNOWN;switch(t){case ct.OK:return A.OK;case ct.CANCELLED:return A.CANCELLED;case ct.UNKNOWN:return A.UNKNOWN;case ct.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case ct.INTERNAL:return A.INTERNAL;case ct.UNAVAILABLE:return A.UNAVAILABLE;case ct.UNAUTHENTICATED:return A.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case ct.NOT_FOUND:return A.NOT_FOUND;case ct.ALREADY_EXISTS:return A.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return A.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case ct.ABORTED:return A.ABORTED;case ct.OUT_OF_RANGE:return A.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return A.UNIMPLEMENTED;case ct.DATA_LOSS:return A.DATA_LOSS;default:return le()}}(be=ct||(ct={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return dP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=new Ct(te.comparator);function ui(){return $3}const PP=new Ct(te.comparator);function Tl(...t){let e=PP;for(const n of t)e=e.insert(n.key,n);return e}function NP(t){let e=PP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xs(){return Ql()}function AP(){return Ql()}function Ql(){return new Ha(t=>t.toString(),(t,e)=>t.isEqual(e))}const D3=new Ct(te.comparator),L3=new Et(te.comparator);function _e(...t){let e=L3;for(const n of t)e=e.add(n);return e}const F3=new Et(Ae);function OP(){return F3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Pc.createSynthesizedTargetChangeForCurrentChange(e,n)),new ap(de.min(),r,OP(),ui(),_e())}}class Pc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Pc(Ht.EMPTY_BYTE_STRING,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n,r,i){this.Tt=e,this.removedTargetIds=n,this.key=r,this.Et=i}}class MP{constructor(e,n){this.targetId=e,this.At=n}}class $P{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class tC{constructor(){this.Rt=0,this.bt=rC(),this.Pt=Ht.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=_e(),n=_e(),r=_e();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new Pc(this.Pt,this.vt,e,n,r)}Nt(){this.Vt=!1,this.bt=rC()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class U3{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=ui(),this.qt=nC(),this.Kt=new Et(Ae)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const r=this.zt(n);switch(e.state){case 0:this.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),r.Ct(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((r,i)=>{this.Ht(i)&&n(i)})}Yt(e){const n=e.targetId,r=e.At.count,i=this.Xt(n);if(i){const s=i.target;if(Gv(s))if(r===0){const o=new te(s.path);this.jt(n,o,Bt.newNoDocument(o,de.min()))}else qe(r===1);else this.Zt(n)!==r&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&Gv(a.target)){const l=new te(a.target.path);this.Ut.get(l)!==null||this.ee(o,l)||this.jt(o,l,Bt.newNoDocument(l,e))}s.Dt&&(n.set(o,s.xt()),s.Nt())}});let r=_e();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new ap(e,n,this.Kt,this.Ut,r);return this.Ut=ui(),this.qt=nC(),this.Kt=new Et(Ae),i}Qt(e,n){if(!this.Ht(e))return;const r=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,n)?i.kt(n,1):i.Mt(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let n=this.Lt.get(e);return n||(n=new tC,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new Et(Ae),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=this.Xt(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new tC),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function nC(){return new Ct(te.comparator)}function rC(){return new Ct(te.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),z3=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class V3{constructor(e,n){this.databaseId=e,this.gt=n}}function nf(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DP(t,e){return t.gt?e.toBase64():e.toUint8Array()}function j3(t,e){return nf(t,e.toTimestamp())}function ei(t){return qe(!!t),de.fromTimestamp(function(e){const n=Gi(e);return new wt(n.seconds,n.nanos)}(t))}function F_(t,e){return function(n){return new tt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function LP(t){const e=tt.fromString(t);return qe(BP(e)),e}function Yv(t,e){return F_(t.databaseId,e.path)}function Jm(t,e){const n=LP(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(FP(n))}function Xv(t,e){return F_(t.databaseId,e)}function W3(t){const e=LP(t);return e.length===4?tt.emptyPath():FP(e)}function Jv(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FP(t){return qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function iC(t,e,n){return{name:Yv(t,e),fields:n.value.mapValue.fields}}function H3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.gt?(qe(u===void 0||typeof u=="string"),Ht.fromBase64String(u||"")):(qe(u===void 0||u instanceof Uint8Array),Ht.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?A.UNKNOWN:RP(l.code);return new ee(u,l.message||"")}(o);n=new $P(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Jm(t,r.document.name),s=ei(r.document.updateTime),o=new Xn({mapValue:{fields:r.document.fields}}),a=Bt.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Wd(l,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Jm(t,r.document),s=r.readTime?ei(r.readTime):de.min(),o=Bt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Wd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Jm(t,r.document),s=r.removedTargetIds||[];n=new Wd([],s,i,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new O3(i),o=r.targetId;n=new MP(o,s)}}return n}function q3(t,e){let n;if(e instanceof Rc)n={update:iC(t,e.key,e.value)};else if(e instanceof kP)n={delete:Yv(t,e.key)};else if(e instanceof co)n={update:iC(t,e.key,e.data),updateMask:nV(e.fieldMask)};else{if(!(e instanceof A3))return le();n={verify:Yv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Vu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ju)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Wu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof tf)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:j3(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:le()}(t,e.precondition)),n}function K3(t,e){return t&&t.length>0?(qe(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?ei(r.updateTime):ei(i);return s.isEqual(de.min())&&(s=ei(i)),new R3(s,r.transformResults||[])}(n,e))):[]}function G3(t,e){return{documents:[Xv(t,e.path)]}}function Q3(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Xv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Xv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length===0)return;const u=l.map(c=>function(d){if(d.op==="=="){if(qb(d.value))return{unaryFilter:{field:go(d.field),op:"IS_NAN"}};if(Hb(d.value))return{unaryFilter:{field:go(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(qb(d.value))return{unaryFilter:{field:go(d.field),op:"IS_NOT_NAN"}};if(Hb(d.value))return{unaryFilter:{field:go(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(d.field),op:Z3(d.op),value:d.value}}}(c));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:go(c.field),direction:J3(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.gt||ip(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function Y3(t){let e=W3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=UP(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new Zo(Bo(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,ip(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new Zh(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new Zh(h,d)}(n.endAt)),w3(e,i,o,s,a,"F",l,u)}function X3(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return le()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function UP(t){return t?t.unaryFilter!==void 0?[tV(t)]:t.fieldFilter!==void 0?[eV(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>UP(e)).reduce((e,n)=>e.concat(n)):le():[]}function J3(t){return B3[t]}function Z3(t){return z3[t]}function go(t){return{fieldPath:t.canonicalString()}}function Bo(t){return tn.fromServerFormat(t.fieldPath)}function eV(t){return Tn.create(Bo(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(t.fieldFilter.op),t.fieldFilter.value)}function tV(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Bo(t.unaryFilter.field);return Tn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Bo(t.unaryFilter.field);return Tn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Bo(t.unaryFilter.field);return Tn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Bo(t.unaryFilter.field);return Tn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return le()}}function nV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function BP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&P3(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=TP(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&ga(this.mutations,e.mutations,(n,r)=>Jb(n,r))&&ga(this.baseMutations,e.baseMutations,(n,r)=>Jb(n,r))}}class U_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){qe(e.mutations.length===r.length);let i=D3;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new U_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,r,i,s=de.min(),o=de.min(),a=Ht.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.re=e}}function oV(t){const e=Y3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ef(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(){this.Ye=new lV}addToCollectionParentIndex(e,n){return this.Ye.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Ki.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Ki.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class lV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Et(tt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Et(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new _a(0)}static vn(){return new _a(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(){this.changes=new Ha(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(r!==null&&Gl(r.mutation,i,Or.empty(),wt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=xs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Tl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ui();const o=Ql(),a=Ql();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof co)?s=s.insert(u.key,u):c!==void 0&&(o.set(u.key,c.mutation.getFieldMask()),Gl(c.mutation,u,c.mutation.getFieldMask(),wt.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new cV(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ql();let i=new Ct((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Or.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||_e()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=AP();c.forEach(h=>{if(!s.has(h)){const f=TP(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):E3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(xs());let a=-1,l=s;return o.next(u=>$.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?$.resolve():this.getBaseDocument(e,c,d).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,_e())).next(c=>({batchId:a,changes:NP(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=Tl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Tl();return this.indexManager.getCollectionParents(e,i).next(o=>$.forEach(o,a=>{const l=function(u,c){return new Ic(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,Bt.newInvalidDocument(u)))});let o=Tl();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&Gl(u.mutation,l,Or.empty(),wt.now()),L_(n,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):$.resolve(Bt.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return $.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:ei(r.createTime)}),$.resolve()}getNamedQuery(e,n){return $.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:oV(r.bundledQuery),readTime:ei(r.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(){this.overlays=new Ct(te.comparator),this.es=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xs();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ue(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=xs(),s=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ct((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=xs(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=xs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return $.resolve(a)}ue(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new iV(n,r));let s=this.es.get(n);s===void 0&&(s=_e(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(){this.ns=new Et(It.ss),this.rs=new Et(It.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new It(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new It(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new te(new tt([])),r=new It(n,e),i=new It(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new te(new tt([])),r=new It(n,e),i=new It(n,e+1);let s=_e();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new It(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return te.comparator(e.key,n.key)||Ae(e._s,n._s)}static os(e,n){return Ae(e._s,n._s)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Et(It.ss)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rV(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new It(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),i=new It(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(Ae);return n.forEach(i=>{const s=new It(i,0),o=new It(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),$.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;te.isDocumentKey(s)||(s=s.child(""));const o=new It(new te(s),0);let a=new Et(Ae);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},o),$.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){qe(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return $.forEach(n.mutations,i=>{const s=new It(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new It(n,0),i=this.gs.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.Es=e,this.docs=new Ct(te.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=ui();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Bt.newInvalidDocument(i))}),$.resolve(r)}getAllFromCollection(e,n,r){let i=ui();const s=new te(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||r3(n3(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,i){le()}As(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gV(this)}getSize(e){return $.resolve(this.size)}}class gV extends uV{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.persistence=e,this.Rs=new Ha(n=>M_(n),$_),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.bs=0,this.Ps=new B_,this.targetCount=0,this.vs=_a.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),$.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new _a(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Dn(n),$.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new A_(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new vV(this),this.indexManager=new aV,this.remoteDocumentCache=function(r){return new mV(r)}(r=>this.referenceDelegate.xs(r)),this.It=new sV(n),this.Ns=new hV(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new pV(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const i=new _V(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Ms(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return $.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class _V extends s3{constructor(e){super(),this.currentSequenceNumber=e}}class z_{constructor(e){this.persistence=e,this.Fs=new B_,this.$s=null}static Bs(e){return new z_(e)}get Ls(){if(this.$s)return this.$s;throw le()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),$.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Ms(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Ls,r=>{const i=te.fromPath(r);return this.Us(e,i).next(s=>{s||n.removeEntry(i,de.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return $.or([()=>$.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new V_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Mi(e,n,i,r)).next(s=>s||this.Oi(e,n))}ki(e,n){if(Yb(n))return $.resolve(null);let r=li(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ef(n,null,"F"),r=li(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(e,ef(n,null,"F")):this.Bi(e,u,n,l)}))})))}Mi(e,n,r,i){return Yb(n)||i.isEqual(de.min())?this.Oi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Oi(e,n):(Bb()<=Se.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qv(n)),this.Bi(e,o,n,t3(i,-1)))})}Fi(e,n){let r=new Et(_P(e));return n.forEach((i,s)=>{L_(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return Bb()<=Se.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",Qv(n)),this.Ni.getDocumentsMatchingQuery(e,n,Ki.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.It=i,this.Ui=new Ct(Ae),this.qi=new Ha(s=>M_(s),$_),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dV(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function bV(t,e,n,r){return new EV(t,e,n,r)}async function zP(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=_e();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function CV(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=$.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(p=>{const m=l.docVersions.get(f);qe(m!==null),p.version.compareTo(m)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=_e();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function VP(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function SV(t,e){const n=ue(t),r=e.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(d)?f=f.withResumeToken(Ht.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(p,m,E){return p.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(h,f,c)&&a.push(n.Cs.updateTargetData(s,f))});let l=ui(),u=_e();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(xV(s,o,e.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!r.isEqual(de.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(d=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ui=i,s))}function xV(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ui();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(de.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function TV(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function IV(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new Ms(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ui.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function Zv(t,e,n){const r=ue(t),i=r.Ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Tc(o))throw o;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}function sC(t,e,n){const r=ue(t);let i=de.min(),s=_e();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=ue(a),d=c.qi.get(u);return d!==void 0?$.resolve(c.Ui.get(d)):c.Cs.getTargetData(l,u)}(r,o,li(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:de.min(),n?s:_e())).next(a=>(kV(r,b3(e),a),{documents:a,Hi:s})))}function kV(t,e,n){let r=de.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}class oC{constructor(){this.activeTargetIds=OP()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RV{constructor(){this.Lr=new oC,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,r){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new oC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,r,i,s){const o=this.ao(e,n);Z("RestConnection","Sending: ",o,r);const a={};return this.ho(a,i,s),this.lo(e,o,a,r).then(l=>(Z("RestConnection","Received: ",l),l),l=>{throw zb("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}fo(e,n,r,i,s,o){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ja,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){const r=NV[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){return new Promise((s,o)=>{const a=new Hz;a.listenOnce(Vz.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Xm.NO_ERROR:const u=a.getResponseJson();Z("Connection","XHR received:",JSON.stringify(u)),s(u);break;case Xm.TIMEOUT:Z("Connection",'RPC "'+e+'" timed out'),o(new ee(A.DEADLINE_EXCEEDED,"Request time out"));break;case Xm.HTTP_ERROR:const c=a.getStatus();if(Z("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(p)>=0?p:A.UNKNOWN}(d.status);o(new ee(h,d.message))}else o(new ee(A.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ee(A.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{Z("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}_o(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Bz(),o=zz(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Wz({})),this.ho(a.initMessageHeaders,n,r),Af()||_0()||pD()||uI()||mD()||lI()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=i.join("");Z("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,d=!1;const h=new AV({Hr:p=>{d?Z("Connection","Not sending because WebChannel is closed:",p):(c||(Z("Connection","Opening WebChannel transport."),u.open(),c=!0),Z("Connection","WebChannel sending:",p),u.send(p))},Jr:()=>u.close()}),f=(p,m,E)=>{p.listen(m,g=>{try{E(g)}catch(v){setTimeout(()=>{throw v},0)}})};return f(u,dd.EventType.OPEN,()=>{d||Z("Connection","WebChannel transport opened.")}),f(u,dd.EventType.CLOSE,()=>{d||(d=!0,Z("Connection","WebChannel transport closed"),h.io())}),f(u,dd.EventType.ERROR,p=>{d||(d=!0,zb("Connection","WebChannel transport errored:",p),h.io(new ee(A.UNAVAILABLE,"The operation could not be completed")))}),f(u,dd.EventType.MESSAGE,p=>{var m;if(!d){const E=p.data[0];qe(!!E);const g=E,v=g.error||((m=g[0])===null||m===void 0?void 0:m.error);if(v){Z("Connection","WebChannel received error:",v);const y=v.status;let _=function(x){const S=ct[x];if(S!==void 0)return RP(S)}(y),C=v.message;_===void 0&&(_=A.INTERNAL,C="Unknown error status: "+y+" with message "+v.message),d=!0,h.io(new ee(_,C)),u.close()}else Z("Connection","WebChannel received:",E),h.ro(E)}}),f(o,jz.STAT_EVENT,p=>{p.stat===Fb.PROXY?Z("Connection","Detected buffering proxy"):p.stat===Fb.NOPROXY&&Z("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function Zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(t){return new V3(t,!0)}class jP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.wo=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,n,r,i,s,o,a,l){this.Hs=e,this.Po=r,this.vo=i,this.Vo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new jP(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Mo()}async stop(){this.No()&&await this.close(0)}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new ee(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){this.state=5,this.xo.Ao(async()=>{this.state=0,this.start()})}Qo(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MV extends WP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.It=s}jo(e,n){return this.Vo._o("Listen",e,n)}onMessage(e){this.xo.reset();const n=H3(this.It,e),r=function(i){if(!("targetChange"in i))return de.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?de.min():s.readTime?ei(s.readTime):de.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=Jv(this.It),n.addTarget=function(i,s){let o;const a=s.target;return o=Gv(a)?{documents:G3(i,a)}:{query:Q3(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=DP(i,s.resumeToken):s.snapshotVersion.compareTo(de.min())>0&&(o.readTime=nf(i,s.snapshotVersion.toTimestamp())),o}(this.It,e);const r=X3(this.It,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=Jv(this.It),n.removeTarget=e,this.Bo(n)}}class $V extends WP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.Vo._o("Write",e,n)}onMessage(e){if(qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=K3(e.writeResults,e.commitTime),r=ei(e.commitTime);return this.listener.Zo(r,n)}return qe(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Jv(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>q3(this.It,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new ee(A.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.Vo.co(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ee(A.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.Vo.fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(A.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class LV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ai(n),this.ou=!1):Z("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(o=>{r.enqueueAndForget(async()=>{ho(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ue(a);l._u.add(4),await Nc(l),l.gu.set("Unknown"),l._u.delete(4),await up(l)}(this))})}),this.gu=new LV(r,i)}}async function up(t){if(ho(t))for(const e of t.wu)await e(!0)}async function Nc(t){for(const e of t.wu)await e(!1)}function HP(t,e){const n=ue(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),H_(n)?W_(n):qa(n).ko()&&j_(n,e))}function qP(t,e){const n=ue(t),r=qa(n);n.du.delete(e),r.ko()&&KP(n,e),n.du.size===0&&(r.ko()?r.Fo():ho(n)&&n.gu.set("Unknown"))}function j_(t,e){t.yu.Ot(e.targetId),qa(t).zo(e)}function KP(t,e){t.yu.Ot(e),qa(t).Ho(e)}function W_(t){t.yu=new U3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t.du.get(e)||null}),qa(t).start(),t.gu.uu()}function H_(t){return ho(t)&&!qa(t).No()&&t.du.size>0}function ho(t){return ue(t)._u.size===0}function GP(t){t.yu=void 0}async function UV(t){t.du.forEach((e,n)=>{j_(t,e)})}async function BV(t,e){GP(t),H_(t)?(t.gu.hu(e),W_(t)):t.gu.set("Unknown")}async function zV(t,e,n){if(t.gu.set("Online"),e instanceof $P&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.du.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.du.delete(o),r.yu.removeTarget(o))}(t,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rf(t,r)}else if(e instanceof Wd?t.yu.Gt(e):e instanceof MP?t.yu.Yt(e):t.yu.Wt(e),!n.isEqual(de.min()))try{const r=await VP(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.yu.te(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.du.get(l);u&&i.du.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(Ht.EMPTY_BYTE_STRING,l.snapshotVersion)),KP(i,a);const u=new Ms(l.target,a,1,l.sequenceNumber);j_(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await rf(t,r)}}async function rf(t,e,n){if(!Tc(e))throw e;t._u.add(1),await Nc(t),t.gu.set("Offline"),n||(n=()=>VP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await up(t)})}function QP(t,e){return e().catch(n=>rf(t,n,e))}async function cp(t){const e=ue(t),n=Qi(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;VV(e);)try{const i=await TV(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,jV(e,i)}catch(i){await rf(e,i)}YP(e)&&XP(e)}function VV(t){return ho(t)&&t.fu.length<10}function jV(t,e){t.fu.push(e);const n=Qi(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function YP(t){return ho(t)&&!Qi(t).No()&&t.fu.length>0}function XP(t){Qi(t).start()}async function WV(t){Qi(t).eu()}async function HV(t){const e=Qi(t);for(const n of t.fu)e.Xo(n.mutations)}async function qV(t,e,n){const r=t.fu.shift(),i=U_.from(r,e,n);await QP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await cp(t)}async function KV(t,e){e&&Qi(t).Yo&&await async function(n,r){if(i=r.code,M3(i)&&i!==A.ABORTED){const s=n.fu.shift();Qi(n).Oo(),await QP(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await cp(n)}var i}(t,e),YP(t)&&XP(t)}async function lC(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=ho(n);n._u.add(3),await Nc(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await up(n)}async function GV(t,e){const n=ue(t);e?(n._u.delete(2),await up(n)):e||(n._u.add(2),await Nc(n),n.gu.set("Unknown"))}function qa(t){return t.pu||(t.pu=function(e,n,r){const i=ue(e);return i.su(),new MV(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:UV.bind(null,t),Zr:BV.bind(null,t),Wo:zV.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),H_(t)?W_(t):t.gu.set("Unknown")):(await t.pu.stop(),GP(t))})),t.pu}function Qi(t){return t.Iu||(t.Iu=function(e,n,r){const i=ue(e);return i.su(),new $V(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:WV.bind(null,t),Zr:KV.bind(null,t),tu:HV.bind(null,t),Zo:qV.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Oo(),await cp(t)):(await t.Iu.stop(),t.fu.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new q_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function K_(t,e){if(ai("AsyncQueue",`${e}: ${t}`),Tc(t))return new ee(A.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=Tl(),this.sortedSet=new Ct(this.comparator)}static emptySet(e){return new ea(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ea)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ea;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.Tu=new Ct(te.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):le():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class wa{constructor(e,n,r,i,s,o,a,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new wa(e,n,ea.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(){this.Au=void 0,this.listeners=[]}}class YV{constructor(){this.queries=new Ha(e=>yP(e),kc),this.onlineState="Unknown",this.Ru=new Set}}async function XV(t,e){const n=ue(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new QV),i)try{s.Au=await n.onListen(r)}catch(o){const a=K_(o,`Initialization of query '${Qv(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&G_(n)}async function JV(t,e){const n=ue(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function ZV(t,e){const n=ue(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&G_(n)}function e5(t,e,n){const r=ue(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function G_(t){t.Ru.forEach(e=>{e.next()})}class t5{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.key=e}}class ZP{constructor(e){this.key=e}}class n5{constructor(e,n){this.query=e,this.Lu=n,this.Uu=null,this.current=!1,this.qu=_e(),this.mutatedKeys=_e(),this.Ku=_P(e),this.Gu=new ea(this.Ku)}get Qu(){return this.Lu}ju(e,n){const r=n?n.Wu:new uC,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=L_(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let E=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),E=!0):this.zu(h,f)||(r.track({type:2,doc:f}),E=!0,(l&&this.Ku(f,l)>0||u&&this.Ku(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),E=!0):h&&!f&&(r.track({type:1,doc:h}),E=!0,(l||u)&&(a=!0)),E&&(f?(o=o.add(f),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,Wu:r,$i:a,mutatedKeys:s}}zu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.Wu.Eu();s.sort((u,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return f(d)-f(h)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const o=n?this.Ju():[],a=this.qu.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new wa(this.query,e.Gu,i,s,e.mutatedKeys,a===0,l,!1),Yu:o}:{Yu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new uC,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=_e(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const n=[];return e.forEach(r=>{this.qu.has(r)||n.push(new ZP(r))}),this.qu.forEach(r=>{e.has(r)||n.push(new JP(r))}),n}Zu(e){this.Lu=e.Hi,this.qu=_e();const n=this.ju(e.documents);return this.applyChanges(n,!0)}tc(){return wa.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.Uu===0)}}class r5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class i5{constructor(e){this.key=e,this.ec=!1}}class s5{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Ha(a=>yP(a),kc),this.ic=new Map,this.rc=new Set,this.oc=new Ct(te.comparator),this.uc=new Map,this.cc=new B_,this.ac={},this.hc=new Map,this.lc=_a.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function o5(t,e){const n=g5(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await IV(n.localStore,li(e));n.isPrimaryClient&&HP(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await a5(n,e,r,a==="current")}return i}async function a5(t,e,n,r){t.dc=(c,d,h)=>async function(f,p,m,E){let g=p.view.ju(m);g.$i&&(g=await sC(f.localStore,p.query,!1).then(({documents:_})=>p.view.ju(_,g)));const v=E&&E.targetChanges.get(p.targetId),y=p.view.applyChanges(g,f.isPrimaryClient,v);return dC(f,p.targetId,y.Yu),y.snapshot}(t,c,d,h);const i=await sC(t.localStore,e,!0),s=new n5(e,i.Hi),o=s.ju(i.documents),a=Pc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),l=s.applyChanges(o,t.isPrimaryClient,a);dC(t,n,l.Yu);const u=new r5(e,n,s);return t.sc.set(e,u),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),l.snapshot}async function l5(t,e){const n=ue(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!kc(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Zv(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),qP(n.remoteStore,r.targetId),ey(n,r.targetId)}).catch(xc)):(ey(n,r.targetId),await Zv(n.localStore,r.targetId,!0))}async function u5(t,e,n){const r=v5(t);try{const i=await function(s,o){const a=ue(s),l=wt.now(),u=o.reduce((h,f)=>h.add(f.key),_e());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=ui(),p=_e();return a.Gi.getEntries(h,u).next(m=>{f=m,f.forEach((E,g)=>{g.isValidDocument()||(p=p.add(E))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{c=m;const E=[];for(const g of o){const v=N3(g,c.get(g.key).overlayedDocument);v!=null&&E.push(new co(g.key,v,pP(v.value.mapValue),Zr.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,E,o)}).next(m=>{d=m;const E=m.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,E)})}).then(()=>({batchId:d.batchId,changes:NP(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new Ct(Ae)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),await Ac(r,i.changes),await cp(r.remoteStore)}catch(i){const s=K_(i,"Failed to persist write");n.reject(s)}}async function eN(t,e){const n=ue(t);try{const r=await SV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?qe(o.ec):i.removedDocuments.size>0&&(qe(o.ec),o.ec=!1))}),await Ac(n,r,e)}catch(r){await xc(r)}}function cC(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=ue(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.bu(o)&&(l=!0)}),l&&G_(a)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function c5(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new Ct(te.comparator);o=o.insert(s,Bt.newNoDocument(s,de.min()));const a=_e().add(s),l=new ap(de.min(),new Map,new Et(Ae),o,a);await eN(r,l),r.oc=r.oc.remove(s),r.uc.delete(e),Q_(r)}else await Zv(r.localStore,e,!1).then(()=>ey(r,e,n)).catch(xc)}async function d5(t,e){const n=ue(t),r=e.batch.batchId;try{const i=await CV(n.localStore,e);nN(n,r,null),tN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ac(n,i)}catch(i){await xc(i)}}async function h5(t,e,n){const r=ue(t);try{const i=await function(s,o){const a=ue(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(qe(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);nN(r,e,n),tN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ac(r,i)}catch(i){await xc(i)}}function tN(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function nN(t,e,n){const r=ue(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function ey(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc._c(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.ls(e).forEach(r=>{t.cc.containsKey(r)||rN(t,r)})}function rN(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(qP(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),Q_(t))}function dC(t,e,n){for(const r of n)r instanceof JP?(t.cc.addReference(r.key,e),f5(t,r)):r instanceof ZP?(Z("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||rN(t,r.key)):le()}function f5(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(Z("SyncEngine","New document in limbo: "+n),t.rc.add(r),Q_(t))}function Q_(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new te(tt.fromString(e)),r=t.lc.next();t.uc.set(r,new i5(n)),t.oc=t.oc.insert(n,r),HP(t.remoteStore,new Ms(li(D_(n.path)),r,2,A_.at))}}async function Ac(t,e,n){const r=ue(t),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,e,n).then(u=>{if(u){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u.fromCache?"not-current":"current"),i.push(u);const c=V_.Ci(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.nc.Wo(i),await async function(a,l){const u=ue(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>$.forEach(l,d=>$.forEach(d.Si,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>$.forEach(d.Di,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!Tc(c))throw c;Z("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Ui.get(d),f=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(f);u.Ui=u.Ui.insert(d,p)}}}(r.localStore,s))}async function p5(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await zP(n.localStore,e);n.currentUser=e,function(i,s){i.hc.forEach(o=>{o.forEach(a=>{a.reject(new ee(A.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ac(n,r.ji)}}function m5(t,e){const n=ue(t),r=n.uc.get(e);if(r&&r.ec)return _e().add(r.key);{let i=_e();const s=n.ic.get(e);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}function g5(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c5.bind(null,e),e.nc.Wo=ZV.bind(null,e.eventManager),e.nc._c=e5.bind(null,e.eventManager),e}function v5(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h5.bind(null,e),e}class y5{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=lp(e.databaseInfo.databaseId),this.sharedClientState=this.mc(e),this.persistence=this.gc(e),await this.persistence.start(),this.localStore=this.yc(e),this.gcScheduler=this.Ic(e,this.localStore),this.indexBackfillerScheduler=this.Tc(e,this.localStore)}Ic(e,n){return null}Tc(e,n){return null}yc(e){return bV(this.persistence,new wV,e.initialUser,this.It)}gc(e){return new yV(z_.Bs,this.It)}mc(e){return new RV}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _5{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=p5.bind(null,this.syncEngine),await GV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new YV}createDatastore(e){const n=lp(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new OV(i));var i;return function(s,o,a,l){return new DV(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>cC(this.syncEngine,a,0),o=aC.C()?new aC:new PV,new FV(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new s5(r,i,s,o,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ue(e);Z("RemoteStore","RemoteStore shutting down."),n._u.add(5),await Nc(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_n.UNAUTHENTICATED,this.clientId=cP.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Z("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ee(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=K_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function b5(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await zP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function C5(t,e){t.asyncQueue.verifyOperationInProgress();const n=await S5(t);Z("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>lC(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>lC(e.remoteStore,s)),t.onlineComponents=e}async function S5(t){return t.offlineComponents||(Z("FirestoreClient","Using default OfflineComponentProvider"),await b5(t,new y5)),t.offlineComponents}async function iN(t){return t.onlineComponents||(Z("FirestoreClient","Using default OnlineComponentProvider"),await C5(t,new _5)),t.onlineComponents}function x5(t){return iN(t).then(e=>e.syncEngine)}async function hC(t){const e=await iN(t),n=e.eventManager;return n.onListen=o5.bind(null,e.syncEngine),n.onUnlisten=l5.bind(null,e.syncEngine),n}const fC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(t,e,n){if(!n)throw new ee(A.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function T5(t,e,n,r){if(e===!0&&r===!0)throw new ee(A.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pC(t){if(!te.isDocumentKey(t))throw new ee(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mC(t){if(te.isDocumentKey(t))throw new ee(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Y_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function Hd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Y_(t);throw new ee(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function I5(t,e){if(e<=0)throw new ee(A.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,T5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ee(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ee(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gC(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Kz;switch(n.type){case"gapi":const r=n.client;return new Yz(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ee(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=fC.get(e);n&&(Z("ComponentProvider","Removing Datastore"),fC.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class Yi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class Vi extends Yi{constructor(e,n,r){super(e,n,D_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new te(e))}withConverter(e){return new Vi(this.firestore,e,this._path)}}function k5(t,e,...n){if(t=Ot(t),sN("collection","path",e),t instanceof X_){const r=tt.fromString(e,...n);return mC(r),new Vi(t,null,r)}{if(!(t instanceof er||t instanceof Vi))throw new ee(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return mC(r),new Vi(t.firestore,null,r)}}function R5(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=cP.R()),sN("doc","path",e),t instanceof X_){const r=tt.fromString(e,...n);return pC(r),new er(t,null,new te(r))}{if(!(t instanceof er||t instanceof Vi))throw new ee(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return pC(r),new er(t.firestore,t instanceof Vi?t.converter:null,new te(r))}}function P5(t,e){return t=Ot(t),e=Ot(e),t instanceof Yi&&e instanceof Yi&&t.firestore===e.firestore&&kc(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new jP(this,"async_queue_retry"),this.jc=()=>{const n=Zm();n&&Z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.bo()};const e=Zm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const n=Zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const n=new Os;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}async Hc(){if(this.Bc.length!==0){try{await this.Bc[0](),this.Bc.shift(),this.xo.reset()}catch(e){if(!Tc(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.Bc.length>0&&this.xo.Ao(()=>this.Hc())}}zc(e){const n=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{this.qc=r,this.Kc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw ai("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Kc=!1,r))));return this.$c=n,n}enqueueAfterDelay(e,n,r){this.Wc(),this.Qc.indexOf(e)>-1&&(n=0);const i=q_.createAndSchedule(this,e,n,r,s=>this.Jc(s));return this.Uc.push(i),i}Wc(){this.qc&&le()}verifyOperationInProgress(){}async Yc(){let e;do e=this.$c,await e;while(e!==this.$c)}Xc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function vC(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class sf extends X_{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new N5,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||aN(this),this._firestoreClient.terminate()}}function A5(t,e){const n=typeof t=="object"?t:E0(),r=typeof t=="string"?t:e||"(default)";return La(n,"firestore").getImmediate({identifier:r})}function oN(t){return t._firestoreClient||aN(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function aN(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new a3(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new E5(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ea(Ht.fromBase64String(e))}catch(n){throw new ee(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ea(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=/^__.*__$/;class M5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rc(e,this.data,n,this.fieldTransforms)}}function lN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class tw{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ea(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new tw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return of(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(e.length===0)throw this.aa("Document fields must not be empty");if(lN(this.na)&&O5.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class $5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=r||lp(e)}fa(e,n,r,i=!1){return new tw({na:e,methodName:n,la:r,path:tn.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function D5(t){const e=t._freezeSettings(),n=lp(t._databaseId);return new $5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function L5(t,e,n,r,i,s={}){const o=t.fa(s.merge||s.mergeFields?2:0,e,n,i);hN("Data must be an object, but it was:",o,r);const a=cN(r,o);let l,u;if(s.merge)l=new Or(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=F5(e,d,n);if(!o.contains(h))throw new ee(A.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);B5(c,h)||c.push(h)}l=new Or(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new M5(new Xn(a),l,u)}class nw extends Z_{_toFieldTransform(e){return new I3(e.path,new Vu)}isEqual(e){return e instanceof nw}}function uN(t,e){if(dN(t=Ot(t)))return hN("Unsupported field value:",e,t),cN(t,e);if(t instanceof Z_)return function(n,r){if(!lN(r.na))throw r.aa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ra&&e.na!==4)throw e.aa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=uN(o,r.ca(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Ot(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return S3(r.It,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=wt.fromDate(n);return{timestampValue:nf(r.It,i)}}if(n instanceof wt){const i=new wt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:nf(r.It,i)}}if(n instanceof ew)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ea)return{bytesValue:DP(r.It,n._byteString)};if(n instanceof er){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.aa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:F_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.aa(`Unsupported field value: ${Y_(n)}`)}(t,e)}function cN(t,e){const n={};return dP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wa(t,(r,i)=>{const s=uN(i,e.ia(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function dN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof ew||t instanceof Ea||t instanceof er||t instanceof Z_)}function hN(t,e,n){if(!dN(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Y_(n);throw r==="an object"?e.aa(t+" a custom object"):e.aa(t+" "+r)}}function F5(t,e,n){if((e=Ot(e))instanceof J_)return e._internalPath;if(typeof e=="string")return fN(t,e);throw of("Field path arguments must be of type string or ",t,!1,void 0,n)}const U5=new RegExp("[~\\*/\\[\\]]");function fN(t,e,n){if(e.search(U5)>=0)throw of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new J_(...e.split("."))._internalPath}catch{throw of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function of(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ee(A.INVALID_ARGUMENT,a+t+l)}function B5(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class z5 extends pN{data(){return super.data()}}function rw(t,e){return typeof e=="string"?fN(t,e):e instanceof J_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mN extends pN{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class qd extends mN{data(e={}){return super.data(e)}}class V5{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Il(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qd(this._firestore,this._userDataWriter,r.key,r,new Il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new qd(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Il(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new qd(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Il(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:j5(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function j5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gN{}function H5(t,...e){for(const n of e)t=n._apply(t);return t}class q5 extends gN{constructor(e,n){super(),this.wa=e,this.ya=n,this.type="orderBy"}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new ee(A.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ee(A.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Zo(i,s);return function(a,l){if(gP(a)===null){const u=vP(a);u!==null&&Y5(a,u,l.field)}}(r,o),o}(e._query,this.wa,this.ya);return new Yi(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Ic(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function K5(t,e="asc"){const n=e,r=rw("orderBy",t);return new q5(r,n)}class G5 extends gN{constructor(e,n,r){super(),this.type=e,this.pa=n,this.Ia=r}_apply(e){return new Yi(e.firestore,e.converter,ef(e._query,this.pa,this.Ia))}}function Q5(t){return I5("limit",t),new G5("limit",t,"F")}function Y5(t,e,n){if(!n.isEqual(e))throw new ee(A.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{convertValue(e,n="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw le()}}convertObject(e,n){const r={};return Wa(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new ew(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fP(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fu(e));default:return null}}convertTimestamp(e){const n=Gi(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);qe(BP(r));const i=new Uu(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||ai(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class vN extends X5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ea(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,n)}}function Z5(t,e){const n=Hd(t.firestore,sf),r=R5(t),i=J5(t.converter,e);return tj(n,[L5(D5(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Zr.exists(!1))]).then(()=>r)}function ej(t,...e){var n,r,i;t=Ot(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||vC(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(vC(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof er)u=Hd(t.firestore,sf),c=D_(t._key.path),l={next:d=>{e[o]&&e[o](nj(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Hd(t,Yi);u=Hd(d.firestore,sf),c=d._query;const h=new vN(u);l={next:f=>{e[o]&&e[o](new V5(u,h,d,f))},error:e[o+1],complete:e[o+2]},W5(t._query)}return function(d,h,f,p){const m=new w5(p),E=new t5(h,m,f);return d.asyncQueue.enqueueAndForget(async()=>XV(await hC(d),E)),()=>{m.Rc(),d.asyncQueue.enqueueAndForget(async()=>JV(await hC(d),E))}}(oN(u),c,a,l)}function tj(t,e){return function(n,r){const i=new Os;return n.asyncQueue.enqueueAndForget(async()=>u5(await x5(n),r,i)),i.promise}(oN(t),e)}function nj(t,e,n){const r=n.docs.get(e._key),i=new vN(t);return new mN(t,i,e._key,r,new Il(n.hasPendingWrites,n.fromCache),e.converter)}function rj(){return new nw("serverTimestamp")}(function(t,e=!0){(function(n){ja=n})(ns),sr(new zn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new sf(new Gz(n.getProvider("auth-internal")),new Jz(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ee(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uu(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),pt(Ub,"3.4.15",t),pt(Ub,"3.4.15","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(!!this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(){if(this.appCheck){const e=await this.appCheck.getToken();return e.error?null:e.token}return null}async getContext(){const e=await this.getAuthToken(),n=await this.getMessagingToken(),r=await this.getAppCheckToken();return{authToken:e,messagingToken:n,appCheckToken:r}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="us-central1";class oj{constructor(e,n,r,i,s=yC,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new sj(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=yC}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}const _C="@firebase/functions",wC="0.8.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj="auth-internal",lj="app-check-internal",uj="messaging-internal";function cj(t,e){const n=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider(aj),a=r.getProvider(uj),l=r.getProvider(lj);return new oj(s,o,a,l,i,t)};sr(new zn(ij,n,"PUBLIC").setMultipleInstances(!0)),pt(_C,wC,e),pt(_C,wC,"esm2017")}cj(fetch.bind(self));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="firebasestorage.googleapis.com",dj="storageBucket",hj=2*60*1e3,fj=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends lr{constructor(e,n){super(eg(e),`Firebase Storage: ${n} (${eg(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Br.prototype)}_codeEquals(e){return eg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function eg(t){return"storage/"+t}function pj(){const t="An unknown error occurred, please check the error payload for server response.";return new Br("unknown",t)}function mj(){return new Br("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function gj(){return new Br("canceled","User canceled the upload/download.")}function vj(t){return new Br("invalid-url","Invalid URL '"+t+"'.")}function yj(t){return new Br("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function EC(t){return new Br("invalid-argument",t)}function _N(){return new Br("app-deleted","The Firebase app was deleted.")}function _j(t){return new Br("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=_r.makeFromUrl(e,n)}catch{return new _r(e,"")}if(r.path==="")return r;throw yj(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(_){_.path_=decodeURIComponent(_.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),p={bucket:1,path:3},m=n===yN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",g=new RegExp(`^https?://${m}/${i}/${E}`,"i"),y=[{regex:a,indices:l,postModify:s},{regex:f,indices:p,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let _=0;_<y.length;_++){const C=y[_],x=C.regex.exec(e);if(x){const S=x[C.indices.bucket];let T=x[C.indices.path];T||(T=""),r=new _r(S,T),C.postModify(r);break}}if(r==null)throw vj(e);return r}}class wj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...E){u||(u=!0,e.apply(null,E))}function d(E){i=setTimeout(()=>{i=null,t(f,l())},E)}function h(){s&&clearTimeout(s)}function f(E,...g){if(u){h();return}if(E){h(),c.call(null,E,...g);return}if(l()||o){h(),c.call(null,E,...g);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,d(y)}let p=!1;function m(E){p||(p=!0,h(),!u&&(i!==null?(E||(a=2),clearTimeout(i),d(0)):E||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function bj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(t){return t!==void 0}function bC(t,e,n,r){if(r<e)throw EC(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw EC(`Invalid value for '${t}'. Expected ${n} or less.`)}function Sj(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var af;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(af||(af={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n,r,i,s,o,a,l,u,c,d){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,f)=>{this.resolve_=h,this.reject_=f,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new pd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===af.NO_ERROR,l=s.getStatus();if(!a||this.isRetryStatusCode_(l)){const c=s.getErrorCode()===af.ABORT;r(!1,new pd(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new pd(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Cj(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=pj();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?_N():gj();o(l)}else{const l=mj();o(l)}};this.canceled_?n(!1,new pd(!1,null,!0)):this.backoffId_=Ej(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||s}}class pd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Tj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Ij(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function kj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Rj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Pj(t,e,n,r,i,s){const o=Sj(t.urlParams),a=t.url+o,l=Object.assign({},t.headers);return kj(l,e),Tj(l,n),Ij(l,s),Rj(l,r),new xj(a,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Aj(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n){this._service=e,n instanceof _r?this._location=n:this._location=_r.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new lf(e,n)}get root(){const e=new _r(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Aj(this._location.path)}get storage(){return this._service}get parent(){const e=Nj(this._location.path);if(e===null)return null;const n=new _r(this._location.bucket,e);return new lf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw _j(e)}}function CC(t,e){const n=e==null?void 0:e[dj];return n==null?null:_r.makeFromBucketSpec(n,t)}class Oj{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=yN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hj,this._maxUploadRetryTime=fj,this._requests=new Set,i!=null?this._bucket=_r.makeFromBucketSpec(i,this._host):this._bucket=CC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_r.makeFromBucketSpec(this._url,e):this._bucket=CC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lf(this,e)}_makeRequest(e,n,r,i){if(this._deleted)return new wj(_N());{const s=Pj(e,this._appId,r,i,n,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const SC="@firebase/storage",xC="0.9.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj="storage";function $j(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Oj(n,r,i,e,ns)}function Dj(){sr(new zn(Mj,$j,"PUBLIC").setMultipleInstances(!0)),pt(SC,xC,""),pt(SC,xC,"esm2017")}Dj();const wN="@firebase/installations",iw="0.5.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=1e4,bN=`w:${iw}`,CN="FIS_v2",Lj="https://firebaseinstallations.googleapis.com/v1",Fj=60*60*1e3,Uj="installations",Bj="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},eo=new oo(Uj,Bj,zj);function SN(t){return t instanceof lr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN({projectId:t}){return`${Lj}/projects/${t}/installations`}function TN(t){return{token:t.token,requestStatus:2,expiresIn:jj(t.expiresIn),creationTime:Date.now()}}async function IN(t,e){const r=(await e.json()).error;return eo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function kN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Vj(t,{refreshToken:e}){const n=kN(t);return n.append("Authorization",Wj(e)),n}async function RN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function jj(t){return Number(t.replace("s","000"))}function Wj(t){return`${CN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hj({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=xN(t),i=kN(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:CN,appId:t.appId,sdkVersion:bN},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await RN(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:TN(u.authToken)}}else throw await IN("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=/^[cdef][\w-]{21}$/,ty="";function Gj(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Qj(t);return Kj.test(n)?n:ty}catch{return ty}}function Qj(t){return qj(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new Map;function AN(t,e){const n=dp(t);ON(n,e),Yj(n,e)}function ON(t,e){const n=NN.get(t);if(!!n)for(const r of n)r(e)}function Yj(t,e){const n=Xj();n&&n.postMessage({key:t,fid:e}),Jj()}let Ts=null;function Xj(){return!Ts&&"BroadcastChannel"in self&&(Ts=new BroadcastChannel("[Firebase] FID Change"),Ts.onmessage=t=>{ON(t.data.key,t.data.fid)}),Ts}function Jj(){NN.size===0&&Ts&&(Ts.close(),Ts=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj="firebase-installations-database",eW=1,to="firebase-installations-store";let tg=null;function sw(){return tg||(tg=gI(Zj,eW,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(to)}}})),tg}async function uf(t,e){const n=dp(t),i=(await sw()).transaction(to,"readwrite"),s=i.objectStore(to),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&AN(t,e.fid),e}async function MN(t){const e=dp(t),r=(await sw()).transaction(to,"readwrite");await r.objectStore(to).delete(e),await r.done}async function hp(t,e){const n=dp(t),i=(await sw()).transaction(to,"readwrite"),s=i.objectStore(to),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&AN(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow(t){let e;const n=await hp(t.appConfig,r=>{const i=tW(r),s=nW(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===ty?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function tW(t){const e=t||{fid:Gj(),registrationStatus:0};return $N(e)}function nW(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(eo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=rW(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:iW(t)}:{installationEntry:e}}async function rW(t,e){try{const n=await Hj(t,e);return uf(t.appConfig,n)}catch(n){throw SN(n)&&n.customData.serverCode===409?await MN(t.appConfig):await uf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function iW(t){let e=await TC(t.appConfig);for(;e.registrationStatus===1;)await PN(100),e=await TC(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await ow(t);return r||n}return e}function TC(t){return hp(t,e=>{if(!e)throw eo.create("installation-not-found");return $N(e)})}function $N(t){return sW(t)?{fid:t.fid,registrationStatus:0}:t}function sW(t){return t.registrationStatus===1&&t.registrationTime+EN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oW({appConfig:t,heartbeatServiceProvider:e},n){const r=aW(t,n),i=Vj(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:bN,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await RN(()=>fetch(r,a));if(l.ok){const u=await l.json();return TN(u)}else throw await IN("Generate Auth Token",l)}function aW(t,{fid:e}){return`${xN(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aw(t,e=!1){let n;const r=await hp(t.appConfig,s=>{if(!DN(s))throw eo.create("not-registered");const o=s.authToken;if(!e&&cW(o))return s;if(o.requestStatus===1)return n=lW(t,e),s;{if(!navigator.onLine)throw eo.create("app-offline");const a=hW(s);return n=uW(t,a),a}});return n?await n:r.authToken}async function lW(t,e){let n=await IC(t.appConfig);for(;n.authToken.requestStatus===1;)await PN(100),n=await IC(t.appConfig);const r=n.authToken;return r.requestStatus===0?aw(t,e):r}function IC(t){return hp(t,e=>{if(!DN(e))throw eo.create("not-registered");const n=e.authToken;return fW(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function uW(t,e){try{const n=await oW(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await uf(t.appConfig,r),n}catch(n){if(SN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await MN(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await uf(t.appConfig,r)}throw n}}function DN(t){return t!==void 0&&t.registrationStatus===2}function cW(t){return t.requestStatus===2&&!dW(t)}function dW(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Fj}function hW(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function fW(t){return t.requestStatus===1&&t.requestTime+EN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pW(t){const e=t,{installationEntry:n,registrationPromise:r}=await ow(e);return r?r.catch(console.error):aw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mW(t,e=!1){const n=t;return await gW(n),(await aw(n,e)).token}async function gW(t){const{registrationPromise:e}=await ow(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vW(t){if(!t||!t.options)throw ng("App Configuration");if(!t.name)throw ng("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ng(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ng(t){return eo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="installations",yW="installations-internal",_W=t=>{const e=t.getProvider("app").getImmediate(),n=vW(e),r=La(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},wW=t=>{const e=t.getProvider("app").getImmediate(),n=La(e,LN).getImmediate();return{getId:()=>pW(n),getToken:i=>mW(n,i)}};function EW(){sr(new zn(LN,_W,"PUBLIC")),sr(new zn(yW,wW,"PRIVATE"))}EW();pt(wN,iw);pt(wN,iw,"esm2017");const rg="@firebase/remote-config",kC="0.3.11";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bW="remote-config";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW={["registration-window"]:"Undefined window object. This SDK only supports usage in a browser environment.",["registration-project-id"]:"Undefined project identifier. Check Firebase app initialization.",["registration-api-key"]:"Undefined API key. Check Firebase app initialization.",["registration-app-id"]:"Undefined app identifier. Check Firebase app initialization.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",["fetch-client-network"]:"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",["fetch-timeout"]:'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',["fetch-throttle"]:'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',["fetch-client-parse"]:"Fetch client could not parse response. Original error: {$originalErrorMessage}.",["fetch-status"]:"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",["indexed-db-unavailable"]:"Indexed DB is not supported by current browser"},bn=new oo("remoteconfig","Remote Config",CW);function SW(t){const e=Ot(t);return e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0})),e._initializePromise}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}async fetch(e){const[n,r]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(r&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;const i=await this.client.fetch(e),s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return i.status===200&&s.push(this.storage.setLastSuccessfulFetchResponse(i)),await Promise.all(s),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TW(t=navigator){return t.languages&&t.languages[0]||t.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}async fetch(e){var n,r,i;const[s,o]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,u={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:s,app_instance_id_token:o,app_id:this.appId,language_code:TW()},d={method:"POST",headers:u,body:JSON.stringify(c)},h=fetch(l,d),f=new Promise((y,_)=>{e.signal.addEventListener(()=>{const C=new Error("The operation was aborted.");C.name="AbortError",_(C)})});let p;try{await Promise.race([h,f]),p=await h}catch(y){let _="fetch-client-network";throw((n=y)===null||n===void 0?void 0:n.name)==="AbortError"&&(_="fetch-timeout"),bn.create(_,{originalErrorMessage:(r=y)===null||r===void 0?void 0:r.message})}let m=p.status;const E=p.headers.get("ETag")||void 0;let g,v;if(p.status===200){let y;try{y=await p.json()}catch(_){throw bn.create("fetch-client-parse",{originalErrorMessage:(i=_)===null||i===void 0?void 0:i.message})}g=y.entries,v=y.state}if(v==="INSTANCE_STATE_UNSPECIFIED"?m=500:v==="NO_CHANGE"?m=304:(v==="NO_TEMPLATE"||v==="EMPTY_CONFIG")&&(g={}),m!==304&&m!==200)throw bn.create("fetch-status",{httpStatus:m});return{status:m,eTag:E,config:g}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kW(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function RW(t){if(!(t instanceof lr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class PW{constructor(e,n){this.client=e,this.storage=n}async fetch(e){const n=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,n)}async attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){await kW(e.signal,n);try{const i=await this.client.fetch(e);return await this.storage.deleteThrottleMetadata(),i}catch(i){if(!RW(i))throw i;const s={throttleEndTimeMillis:Date.now()+ND(r),backoffCount:r+1};return await this.storage.setThrottleMetadata(s),this.attemptFetch(e,s)}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NW=60*1e3,AW=12*60*60*1e3;class OW{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:NW,minimumFetchIntervalMillis:AW},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t,e){var n;const r=t.target.error||void 0;return bn.create(e,{originalErrorMessage:r&&((n=r)===null||n===void 0?void 0:n.message)})}const ps="app_namespace_store",MW="firebase_remote_config",$W=1;function DW(){return new Promise((t,e)=>{var n;try{const r=indexedDB.open(MW,$W);r.onerror=i=>{e(Kd(i,"storage-open"))},r.onsuccess=i=>{t(i.target.result)},r.onupgradeneeded=i=>{const s=i.target.result;switch(i.oldVersion){case 0:s.createObjectStore(ps,{keyPath:"compositeKey"})}}}catch(r){e(bn.create("storage-open",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message}))}})}class LW{constructor(e,n,r,i=DW()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}async get(e){const n=await this.openDbPromise;return new Promise((r,i)=>{var s;const a=n.transaction([ps],"readonly").objectStore(ps),l=this.createCompositeKey(e);try{const u=a.get(l);u.onerror=c=>{i(Kd(c,"storage-get"))},u.onsuccess=c=>{const d=c.target.result;r(d?d.value:void 0)}}catch(u){i(bn.create("storage-get",{originalErrorMessage:(s=u)===null||s===void 0?void 0:s.message}))}})}async set(e,n){const r=await this.openDbPromise;return new Promise((i,s)=>{var o;const l=r.transaction([ps],"readwrite").objectStore(ps),u=this.createCompositeKey(e);try{const c=l.put({compositeKey:u,value:n});c.onerror=d=>{s(Kd(d,"storage-set"))},c.onsuccess=()=>{i()}}catch(c){s(bn.create("storage-set",{originalErrorMessage:(o=c)===null||o===void 0?void 0:o.message}))}})}async delete(e){const n=await this.openDbPromise;return new Promise((r,i)=>{var s;const a=n.transaction([ps],"readwrite").objectStore(ps),l=this.createCompositeKey(e);try{const u=a.delete(l);u.onerror=c=>{i(Kd(c,"storage-delete"))},u.onsuccess=()=>{r()}}catch(u){i(bn.create("storage-delete",{originalErrorMessage:(s=u)===null||s===void 0?void 0:s.message}))}})}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}async loadFromStorage(){const e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),i=await e;i&&(this.lastFetchStatus=i);const s=await n;s&&(this.lastSuccessfulFetchTimestampMillis=s);const o=await r;o&&(this.activeConfig=o)}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UW(){sr(new zn(bW,t,"PUBLIC").setMultipleInstances(!0)),pt(rg,kC),pt(rg,kC,"esm2017");function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw bn.create("registration-window");if(!dI())throw bn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw bn.create("registration-project-id");if(!o)throw bn.create("registration-api-key");if(!a)throw bn.create("registration-app-id");n=n||"firebase";const l=new LW(a,r.name,n),u=new FW(l),c=new sc(rg);c.logLevel=Se.ERROR;const d=new IW(i,ns,n,s,o,a),h=new PW(d,l),f=new xW(h,l,u,c),p=new OW(r,f,u,l,c);return SW(p),p}}UW();var fp={exports:{}},pp={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BW=w.exports,zW=Symbol.for("react.element"),VW=Symbol.for("react.fragment"),jW=Object.prototype.hasOwnProperty,WW=BW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HW={key:!0,ref:!0,__self:!0,__source:!0};function FN(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)jW.call(e,r)&&!HW.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zW,type:t,key:s,ref:o,props:i,_owner:WW.current}}pp.Fragment=VW;pp.jsx=FN;pp.jsxs=FN;(function(t){t.exports=pp})(fp);const UN=fp.exports.Fragment,k=fp.exports.jsx,Xe=fp.exports.jsxs,qW=Object.freeze(Object.defineProperty({__proto__:null,Fragment:UN,jsx:k,jsxs:Xe},Symbol.toStringTag,{value:"Module"}));var ny=function(t,e){return ny=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ny(t,e)};function pi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ny(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function KW(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function BN(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ba(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ca(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Sa(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function ta(t){return this instanceof ta?(this.v=t,this):new ta(t)}function GW(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{l(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){h.value instanceof ta?Promise.resolve(h.value.v).then(u,c):d(s[0][2],h)}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function QW(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ba=="function"?ba(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function bt(t){return typeof t=="function"}function lw(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ig=lw(function(t){return function(e){t(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function cf(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Oc=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=ba(o),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(m){e={error:m}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(bt(c))try{c()}catch(m){s=m instanceof ig?m.errors:[m]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=ba(d),f=h.next();!f.done;f=h.next()){var p=f.value;try{RC(p)}catch(m){s=s!=null?s:[],m instanceof ig?s=Sa(Sa([],Ca(s)),Ca(m.errors)):s.push(m)}}}catch(m){r={error:m}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(s)throw new ig(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)RC(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&cf(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&cf(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),zN=Oc.EMPTY;function VN(t){return t instanceof Oc||t&&"closed"in t&&bt(t.remove)&&bt(t.add)&&bt(t.unsubscribe)}function RC(t){bt(t)?t():t.unsubscribe()}var jN={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},YW={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Sa([t,e],Ca(n)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function WN(t){YW.setTimeout(function(){throw t})}function PC(){}function Gd(t){t()}var uw=function(t){pi(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,VN(n)&&n.add(r)):r.destination=e6,r}return e.create=function(n,r,i){return new Hu(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Oc),XW=Function.prototype.bind;function sg(t,e){return XW.call(t,e)}var JW=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){md(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){md(r)}else md(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){md(n)}},t}(),Hu=function(t){pi(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(bt(n)||!n)o={next:n!=null?n:void 0,error:r!=null?r:void 0,complete:i!=null?i:void 0};else{var a;s&&jN.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&sg(n.next,a),error:n.error&&sg(n.error,a),complete:n.complete&&sg(n.complete,a)}):o=n}return s.destination=new JW(o),s}return e}(uw);function md(t){WN(t)}function ZW(t){throw t}var e6={closed:!0,next:PC,error:ZW,complete:PC},cw=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function HN(t){return t}function t6(t){return t.length===0?HN:t.length===1?t[0]:function(e){return t.reduce(function(n,r){return r(n)},e)}}var mn=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=r6(e)?e:new Hu(e,n,r);return Gd(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=NC(n),new n(function(i,s){var o=new Hu({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[cw]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t6(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=NC(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function NC(t){var e;return(e=t!=null?t:jN.Promise)!==null&&e!==void 0?e:Promise}function n6(t){return t&&bt(t.next)&&bt(t.error)&&bt(t.complete)}function r6(t){return t&&t instanceof uw||n6(t)&&VN(t)}function i6(t){return bt(t==null?void 0:t.lift)}function fo(t){return function(e){if(i6(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function xa(t,e,n,r,i){return new s6(t,e,n,r,i)}var s6=function(t){pi(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n)||this;return l.onFinalize=o,l.shouldUnsubscribe=a,l._next=r?function(u){try{r(u)}catch(c){n.error(c)}}:t.prototype._next,l._error=s?function(u){try{s(u)}catch(c){n.error(c)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=i?function(){try{i()}catch(u){n.error(u)}finally{this.unsubscribe()}}:t.prototype._complete,l}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(uw),o6=lw(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),mp=function(t){pi(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new AC(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new o6},e.prototype.next=function(n){var r=this;Gd(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=ba(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;Gd(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;Gd(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?zN:(this.currentObservers=null,a.push(n),new Oc(function(){r.currentObservers=null,cf(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new mn;return n.source=this,n},e.create=function(n,r){return new AC(n,r)},e}(mn),AC=function(t){pi(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:zN},e}(mp),dw={now:function(){return(dw.delegate||Date).now()},delegate:void 0},a6=function(t){pi(e,t);function e(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=dw);var s=t.call(this)||this;return s._bufferSize=n,s._windowTime=r,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=r===1/0,s._bufferSize=Math.max(1,n),s._windowTime=Math.max(1,r),s}return e.prototype.next=function(n){var r=this,i=r.isStopped,s=r._buffer,o=r._infiniteTimeWindow,a=r._timestampProvider,l=r._windowTime;i||(s.push(n),!o&&s.push(a.now()+l)),this._trimBuffer(),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,s=i._infiniteTimeWindow,o=i._buffer,a=o.slice(),l=0;l<a.length&&!n.closed;l+=s?1:2)n.next(a[l]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,s=n._buffer,o=n._infiniteTimeWindow,a=(o?1:2)*r;if(r<1/0&&a<s.length&&s.splice(0,s.length-a),!o){for(var l=i.now(),u=0,c=1;c<s.length&&s[c]<=l;c+=2)u=c;u&&s.splice(0,u+1)}},e}(mp),l6=function(t){pi(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(Oc),ry={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=ry.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,Sa([t,e],Ca(n))):setInterval.apply(void 0,Sa([t,e],Ca(n)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},u6=function(t){pi(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(s,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),ry.setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;ry.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,s;try{this.work(n)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,cf(s,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(l6),OC=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=dw.now,t}(),c6=function(t){pi(e,t);function e(n,r){r===void 0&&(r=OC.now);var i=t.call(this,n,r)||this;return i.actions=[],i._active=!1,i._scheduled=void 0,i}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(OC);new c6(u6);var d6=new mn(function(t){return t.complete()});function h6(t){return t?f6(t):d6}function f6(t){return new mn(function(e){return t.schedule(function(){return e.complete()})})}function p6(t){return t&&bt(t.schedule)}function m6(t){return t[t.length-1]}function g6(t){return p6(m6(t))?t.pop():void 0}var qN=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function KN(t){return bt(t==null?void 0:t.then)}function GN(t){return bt(t[cw])}function QN(t){return Symbol.asyncIterator&&bt(t==null?void 0:t[Symbol.asyncIterator])}function YN(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function v6(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var XN=v6();function JN(t){return bt(t==null?void 0:t[XN])}function ZN(t){return GW(this,arguments,function(){var e,n,r,i;return BN(this,function(s){switch(s.label){case 0:e=t.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,ta(e.read())];case 3:return n=s.sent(),r=n.value,i=n.done,i?[4,ta(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,ta(r)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function eA(t){return bt(t==null?void 0:t.getReader)}function Ka(t){if(t instanceof mn)return t;if(t!=null){if(GN(t))return y6(t);if(qN(t))return _6(t);if(KN(t))return w6(t);if(QN(t))return tA(t);if(JN(t))return E6(t);if(eA(t))return b6(t)}throw YN(t)}function y6(t){return new mn(function(e){var n=t[cw]();if(bt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function _6(t){return new mn(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function w6(t){return new mn(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,WN)})}function E6(t){return new mn(function(e){var n,r;try{for(var i=ba(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function tA(t){return new mn(function(e){C6(t,e).catch(function(n){return e.error(n)})})}function b6(t){return tA(ZN(t))}function C6(t,e){var n,r,i,s;return KW(this,void 0,void 0,function(){var o,a;return BN(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=QW(t),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(o=r.value,e.next(o),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),i={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function $s(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function nA(t,e){return e===void 0&&(e=0),fo(function(n,r){n.subscribe(xa(r,function(i){return $s(r,t,function(){return r.next(i)},e)},function(){return $s(r,t,function(){return r.complete()},e)},function(i){return $s(r,t,function(){return r.error(i)},e)}))})}function rA(t,e){return e===void 0&&(e=0),fo(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function S6(t,e){return Ka(t).pipe(rA(e),nA(e))}function x6(t,e){return Ka(t).pipe(rA(e),nA(e))}function T6(t,e){return new mn(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function I6(t,e){return new mn(function(n){var r;return $s(n,e,function(){r=t[XN](),$s(n,e,function(){var i,s,o;try{i=r.next(),s=i.value,o=i.done}catch(a){n.error(a);return}o?n.complete():n.next(s)},0,!0)}),function(){return bt(r==null?void 0:r.return)&&r.return()}})}function iA(t,e){if(!t)throw new Error("Iterable cannot be null");return new mn(function(n){$s(n,e,function(){var r=t[Symbol.asyncIterator]();$s(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function k6(t,e){return iA(ZN(t),e)}function R6(t,e){if(t!=null){if(GN(t))return S6(t,e);if(qN(t))return T6(t,e);if(KN(t))return x6(t,e);if(QN(t))return iA(t,e);if(JN(t))return I6(t,e);if(eA(t))return k6(t,e)}throw YN(t)}function sA(t,e){return e?R6(t,e):Ka(t)}function MC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=g6(t);return sA(t,n)}lw(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function hw(t,e){return fo(function(n,r){var i=0;n.subscribe(xa(r,function(s){r.next(t.call(e,s,i++))}))})}function oA(t){return fo(function(e,n){var r=null,i=!1,s;r=e.subscribe(xa(n,void 0,void 0,function(o){s=Ka(t(o,oA(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function P6(t){t===void 0&&(t={});var e=t.connector,n=e===void 0?function(){return new mp}:e,r=t.resetOnError,i=r===void 0?!0:r,s=t.resetOnComplete,o=s===void 0?!0:s,a=t.resetOnRefCountZero,l=a===void 0?!0:a;return function(u){var c,d,h,f=0,p=!1,m=!1,E=function(){d==null||d.unsubscribe(),d=void 0},g=function(){E(),c=h=void 0,p=m=!1},v=function(){var y=c;g(),y==null||y.unsubscribe()};return fo(function(y,_){f++,!m&&!p&&E();var C=h=h!=null?h:n();_.add(function(){f--,f===0&&!m&&!p&&(d=og(v,l))}),C.subscribe(_),!c&&f>0&&(c=new Hu({next:function(x){return C.next(x)},error:function(x){m=!0,E(),d=og(g,i,x),C.error(x)},complete:function(){p=!0,E(),d=og(g,o),C.complete()}}),Ka(y).subscribe(c))})(u)}}function og(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e===!0){t();return}if(e!==!1){var i=new Hu({next:function(){i.unsubscribe(),t()}});return e.apply(void 0,Sa([],Ca(n))).subscribe(i)}}function N6(t,e,n){var r,i,s,o,a=!1;return t&&typeof t=="object"?(r=t.bufferSize,o=r===void 0?1/0:r,i=t.windowTime,e=i===void 0?1/0:i,s=t.refCount,a=s===void 0?!1:s,n=t.scheduler):o=t!=null?t:1/0,P6({connector:function(){return new a6(o,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function A6(t,e){return fo(function(n,r){var i=null,s=0,o=!1,a=function(){return o&&!i&&r.complete()};n.subscribe(xa(r,function(l){i==null||i.unsubscribe();var u=0,c=s++;Ka(t(l,c)).subscribe(i=xa(r,function(d){return r.next(e?e(l,d,c,u++):d)},function(){i=null,a()}))},function(){o=!0,a()}))})}function O6(t,e,n){var r=bt(t)||e||n?{next:t,error:e,complete:n}:t;return r?fo(function(i,s){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var a=!0;i.subscribe(xa(s,function(l){var u;(u=r.next)===null||u===void 0||u.call(r,l),s.next(l)},function(){var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},function(l){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),s.error(l)},function(){var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):HN}function aA(t){return new mn(function(e){var n=m2(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}const M6="[DEFAULT]",lA=w.exports.createContext(void 0),uA=w.exports.createContext(!1),$6="4.2.2",D6=(t,e)=>t===e||[...Object.keys(t),...Object.keys(e)].every(n=>t[n]===e[n]);function L6(t){const{firebaseConfig:e,appName:n,suspense:r}=t,i=w.exports.useMemo(()=>{if(t.firebaseApp)return t.firebaseApp;const s=kL().find(o=>o.name===(n||M6));if(s){if(e&&D6(s.options,e))return s;throw new Error(`Does not match the options already provided to the ${n||"default"} firebase app instance, give this new instance a different appName.`)}else{if(!e)throw new Error("No firebaseConfig provided");const o=w.exports.version||"unknown";return pt("react",o),pt("reactfire",$6),IL(e,n)}},[t.firebaseApp,e,n]);return w.exports.createElement(lA.Provider,{value:i},k(uA.Provider,{...Object.assign({value:r!=null?r:!1},t)}))}function F6(t){let e=w.exports.useContext(uA);return t!==void 0?t:e}function cA(){const t=w.exports.useContext(lA);if(!t)throw new Error("Cannot call useFirebaseApp unless your component is within a FirebaseAppProvider");return t}function dA(t){var e;const n=mw(),r=`auth:user:${n.name}`,i=aA(n),s=(e=Object.assign({},t))!==null&&e!==void 0?e:{};return n.currentUser!==void 0&&(s.initialData=n.currentUser,s.startWithValue=n.currentUser),fw(r,i,s)}function hA(t){if((t==null?void 0:t.hasOwnProperty("requiredClaims"))&&(t==null?void 0:t.hasOwnProperty("validateCustomClaims")))throw new Error('Cannot have both "requiredClaims" and "validateCustomClaims". Use one or the other.');const e=mw();let n=`auth:signInCheck:${e.name}::forceRefresh:${!!(t!=null&&t.forceRefresh)}`;t!=null&&t.forceRefresh&&(n=`${n}:forceRefresh:${t.forceRefresh}`),t!=null&&t.hasOwnProperty("requiredClaims")?n=`${n}:requiredClaims:${JSON.stringify(t.requiredClaims)}`:t!=null&&t.hasOwnProperty("validateCustomClaims")&&(n=`${n}:validateCustomClaims:${JSON.stringify(t.validateCustomClaims)}`);const r=aA(e).pipe(A6(i=>{var s;return i?t&&(t.hasOwnProperty("requiredClaims")||t.hasOwnProperty("validateCustomClaims"))?sA(i.getIdTokenResult((s=t==null?void 0:t.forceRefresh)!==null&&s!==void 0?s:!1)).pipe(hw(o=>{let a;t.hasOwnProperty("requiredClaims")?a=U6(t.requiredClaims):a=t.validateCustomClaims;const{hasRequiredClaims:l,errors:u}=a(o.claims);return{signedIn:!0,hasRequiredClaims:l,errors:u,user:i}})):MC({signedIn:!0,hasRequiredClaims:!0,errors:{},user:i}):MC({signedIn:!1,hasRequiredClaims:!1,errors:{},user:null})}));return fw(n,r)}function U6(t){return function(e){const n={};return Object.keys(t).forEach(r=>{t[r]!==e[r]&&(n[r]=[new gw("auth/missing-claim",`Expected "${t[r]}", but user has "${e[r]}" instead`)])}),{hasRequiredClaims:Object.keys(n).length===0,errors:n}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var us,vs;(function(t){t.added="child_added",t.removed="child_removed",t.changed="child_changed",t.moved="child_moved",t.value="value"})(vs||(vs={}));Object.freeze((us={},us[vs.added]=T4,us[vs.removed]=R4,us[vs.changed]=I4,us[vs.moved]=k4,us[vs.value]=x4,us));const B6=globalThis._reactFireDatabaseCachedQueries||[];globalThis._reactFireDatabaseCachedQueries||(globalThis._reactFireDatabaseCachedQueries=B6);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z6={includeMetadataChanges:!1};function V6(t,e){return e===void 0&&(e=z6),new mn(function(n){var r=ej(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function j6(t,e){e===void 0&&(e={});var n=t.data();return!t.exists()||typeof n!="object"||n===null||e.idField&&(n[e.idField]=t.id),n}function W6(t){return V6(t,{includeMetadataChanges:!0}).pipe(hw(function(e){return e.docs}))}function H6(t,e){return e===void 0&&(e={}),W6(t).pipe(hw(function(n){return n.map(function(r){return j6(r,e)})}))}class q6 extends mp{constructor(e,n){super(),this._timeoutWindow=n,this._hasValue=!1,this._error=void 0,this._firstEmission=new Promise(r=>this._resolveFirstEmission=r),this._innerObservable=e.pipe(O6({next:r=>{this._next(r)},error:r=>{this._error=r,this._resolveFirstEmission()}}),oA(()=>h6()),N6(1)),this._warmupSubscription=this._innerObservable.subscribe(),this._timeoutHandler=setTimeout(this._reset.bind(this),this._timeoutWindow)}get hasValue(){return this._hasValue||!!this._error}get value(){if(this._error)throw this._error;if(!this.hasValue)throw Error("Can only get value if SuspenseSubject has a value");return this._value}get firstEmission(){return this._firstEmission}_next(e){this._hasValue=!0,this._value=e,this._resolveFirstEmission()}_reset(){this._warmupSubscription&&this._warmupSubscription.unsubscribe(),this._hasValue=!1,this._value=void 0,this._error=void 0,this._firstEmission=new Promise(e=>this._resolveFirstEmission=e)}_subscribe(e){return this._timeoutHandler&&clearTimeout(this._timeoutHandler),this._innerSubscriber=this._innerObservable.subscribe(e),this._innerSubscriber}get ourError(){return this._error}}const K6=3e4,Qd=globalThis._reactFirePreloadedObservables||new Map;globalThis._reactFirePreloadedObservables||(globalThis._reactFirePreloadedObservables=Qd);function G6(t,e){if(Qd.has(e))return Qd.get(e);{const n=new q6(t,K6);return Qd.set(e,n),n}}function Q6(t){return function(e,n){const r=Object.assign(Object.assign({},e),{hasEmitted:e.hasEmitted||t.hasValue,error:t.ourError,firstValuePromise:t.firstEmission});switch(t.hasValue&&(r.data=t.value),n){case"value":return r.status="success",r;case"error":return r.status="error",r;case"complete":return r.isComplete=!0,r;default:throw new Error(`invalid action "${n}"`)}}}function fw(t,e,n={}){var r;if(!t)throw new Error("cannot call useObservable without an observableId");const i=G6(e,t),s=n.hasOwnProperty("initialData")||n.hasOwnProperty("startWithValue"),o=i.hasValue||s;if(F6(n.suspense)===!0&&!o)throw i.firstEmission;const a={status:o?"success":"loading",hasEmitted:o,isComplete:!1,data:i.hasValue?i.value:(r=n==null?void 0:n.initialData)!==null&&r!==void 0?r:n==null?void 0:n.startWithValue,error:i.ourError,firstValuePromise:i.firstEmission},[l,u]=w.exports.useReducer(Q6(i),a);return w.exports.useEffect(()=>{const c=i.subscribe({next:()=>{u("value")},error:d=>{throw u("error"),d},complete:()=>{u("complete")}});return()=>c.unsubscribe()},[i]),l}const iy=globalThis._reactFireFirestoreQueryCache||[];globalThis._reactFireFirestoreQueryCache||(globalThis._reactFireFirestoreQueryCache=iy);function Y6(t){const e=iy.findIndex(n=>P5(n,t));return e>-1?e:iy.push(t)-1}function X6(t,e){const n=e?iH(e):"NO_ID_FIELD",r=`firestore:collectionData:${Y6(t)}:idField=${n}`,i=H6(t,{idField:n});return fw(r,i,e)}w.exports.createContext(void 0);const fA=w.exports.createContext(void 0);w.exports.createContext(void 0);const J6=w.exports.createContext(void 0),pA=w.exports.createContext(void 0);w.exports.createContext(void 0);w.exports.createContext(void 0);w.exports.createContext(void 0);w.exports.createContext(void 0);function pw(t){return function(e){var n,r;if(!e.sdk)throw new Error("no sdk provided");const i=cA().name;if(((r=(n=e==null?void 0:e.sdk)===null||n===void 0?void 0:n.app)===null||r===void 0?void 0:r.name)!==i)throw new Error("sdk was initialized with a different firebase app");return w.exports.createElement(t.Provider,Object.assign({value:e.sdk},e))}}function mA(t){const e=w.exports.useContext(t);if(!e)throw new Error("SDK not found. useSdk must be called from within a provider");return e}const Z6=pw(fA),eH=pw(J6),tH=pw(pA),mw=()=>mA(fA),nH=()=>mA(pA);class gw extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="ReactFireError",Object.setPrototypeOf(this,gw.prototype)}}function rH(t,e){if(e==="idField"||e==="initialData"||e==="suspense")return t?t[e]:void 0;throw new Error(`Field "${e}" is not a valid key in ReactFireOptions`)}function iH(t){return rH(t,"idField")}function J(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function b(){return b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b.apply(this,arguments)}function gA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=gA(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function ae(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=gA(t))&&(r&&(r+=" "),r+=e);return r}function kl(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function tr(t,e,n={clone:!0}){const r=n.clone?b({},t):t;return kl(t)&&kl(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(kl(e[i])&&i in t&&kl(t[i])?r[i]=tr(t[i],e[i],n):r[i]=e[i])}),r}function Xi(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}var sH={exports:{}},Le={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw=Symbol.for("react.element"),yw=Symbol.for("react.portal"),gp=Symbol.for("react.fragment"),vp=Symbol.for("react.strict_mode"),yp=Symbol.for("react.profiler"),_p=Symbol.for("react.provider"),wp=Symbol.for("react.context"),oH=Symbol.for("react.server_context"),Ep=Symbol.for("react.forward_ref"),bp=Symbol.for("react.suspense"),Cp=Symbol.for("react.suspense_list"),Sp=Symbol.for("react.memo"),xp=Symbol.for("react.lazy"),aH=Symbol.for("react.offscreen"),vA;vA=Symbol.for("react.module.reference");function ur(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case vw:switch(t=t.type,t){case gp:case yp:case vp:case bp:case Cp:return t;default:switch(t=t&&t.$$typeof,t){case oH:case wp:case Ep:case xp:case Sp:case _p:return t;default:return e}}case yw:return e}}}Le.ContextConsumer=wp;Le.ContextProvider=_p;Le.Element=vw;Le.ForwardRef=Ep;Le.Fragment=gp;Le.Lazy=xp;Le.Memo=Sp;Le.Portal=yw;Le.Profiler=yp;Le.StrictMode=vp;Le.Suspense=bp;Le.SuspenseList=Cp;Le.isAsyncMode=function(){return!1};Le.isConcurrentMode=function(){return!1};Le.isContextConsumer=function(t){return ur(t)===wp};Le.isContextProvider=function(t){return ur(t)===_p};Le.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===vw};Le.isForwardRef=function(t){return ur(t)===Ep};Le.isFragment=function(t){return ur(t)===gp};Le.isLazy=function(t){return ur(t)===xp};Le.isMemo=function(t){return ur(t)===Sp};Le.isPortal=function(t){return ur(t)===yw};Le.isProfiler=function(t){return ur(t)===yp};Le.isStrictMode=function(t){return ur(t)===vp};Le.isSuspense=function(t){return ur(t)===bp};Le.isSuspenseList=function(t){return ur(t)===Cp};Le.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===gp||t===yp||t===vp||t===bp||t===Cp||t===aH||typeof t=="object"&&t!==null&&(t.$$typeof===xp||t.$$typeof===Sp||t.$$typeof===_p||t.$$typeof===wp||t.$$typeof===Ep||t.$$typeof===vA||t.getModuleId!==void 0)};Le.typeOf=ur;(function(t){t.exports=Le})(sH);function ne(t){if(typeof t!="string")throw new Error(Xi(7));return t.charAt(0).toUpperCase()+t.slice(1)}function sy(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function _w(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function lH(t,e){return()=>null}function Yd(t,e){return w.exports.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}function pn(t){return t&&t.ownerDocument||document}function Ji(t){return pn(t).defaultView||window}function uH(t,e){return()=>null}function qu(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const cH=typeof window<"u"?w.exports.useLayoutEffect:w.exports.useEffect,Fr=cH;let $C=0;function dH(t){const[e,n]=w.exports.useState(t),r=t||e;return w.exports.useEffect(()=>{e==null&&($C+=1,n(`mui-${$C}`))},[e]),r}const DC=vg["useId"];function ww(t){if(DC!==void 0){const e=DC();return t!=null?t:e}return dH(t)}function hH(t,e,n,r,i){return null}function df({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=w.exports.useRef(t!==void 0),[s,o]=w.exports.useState(e),a=i?t:s,l=w.exports.useCallback(u=>{i||o(u)},[]);return[a,l]}function Pi(t){const e=w.exports.useRef(t);return Fr(()=>{e.current=t}),w.exports.useCallback((...n)=>(0,e.current)(...n),[])}function Be(t,e){return w.exports.useMemo(()=>t==null&&e==null?null:n=>{qu(t,n),qu(e,n)},[t,e])}let Tp=!0,oy=!1,LC;const fH={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function pH(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&fH[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function mH(t){t.metaKey||t.altKey||t.ctrlKey||(Tp=!0)}function ag(){Tp=!1}function gH(){this.visibilityState==="hidden"&&oy&&(Tp=!0)}function vH(t){t.addEventListener("keydown",mH,!0),t.addEventListener("mousedown",ag,!0),t.addEventListener("pointerdown",ag,!0),t.addEventListener("touchstart",ag,!0),t.addEventListener("visibilitychange",gH,!0)}function yH(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Tp||pH(e)}function Ew(){const t=w.exports.useCallback(i=>{i!=null&&vH(i.ownerDocument)},[]),e=w.exports.useRef(!1);function n(){return e.current?(oy=!0,window.clearTimeout(LC),LC=window.setTimeout(()=>{oy=!1},100),e.current=!1,!0):!1}function r(i){return yH(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function yA(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function _A(t,e){const n=b({},e);return Object.keys(t).forEach(r=>{n[r]===void 0&&(n[r]=t[r])}),n}function Oe(t,e,n){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>(o&&(s.push(e(o)),n&&n[o]&&s.push(n[o])),s),[]).join(" ")}),r}const FC=t=>t,_H=()=>{let t=FC;return{configure(e){t=e},generate(e){return t(e)},reset(){t=FC}}},wH=_H(),bw=wH,EH={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Re(t,e,n="Mui"){const r=EH[e];return r?`${n}-${r}`:`${bw.generate(t)}-${e}`}function Te(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Re(t,i,n)}),r}function hf(t){return typeof t=="string"}function Rl(t,e={},n){return hf(t)?e:b({},e,{ownerState:b({},e.ownerState,n)})}function bH(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function ay(t,e){return typeof t=="function"?t(e):t}function UC(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function CH(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const f=ae(i==null?void 0:i.className,r==null?void 0:r.className,s,n==null?void 0:n.className),p=b({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=b({},n,i,r);return f.length>0&&(m.className=f),Object.keys(p).length>0&&(m.style=p),{props:m,internalRef:void 0}}const o=bH(b({},i,r)),a=UC(r),l=UC(i),u=e(o),c=ae(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=b({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=b({},u,n,l,a);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}const SH=["elementType","externalSlotProps","ownerState"];function ly(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i}=t,s=J(t,SH),o=ay(r,i),{props:a,internalRef:l}=CH(b({},s,{externalSlotProps:o})),u=Be(l,Be(o==null?void 0:o.ref,(e=t.additionalProps)==null?void 0:e.ref));return Rl(n,b({},a,{ref:u}),i)}var Nn="top",or="bottom",ar="right",An="left",Cw="auto",Mc=[Nn,or,ar,An],Ta="start",Ku="end",xH="clippingParents",wA="viewport",ml="popper",TH="reference",BC=Mc.reduce(function(t,e){return t.concat([e+"-"+Ta,e+"-"+Ku])},[]),EA=[].concat(Mc,[Cw]).reduce(function(t,e){return t.concat([e,e+"-"+Ta,e+"-"+Ku])},[]),IH="beforeRead",kH="read",RH="afterRead",PH="beforeMain",NH="main",AH="afterMain",OH="beforeWrite",MH="write",$H="afterWrite",DH=[IH,kH,RH,PH,NH,AH,OH,MH,$H];function Ur(t){return t?(t.nodeName||"").toLowerCase():null}function cr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function no(t){var e=cr(t).Element;return t instanceof e||t instanceof Element}function nr(t){var e=cr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Sw(t){if(typeof ShadowRoot>"u")return!1;var e=cr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function LH(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!nr(s)||!Ur(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function FH(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!nr(i)||!Ur(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const UH={name:"applyStyles",enabled:!0,phase:"write",fn:LH,effect:FH,requires:["computeStyles"]};function Mr(t){return t.split("-")[0]}var Ds=Math.max,ff=Math.min,Ia=Math.round;function uy(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function bA(){return!/^((?!chrome|android).)*safari/i.test(uy())}function ka(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&nr(t)&&(i=t.offsetWidth>0&&Ia(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ia(r.height)/t.offsetHeight||1);var o=no(t)?cr(t):window,a=o.visualViewport,l=!bA()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function xw(t){var e=ka(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function CA(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Sw(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ci(t){return cr(t).getComputedStyle(t)}function BH(t){return["table","td","th"].indexOf(Ur(t))>=0}function ss(t){return((no(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ip(t){return Ur(t)==="html"?t:t.assignedSlot||t.parentNode||(Sw(t)?t.host:null)||ss(t)}function zC(t){return!nr(t)||ci(t).position==="fixed"?null:t.offsetParent}function zH(t){var e=/firefox/i.test(uy()),n=/Trident/i.test(uy());if(n&&nr(t)){var r=ci(t);if(r.position==="fixed")return null}var i=Ip(t);for(Sw(i)&&(i=i.host);nr(i)&&["html","body"].indexOf(Ur(i))<0;){var s=ci(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function $c(t){for(var e=cr(t),n=zC(t);n&&BH(n)&&ci(n).position==="static";)n=zC(n);return n&&(Ur(n)==="html"||Ur(n)==="body"&&ci(n).position==="static")?e:n||zH(t)||e}function Tw(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Yl(t,e,n){return Ds(t,ff(e,n))}function VH(t,e,n){var r=Yl(t,e,n);return r>n?n:r}function SA(){return{top:0,right:0,bottom:0,left:0}}function xA(t){return Object.assign({},SA(),t)}function TA(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var jH=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,xA(typeof e!="number"?e:TA(e,Mc))};function WH(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Mr(n.placement),l=Tw(a),u=[An,ar].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=jH(i.padding,n),h=xw(s),f=l==="y"?Nn:An,p=l==="y"?or:ar,m=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],E=o[l]-n.rects.reference[l],g=$c(s),v=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,y=m/2-E/2,_=d[f],C=v-h[c]-d[p],x=v/2-h[c]/2+y,S=Yl(_,x,C),T=l;n.modifiersData[r]=(e={},e[T]=S,e.centerOffset=S-x,e)}}function HH(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!CA(e.elements.popper,i)||(e.elements.arrow=i))}const qH={name:"arrow",enabled:!0,phase:"main",fn:WH,effect:HH,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ra(t){return t.split("-")[1]}var KH={top:"auto",right:"auto",bottom:"auto",left:"auto"};function GH(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:Ia(e*i)/i||0,y:Ia(n*i)/i||0}}function VC(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,h=o.x,f=h===void 0?0:h,p=o.y,m=p===void 0?0:p,E=typeof c=="function"?c({x:f,y:m}):{x:f,y:m};f=E.x,m=E.y;var g=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),y=An,_=Nn,C=window;if(u){var x=$c(n),S="clientHeight",T="clientWidth";if(x===cr(n)&&(x=ss(n),ci(x).position!=="static"&&a==="absolute"&&(S="scrollHeight",T="scrollWidth")),x=x,i===Nn||(i===An||i===ar)&&s===Ku){_=or;var N=d&&x===C&&C.visualViewport?C.visualViewport.height:x[S];m-=N-r.height,m*=l?1:-1}if(i===An||(i===Nn||i===or)&&s===Ku){y=ar;var I=d&&x===C&&C.visualViewport?C.visualViewport.width:x[T];f-=I-r.width,f*=l?1:-1}}var M=Object.assign({position:a},u&&KH),V=c===!0?GH({x:f,y:m}):{x:f,y:m};if(f=V.x,m=V.y,l){var B;return Object.assign({},M,(B={},B[_]=v?"0":"",B[y]=g?"0":"",B.transform=(C.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",B))}return Object.assign({},M,(e={},e[_]=v?m+"px":"",e[y]=g?f+"px":"",e.transform="",e))}function QH(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:Mr(e.placement),variation:Ra(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,VC(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,VC(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const YH={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:QH,data:{}};var gd={passive:!0};function XH(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=cr(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,gd)}),a&&l.addEventListener("resize",n.update,gd),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,gd)}),a&&l.removeEventListener("resize",n.update,gd)}}const JH={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:XH,data:{}};var ZH={left:"right",right:"left",bottom:"top",top:"bottom"};function Xd(t){return t.replace(/left|right|bottom|top/g,function(e){return ZH[e]})}var eq={start:"end",end:"start"};function jC(t){return t.replace(/start|end/g,function(e){return eq[e]})}function Iw(t){var e=cr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function kw(t){return ka(ss(t)).left+Iw(t).scrollLeft}function tq(t,e){var n=cr(t),r=ss(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=bA();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+kw(t),y:l}}function nq(t){var e,n=ss(t),r=Iw(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Ds(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Ds(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+kw(t),l=-r.scrollTop;return ci(i||n).direction==="rtl"&&(a+=Ds(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function Rw(t){var e=ci(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function IA(t){return["html","body","#document"].indexOf(Ur(t))>=0?t.ownerDocument.body:nr(t)&&Rw(t)?t:IA(Ip(t))}function Xl(t,e){var n;e===void 0&&(e=[]);var r=IA(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=cr(r),o=i?[s].concat(s.visualViewport||[],Rw(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Xl(Ip(o)))}function cy(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function rq(t,e){var n=ka(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function WC(t,e,n){return e===wA?cy(tq(t,n)):no(e)?rq(e,n):cy(nq(ss(t)))}function iq(t){var e=Xl(Ip(t)),n=["absolute","fixed"].indexOf(ci(t).position)>=0,r=n&&nr(t)?$c(t):t;return no(r)?e.filter(function(i){return no(i)&&CA(i,r)&&Ur(i)!=="body"}):[]}function sq(t,e,n,r){var i=e==="clippingParents"?iq(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var c=WC(t,u,r);return l.top=Ds(c.top,l.top),l.right=ff(c.right,l.right),l.bottom=ff(c.bottom,l.bottom),l.left=Ds(c.left,l.left),l},WC(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function kA(t){var e=t.reference,n=t.element,r=t.placement,i=r?Mr(r):null,s=r?Ra(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Nn:l={x:o,y:e.y-n.height};break;case or:l={x:o,y:e.y+e.height};break;case ar:l={x:e.x+e.width,y:a};break;case An:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?Tw(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case Ta:l[u]=l[u]-(e[c]/2-n[c]/2);break;case Ku:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function Gu(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?xH:a,u=n.rootBoundary,c=u===void 0?wA:u,d=n.elementContext,h=d===void 0?ml:d,f=n.altBoundary,p=f===void 0?!1:f,m=n.padding,E=m===void 0?0:m,g=xA(typeof E!="number"?E:TA(E,Mc)),v=h===ml?TH:ml,y=t.rects.popper,_=t.elements[p?v:h],C=sq(no(_)?_:_.contextElement||ss(t.elements.popper),l,c,o),x=ka(t.elements.reference),S=kA({reference:x,element:y,strategy:"absolute",placement:i}),T=cy(Object.assign({},y,S)),N=h===ml?T:x,I={top:C.top-N.top+g.top,bottom:N.bottom-C.bottom+g.bottom,left:C.left-N.left+g.left,right:N.right-C.right+g.right},M=t.modifiersData.offset;if(h===ml&&M){var V=M[i];Object.keys(I).forEach(function(B){var Q=[ar,or].indexOf(B)>=0?1:-1,U=[Nn,or].indexOf(B)>=0?"y":"x";I[B]+=V[U]*Q})}return I}function oq(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?EA:l,c=Ra(r),d=c?a?BC:BC.filter(function(p){return Ra(p)===c}):Mc,h=d.filter(function(p){return u.indexOf(p)>=0});h.length===0&&(h=d);var f=h.reduce(function(p,m){return p[m]=Gu(t,{placement:m,boundary:i,rootBoundary:s,padding:o})[Mr(m)],p},{});return Object.keys(f).sort(function(p,m){return f[p]-f[m]})}function aq(t){if(Mr(t)===Cw)return[];var e=Xd(t);return[jC(t),e,jC(e)]}function lq(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=f===void 0?!0:f,m=n.allowedAutoPlacements,E=e.options.placement,g=Mr(E),v=g===E,y=l||(v||!p?[Xd(E)]:aq(E)),_=[E].concat(y).reduce(function(ie,ve){return ie.concat(Mr(ve)===Cw?oq(e,{placement:ve,boundary:c,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:m}):ve)},[]),C=e.rects.reference,x=e.rects.popper,S=new Map,T=!0,N=_[0],I=0;I<_.length;I++){var M=_[I],V=Mr(M),B=Ra(M)===Ta,Q=[Nn,or].indexOf(V)>=0,U=Q?"width":"height",P=Gu(e,{placement:M,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),L=Q?B?ar:An:B?or:Nn;C[U]>x[U]&&(L=Xd(L));var R=Xd(L),F=[];if(s&&F.push(P[V]<=0),a&&F.push(P[L]<=0,P[R]<=0),F.every(function(ie){return ie})){N=M,T=!1;break}S.set(M,F)}if(T)for(var z=p?3:1,K=function(ve){var he=_.find(function(Ve){var fe=S.get(Ve);if(fe)return fe.slice(0,ve).every(function($e){return $e})});if(he)return N=he,"break"},X=z;X>0;X--){var ge=K(X);if(ge==="break")break}e.placement!==N&&(e.modifiersData[r]._skip=!0,e.placement=N,e.reset=!0)}}const uq={name:"flip",enabled:!0,phase:"main",fn:lq,requiresIfExists:["offset"],data:{_skip:!1}};function HC(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function qC(t){return[Nn,ar,or,An].some(function(e){return t[e]>=0})}function cq(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Gu(e,{elementContext:"reference"}),a=Gu(e,{altBoundary:!0}),l=HC(o,r),u=HC(a,i,s),c=qC(l),d=qC(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const dq={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:cq};function hq(t,e,n){var r=Mr(t),i=[An,Nn].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[An,ar].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function fq(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=EA.reduce(function(c,d){return c[d]=hq(d,e.rects,s),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const pq={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:fq};function mq(t){var e=t.state,n=t.name;e.modifiersData[n]=kA({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const gq={name:"popperOffsets",enabled:!0,phase:"read",fn:mq,data:{}};function vq(t){return t==="x"?"y":"x"}function yq(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,p=n.tetherOffset,m=p===void 0?0:p,E=Gu(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),g=Mr(e.placement),v=Ra(e.placement),y=!v,_=Tw(g),C=vq(_),x=e.modifiersData.popperOffsets,S=e.rects.reference,T=e.rects.popper,N=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,I=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(!!x){if(s){var B,Q=_==="y"?Nn:An,U=_==="y"?or:ar,P=_==="y"?"height":"width",L=x[_],R=L+E[Q],F=L-E[U],z=f?-T[P]/2:0,K=v===Ta?S[P]:T[P],X=v===Ta?-T[P]:-S[P],ge=e.elements.arrow,ie=f&&ge?xw(ge):{width:0,height:0},ve=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:SA(),he=ve[Q],Ve=ve[U],fe=Yl(0,S[P],ie[P]),$e=y?S[P]/2-z-fe-he-I.mainAxis:K-fe-he-I.mainAxis,Ee=y?-S[P]/2+z+fe+Ve+I.mainAxis:X+fe+Ve+I.mainAxis,Ke=e.elements.arrow&&$c(e.elements.arrow),St=Ke?_==="y"?Ke.clientTop||0:Ke.clientLeft||0:0,Kt=(B=M==null?void 0:M[_])!=null?B:0,nt=L+$e-Kt-St,sn=L+Ee-Kt,gt=Yl(f?ff(R,nt):R,L,f?Ds(F,sn):F);x[_]=gt,V[_]=gt-L}if(a){var Ue,on=_==="x"?Nn:An,an=_==="x"?or:ar,Pe=x[C],xt=C==="y"?"height":"width",yn=Pe+E[on],qn=Pe-E[an],Dt=[Nn,An].indexOf(g)!==-1,Lt=(Ue=M==null?void 0:M[C])!=null?Ue:0,ln=Dt?yn:Pe-S[xt]-T[xt]-Lt+I.altAxis,Ce=Dt?Pe+S[xt]+T[xt]-Lt-I.altAxis:qn,q=f&&Dt?VH(ln,Pe,Ce):Yl(f?ln:yn,Pe,f?Ce:qn);x[C]=q,V[C]=q-Pe}e.modifiersData[r]=V}}const _q={name:"preventOverflow",enabled:!0,phase:"main",fn:yq,requiresIfExists:["offset"]};function wq(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Eq(t){return t===cr(t)||!nr(t)?Iw(t):wq(t)}function bq(t){var e=t.getBoundingClientRect(),n=Ia(e.width)/t.offsetWidth||1,r=Ia(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Cq(t,e,n){n===void 0&&(n=!1);var r=nr(e),i=nr(e)&&bq(e),s=ss(e),o=ka(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Ur(e)!=="body"||Rw(s))&&(a=Eq(e)),nr(e)?(l=ka(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=kw(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Sq(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function xq(t){var e=Sq(t);return DH.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Tq(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Iq(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var KC={placement:"bottom",modifiers:[],strategy:"absolute"};function GC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function kq(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?KC:i;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},KC,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:c,setOptions:function(g){var v=typeof g=="function"?g(c.options):g;m(),c.options=Object.assign({},s,c.options,v),c.scrollParents={reference:no(a)?Xl(a):a.contextElement?Xl(a.contextElement):[],popper:Xl(l)};var y=xq(Iq([].concat(r,c.options.modifiers)));return c.orderedModifiers=y.filter(function(_){return _.enabled}),p(),f.update()},forceUpdate:function(){if(!h){var g=c.elements,v=g.reference,y=g.popper;if(!!GC(v,y)){c.rects={reference:Cq(v,$c(y),c.options.strategy==="fixed"),popper:xw(y)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(I){return c.modifiersData[I.name]=Object.assign({},I.data)});for(var _=0;_<c.orderedModifiers.length;_++){if(c.reset===!0){c.reset=!1,_=-1;continue}var C=c.orderedModifiers[_],x=C.fn,S=C.options,T=S===void 0?{}:S,N=C.name;typeof x=="function"&&(c=x({state:c,options:T,name:N,instance:f})||c)}}}},update:Tq(function(){return new Promise(function(E){f.forceUpdate(),E(c)})}),destroy:function(){m(),h=!0}};if(!GC(a,l))return f;f.setOptions(u).then(function(E){!h&&u.onFirstUpdate&&u.onFirstUpdate(E)});function p(){c.orderedModifiers.forEach(function(E){var g=E.name,v=E.options,y=v===void 0?{}:v,_=E.effect;if(typeof _=="function"){var C=_({state:c,name:g,instance:f,options:y}),x=function(){};d.push(C||x)}})}function m(){d.forEach(function(E){return E()}),d=[]}return f}}var Rq=[JH,gq,YH,UH,pq,uq,_q,qH,dq],Pq=kq({defaultModifiers:Rq});function Nq(t){return typeof t=="function"?t():t}const Aq=w.exports.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=w.exports.useState(null),l=Be(w.exports.isValidElement(r)?r.ref:null,n);return Fr(()=>{s||a(Nq(i)||document.body)},[i,s]),Fr(()=>{if(o&&!s)return qu(n,o),()=>{qu(n,null)}},[n,o,s]),s?w.exports.isValidElement(r)?w.exports.cloneElement(r,{ref:l}):r:k(w.exports.Fragment,{children:o&&ec.exports.createPortal(r,o)})}),RA=Aq;function Oq(t){return Re("MuiPopperUnstyled",t)}Te("MuiPopperUnstyled",["root"]);const Mq=["anchorEl","children","component","components","componentsProps","direction","disablePortal","modifiers","open","ownerState","placement","popperOptions","popperRef","TransitionProps"],$q=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"];function Dq(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function dy(t){return typeof t=="function"?t():t}const Lq=()=>Oe({root:["root"]},Oq,{}),Fq={},Uq=w.exports.forwardRef(function(e,n){var r;const{anchorEl:i,children:s,component:o,components:a={},componentsProps:l={},direction:u,disablePortal:c,modifiers:d,open:h,ownerState:f,placement:p,popperOptions:m,popperRef:E,TransitionProps:g}=e,v=J(e,Mq),y=w.exports.useRef(null),_=Be(y,n),C=w.exports.useRef(null),x=Be(C,E),S=w.exports.useRef(x);Fr(()=>{S.current=x},[x]),w.exports.useImperativeHandle(E,()=>C.current,[]);const T=Dq(p,u),[N,I]=w.exports.useState(T);w.exports.useEffect(()=>{C.current&&C.current.forceUpdate()}),Fr(()=>{if(!i||!h)return;const U=R=>{I(R.placement)};dy(i);let P=[{name:"preventOverflow",options:{altBoundary:c}},{name:"flip",options:{altBoundary:c}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:R})=>{U(R)}}];d!=null&&(P=P.concat(d)),m&&m.modifiers!=null&&(P=P.concat(m.modifiers));const L=Pq(dy(i),y.current,b({placement:T},m,{modifiers:P}));return S.current(L),()=>{L.destroy(),S.current(null)}},[i,c,d,h,m,T]);const M={placement:N};g!==null&&(M.TransitionProps=g);const V=Lq(),B=(r=o!=null?o:a.Root)!=null?r:"div",Q=ly({elementType:B,externalSlotProps:l.root,externalForwardedProps:v,additionalProps:{role:"tooltip",ref:_},ownerState:b({},e,f),className:V.root});return k(B,b({},Q,{children:typeof s=="function"?s(M):s}))}),Bq=w.exports.forwardRef(function(e,n){const{anchorEl:r,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:h=Fq,popperRef:f,style:p,transition:m=!1}=e,E=J(e,$q),[g,v]=w.exports.useState(!0),y=()=>{v(!1)},_=()=>{v(!0)};if(!l&&!c&&(!m||g))return null;const C=s||(r?pn(dy(r)).body:void 0);return k(RA,{disablePortal:a,container:C,children:k(Uq,b({anchorEl:r,direction:o,disablePortal:a,modifiers:u,ref:n,open:m?!g:c,placement:d,popperOptions:h,popperRef:f},E,{style:b({position:"fixed",top:0,left:0,display:!c&&l&&(!m||g)?"none":null},p),TransitionProps:m?{in:c,onEnter:y,onExited:_}:null,children:i}))})}),zq=Bq;function Vq(t){const e=pn(t);return e.body===t?Ji(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Jl(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function QC(t){return parseInt(Ji(t).getComputedStyle(t).paddingRight,10)||0}function jq(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function YC(t,e,n,r=[],i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!jq(o);a&&l&&Jl(o,i)})}function lg(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function Wq(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(Vq(r)){const o=yA(pn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${QC(r)+o}px`;const a=pn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${QC(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=pn(r).body;else{const o=r.parentElement,a=Ji(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function Hq(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class qq{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Jl(e.modalRef,!1);const i=Hq(n);YC(n,e.mount,e.modalRef,i,!0);const s=lg(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=lg(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=Wq(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=lg(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&Jl(e.modalRef,n),YC(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&Jl(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const Kq=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Gq(t){const e=parseInt(t.getAttribute("tabindex"),10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Qq(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Yq(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Qq(t))}function Xq(t){const e=[],n=[];return Array.from(t.querySelectorAll(Kq)).forEach((r,i)=>{const s=Gq(r);s===-1||!Yq(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function Jq(){return!0}function Zq(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=Xq,isEnabled:o=Jq,open:a}=t,l=w.exports.useRef(),u=w.exports.useRef(null),c=w.exports.useRef(null),d=w.exports.useRef(null),h=w.exports.useRef(null),f=w.exports.useRef(!1),p=w.exports.useRef(null),m=Be(e.ref,p),E=w.exports.useRef(null);w.exports.useEffect(()=>{!a||!p.current||(f.current=!n)},[n,a]),w.exports.useEffect(()=>{if(!a||!p.current)return;const y=pn(p.current);return p.current.contains(y.activeElement)||(p.current.hasAttribute("tabIndex")||p.current.setAttribute("tabIndex",-1),f.current&&p.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),w.exports.useEffect(()=>{if(!a||!p.current)return;const y=pn(p.current),_=S=>{const{current:T}=p;if(T!==null){if(!y.hasFocus()||r||!o()||l.current){l.current=!1;return}if(!T.contains(y.activeElement)){if(S&&h.current!==S.target||y.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!f.current)return;let M=[];if((y.activeElement===u.current||y.activeElement===c.current)&&(M=s(p.current)),M.length>0){var N,I;const V=Boolean(((N=E.current)==null?void 0:N.shiftKey)&&((I=E.current)==null?void 0:I.key)==="Tab"),B=M[0],Q=M[M.length-1];V?Q.focus():B.focus()}else T.focus()}}},C=S=>{E.current=S,!(r||!o()||S.key!=="Tab")&&y.activeElement===p.current&&S.shiftKey&&(l.current=!0,c.current.focus())};y.addEventListener("focusin",_),y.addEventListener("keydown",C,!0);const x=setInterval(()=>{y.activeElement.tagName==="BODY"&&_()},50);return()=>{clearInterval(x),y.removeEventListener("focusin",_),y.removeEventListener("keydown",C,!0)}},[n,r,i,o,a,s]);const g=y=>{d.current===null&&(d.current=y.relatedTarget),f.current=!0,h.current=y.target;const _=e.props.onFocus;_&&_(y)},v=y=>{d.current===null&&(d.current=y.relatedTarget),f.current=!0};return Xe(w.exports.Fragment,{children:[k("div",{tabIndex:a?0:-1,onFocus:v,ref:u,"data-testid":"sentinelStart"}),w.exports.cloneElement(e,{ref:m,onFocus:g}),k("div",{tabIndex:a?0:-1,onFocus:v,ref:c,"data-testid":"sentinelEnd"})]})}function e8(t){return Re("MuiModal",t)}Te("MuiModal",["root","hidden"]);const t8=["children","classes","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited"],n8=t=>{const{open:e,exited:n,classes:r}=t;return Oe({root:["root",!e&&n&&"hidden"]},e8,r)};function r8(t){return typeof t=="function"?t():t}function i8(t){return t.children?t.children.props.hasOwnProperty("in"):!1}const s8=new qq,o8=w.exports.forwardRef(function(e,n){var r;const{children:i,classes:s,closeAfterTransition:o=!1,component:a="div",components:l={},componentsProps:u={},container:c,disableAutoFocus:d=!1,disableEnforceFocus:h=!1,disableEscapeKeyDown:f=!1,disablePortal:p=!1,disableRestoreFocus:m=!1,disableScrollLock:E=!1,hideBackdrop:g=!1,keepMounted:v=!1,manager:y=s8,onBackdropClick:_,onClose:C,onKeyDown:x,open:S,onTransitionEnter:T,onTransitionExited:N}=e,I=J(e,t8),[M,V]=w.exports.useState(!0),B=w.exports.useRef({}),Q=w.exports.useRef(null),U=w.exports.useRef(null),P=Be(U,n),L=i8(e),R=(r=e["aria-hidden"])!=null?r:!0,F=()=>pn(Q.current),z=()=>(B.current.modalRef=U.current,B.current.mountNode=Q.current,B.current),K=()=>{y.mount(z(),{disableScrollLock:E}),U.current.scrollTop=0},X=Pi(()=>{const Ue=r8(c)||F().body;y.add(z(),Ue),U.current&&K()}),ge=w.exports.useCallback(()=>y.isTopModal(z()),[y]),ie=Pi(Ue=>{Q.current=Ue,Ue&&(S&&ge()?K():Jl(U.current,R))}),ve=w.exports.useCallback(()=>{y.remove(z(),R)},[y,R]);w.exports.useEffect(()=>()=>{ve()},[ve]),w.exports.useEffect(()=>{S?X():(!L||!o)&&ve()},[S,ve,L,o,X]);const he=b({},e,{classes:s,closeAfterTransition:o,disableAutoFocus:d,disableEnforceFocus:h,disableEscapeKeyDown:f,disablePortal:p,disableRestoreFocus:m,disableScrollLock:E,exited:M,hideBackdrop:g,keepMounted:v}),Ve=n8(he),fe=()=>{V(!1),T&&T()},$e=()=>{V(!0),N&&N(),o&&ve()},Ee=Ue=>{Ue.target===Ue.currentTarget&&(_&&_(Ue),C&&C(Ue,"backdropClick"))},Ke=Ue=>{x&&x(Ue),!(Ue.key!=="Escape"||!ge())&&(f||(Ue.stopPropagation(),C&&C(Ue,"escapeKeyDown")))},St={};i.props.tabIndex===void 0&&(St.tabIndex="-1"),L&&(St.onEnter=sy(fe,i.props.onEnter),St.onExited=sy($e,i.props.onExited));const Kt=l.Root||a,nt=ly({elementType:Kt,externalSlotProps:u.root,externalForwardedProps:I,additionalProps:{ref:P,role:"presentation",onKeyDown:Ke},className:Ve.root,ownerState:he}),sn=l.Backdrop,gt=ly({elementType:sn,externalSlotProps:u.backdrop,additionalProps:{"aria-hidden":!0,onClick:Ee,open:S},ownerState:he});return!v&&!S&&(!L||M)?null:k(RA,{ref:ie,container:c,disablePortal:p,children:Xe(Kt,b({},nt,{children:[!g&&sn?k(sn,b({},gt)):null,k(Zq,{disableEnforceFocus:h,disableAutoFocus:d,disableRestoreFocus:m,isEnabled:ge,open:S,children:w.exports.cloneElement(i,St)})]}))})}),a8=o8,l8=["onChange","maxRows","minRows","style","value"];function vd(t,e){return parseInt(t[e],10)||0}const u8={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function XC(t){return t==null||Object.keys(t).length===0}const c8=w.exports.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=J(e,l8),{current:u}=w.exports.useRef(a!=null),c=w.exports.useRef(null),d=Be(n,c),h=w.exports.useRef(null),f=w.exports.useRef(0),[p,m]=w.exports.useState({}),E=w.exports.useCallback(()=>{const C=c.current,S=Ji(C).getComputedStyle(C);if(S.width==="0px")return{};const T=h.current;T.style.width=S.width,T.value=C.value||e.placeholder||"x",T.value.slice(-1)===`
`&&(T.value+=" ");const N=S["box-sizing"],I=vd(S,"padding-bottom")+vd(S,"padding-top"),M=vd(S,"border-bottom-width")+vd(S,"border-top-width"),V=T.scrollHeight;T.value="x";const B=T.scrollHeight;let Q=V;s&&(Q=Math.max(Number(s)*B,Q)),i&&(Q=Math.min(Number(i)*B,Q)),Q=Math.max(Q,B);const U=Q+(N==="border-box"?I+M:0),P=Math.abs(Q-V)<=1;return{outerHeightStyle:U,overflow:P}},[i,s,e.placeholder]),g=(C,x)=>{const{outerHeightStyle:S,overflow:T}=x;return f.current<20&&(S>0&&Math.abs((C.outerHeightStyle||0)-S)>1||C.overflow!==T)?(f.current+=1,{overflow:T,outerHeightStyle:S}):C},v=w.exports.useCallback(()=>{const C=E();XC(C)||m(x=>g(x,C))},[E]),y=()=>{const C=E();XC(C)||ec.exports.flushSync(()=>{m(x=>g(x,C))})};w.exports.useEffect(()=>{const C=_w(()=>{f.current=0,c.current&&y()}),x=Ji(c.current);x.addEventListener("resize",C);let S;return typeof ResizeObserver<"u"&&(S=new ResizeObserver(C),S.observe(c.current)),()=>{C.clear(),x.removeEventListener("resize",C),S&&S.disconnect()}}),Fr(()=>{v()}),w.exports.useEffect(()=>{f.current=0},[a]);const _=C=>{f.current=0,u||v(),r&&r(C)};return Xe(w.exports.Fragment,{children:[k("textarea",b({value:a,onChange:_,ref:d,rows:s,style:b({height:p.outerHeightStyle,overflow:p.overflow?"hidden":null},o)},l)),k("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:b({},u8.shadow,o,{padding:0})})]})}),d8=c8;function PA(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var h8=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,f8=PA(function(t){return h8.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function p8(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function m8(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var g8=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(m8(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=p8(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Xt="-ms-",pf="-moz-",Ie="-webkit-",NA="comm",Pw="rule",Nw="decl",v8="@import",AA="@keyframes",y8=Math.abs,kp=String.fromCharCode,_8=Object.assign;function w8(t,e){return(((e<<2^wn(t,0))<<2^wn(t,1))<<2^wn(t,2))<<2^wn(t,3)}function OA(t){return t.trim()}function E8(t,e){return(t=e.exec(t))?t[0]:t}function Ne(t,e,n){return t.replace(e,n)}function hy(t,e){return t.indexOf(e)}function wn(t,e){return t.charCodeAt(e)|0}function Qu(t,e,n){return t.slice(e,n)}function Tr(t){return t.length}function Aw(t){return t.length}function yd(t,e){return e.push(t),t}function b8(t,e){return t.map(e).join("")}var Rp=1,Pa=1,MA=0,Mn=0,ht=0,Ga="";function Pp(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Rp,column:Pa,length:o,return:""}}function gl(t,e){return _8(Pp("",null,null,"",null,null,0),t,{length:-t.length},e)}function C8(){return ht}function S8(){return ht=Mn>0?wn(Ga,--Mn):0,Pa--,ht===10&&(Pa=1,Rp--),ht}function Un(){return ht=Mn<MA?wn(Ga,Mn++):0,Pa++,ht===10&&(Pa=1,Rp++),ht}function $r(){return wn(Ga,Mn)}function Jd(){return Mn}function Dc(t,e){return Qu(Ga,t,e)}function Yu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $A(t){return Rp=Pa=1,MA=Tr(Ga=t),Mn=0,[]}function DA(t){return Ga="",t}function Zd(t){return OA(Dc(Mn-1,fy(t===91?t+2:t===40?t+1:t)))}function x8(t){for(;(ht=$r())&&ht<33;)Un();return Yu(t)>2||Yu(ht)>3?"":" "}function T8(t,e){for(;--e&&Un()&&!(ht<48||ht>102||ht>57&&ht<65||ht>70&&ht<97););return Dc(t,Jd()+(e<6&&$r()==32&&Un()==32))}function fy(t){for(;Un();)switch(ht){case t:return Mn;case 34:case 39:t!==34&&t!==39&&fy(ht);break;case 40:t===41&&fy(t);break;case 92:Un();break}return Mn}function I8(t,e){for(;Un()&&t+ht!==47+10;)if(t+ht===42+42&&$r()===47)break;return"/*"+Dc(e,Mn-1)+"*"+kp(t===47?t:Un())}function k8(t){for(;!Yu($r());)Un();return Dc(t,Mn)}function R8(t){return DA(eh("",null,null,null,[""],t=$A(t),0,[0],t))}function eh(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,f=0,p=0,m=1,E=1,g=1,v=0,y="",_=i,C=s,x=r,S=y;E;)switch(p=v,v=Un()){case 40:if(p!=108&&S.charCodeAt(d-1)==58){hy(S+=Ne(Zd(v),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:S+=Zd(v);break;case 9:case 10:case 13:case 32:S+=x8(p);break;case 92:S+=T8(Jd()-1,7);continue;case 47:switch($r()){case 42:case 47:yd(P8(I8(Un(),Jd()),e,n),l);break;default:S+="/"}break;case 123*m:a[u++]=Tr(S)*g;case 125*m:case 59:case 0:switch(v){case 0:case 125:E=0;case 59+c:f>0&&Tr(S)-d&&yd(f>32?ZC(S+";",r,n,d-1):ZC(Ne(S," ","")+";",r,n,d-2),l);break;case 59:S+=";";default:if(yd(x=JC(S,e,n,u,c,i,a,y,_=[],C=[],d),s),v===123)if(c===0)eh(S,e,x,x,_,s,d,a,C);else switch(h){case 100:case 109:case 115:eh(t,x,x,r&&yd(JC(t,x,x,0,0,i,a,y,i,_=[],d),C),i,C,d,a,r?_:C);break;default:eh(S,x,x,x,[""],C,0,a,C)}}u=c=f=0,m=g=1,y=S="",d=o;break;case 58:d=1+Tr(S),f=p;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&S8()==125)continue}switch(S+=kp(v),v*m){case 38:g=c>0?1:(S+="\f",-1);break;case 44:a[u++]=(Tr(S)-1)*g,g=1;break;case 64:$r()===45&&(S+=Zd(Un())),h=$r(),c=d=Tr(y=S+=k8(Jd())),v++;break;case 45:p===45&&Tr(S)==2&&(m=0)}}return s}function JC(t,e,n,r,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],f=Aw(h),p=0,m=0,E=0;p<r;++p)for(var g=0,v=Qu(t,d+1,d=y8(m=o[p])),y=t;g<f;++g)(y=OA(m>0?h[g]+" "+v:Ne(v,/&\f/g,h[g])))&&(l[E++]=y);return Pp(t,e,n,i===0?Pw:a,l,u,c)}function P8(t,e,n){return Pp(t,e,n,NA,kp(C8()),Qu(t,2,-2),0)}function ZC(t,e,n,r){return Pp(t,e,n,Nw,Qu(t,0,r),Qu(t,r+1,-1),r)}function LA(t,e){switch(w8(t,e)){case 5103:return Ie+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ie+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ie+t+pf+t+Xt+t+t;case 6828:case 4268:return Ie+t+Xt+t+t;case 6165:return Ie+t+Xt+"flex-"+t+t;case 5187:return Ie+t+Ne(t,/(\w+).+(:[^]+)/,Ie+"box-$1$2"+Xt+"flex-$1$2")+t;case 5443:return Ie+t+Xt+"flex-item-"+Ne(t,/flex-|-self/,"")+t;case 4675:return Ie+t+Xt+"flex-line-pack"+Ne(t,/align-content|flex-|-self/,"")+t;case 5548:return Ie+t+Xt+Ne(t,"shrink","negative")+t;case 5292:return Ie+t+Xt+Ne(t,"basis","preferred-size")+t;case 6060:return Ie+"box-"+Ne(t,"-grow","")+Ie+t+Xt+Ne(t,"grow","positive")+t;case 4554:return Ie+Ne(t,/([^-])(transform)/g,"$1"+Ie+"$2")+t;case 6187:return Ne(Ne(Ne(t,/(zoom-|grab)/,Ie+"$1"),/(image-set)/,Ie+"$1"),t,"")+t;case 5495:case 3959:return Ne(t,/(image-set\([^]*)/,Ie+"$1$`$1");case 4968:return Ne(Ne(t,/(.+:)(flex-)?(.*)/,Ie+"box-pack:$3"+Xt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ie+t+t;case 4095:case 3583:case 4068:case 2532:return Ne(t,/(.+)-inline(.+)/,Ie+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Tr(t)-1-e>6)switch(wn(t,e+1)){case 109:if(wn(t,e+4)!==45)break;case 102:return Ne(t,/(.+:)(.+)-([^]+)/,"$1"+Ie+"$2-$3$1"+pf+(wn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~hy(t,"stretch")?LA(Ne(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(wn(t,e+1)!==115)break;case 6444:switch(wn(t,Tr(t)-3-(~hy(t,"!important")&&10))){case 107:return Ne(t,":",":"+Ie)+t;case 101:return Ne(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ie+(wn(t,14)===45?"inline-":"")+"box$3$1"+Ie+"$2$3$1"+Xt+"$2box$3")+t}break;case 5936:switch(wn(t,e+11)){case 114:return Ie+t+Xt+Ne(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ie+t+Xt+Ne(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ie+t+Xt+Ne(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ie+t+Xt+t+t}return t}function na(t,e){for(var n="",r=Aw(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function N8(t,e,n,r){switch(t.type){case v8:case Nw:return t.return=t.return||t.value;case NA:return"";case AA:return t.return=t.value+"{"+na(t.children,r)+"}";case Pw:t.value=t.props.join(",")}return Tr(n=na(t.children,r))?t.return=t.value+"{"+n+"}":""}function A8(t){var e=Aw(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function O8(t){return function(e){e.root||(e=e.return)&&t(e)}}function M8(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Nw:t.return=LA(t.value,t.length);break;case AA:return na([gl(t,{value:Ne(t.value,"@","@"+Ie)})],r);case Pw:if(t.length)return b8(t.props,function(i){switch(E8(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return na([gl(t,{props:[Ne(i,/:(read-\w+)/,":"+pf+"$1")]})],r);case"::placeholder":return na([gl(t,{props:[Ne(i,/:(plac\w+)/,":"+Ie+"input-$1")]}),gl(t,{props:[Ne(i,/:(plac\w+)/,":"+pf+"$1")]}),gl(t,{props:[Ne(i,/:(plac\w+)/,Xt+"input-$1")]})],r)}return""})}}var $8=function(e,n,r){for(var i=0,s=0;i=s,s=$r(),i===38&&s===12&&(n[r]=1),!Yu(s);)Un();return Dc(e,Mn)},D8=function(e,n){var r=-1,i=44;do switch(Yu(i)){case 0:i===38&&$r()===12&&(n[r]=1),e[r]+=$8(Mn-1,n,r);break;case 2:e[r]+=Zd(i);break;case 4:if(i===44){e[++r]=$r()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=kp(i)}while(i=Un());return e},L8=function(e,n){return DA(D8($A(e),n))},eS=new WeakMap,F8=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!eS.get(r))&&!i){eS.set(e,!0);for(var s=[],o=L8(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},U8=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}},B8=[M8],z8=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var E=m.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||B8,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var E=m.getAttribute("data-emotion").split(" "),g=1;g<E.length;g++)s[E[g]]=!0;a.push(m)});var l,u=[F8,U8];{var c,d=[N8,O8(function(m){c.insert(m)})],h=A8(u.concat(i,d)),f=function(E){return na(R8(E),h)};l=function(E,g,v,y){c=v,f(E?E+"{"+g.styles+"}":g.styles),y&&(p.inserted[g.name]=!0)}}var p={key:n,sheet:new g8({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p},FA={exports:{}},Fe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $t=typeof Symbol=="function"&&Symbol.for,Ow=$t?Symbol.for("react.element"):60103,Mw=$t?Symbol.for("react.portal"):60106,Np=$t?Symbol.for("react.fragment"):60107,Ap=$t?Symbol.for("react.strict_mode"):60108,Op=$t?Symbol.for("react.profiler"):60114,Mp=$t?Symbol.for("react.provider"):60109,$p=$t?Symbol.for("react.context"):60110,$w=$t?Symbol.for("react.async_mode"):60111,Dp=$t?Symbol.for("react.concurrent_mode"):60111,Lp=$t?Symbol.for("react.forward_ref"):60112,Fp=$t?Symbol.for("react.suspense"):60113,V8=$t?Symbol.for("react.suspense_list"):60120,Up=$t?Symbol.for("react.memo"):60115,Bp=$t?Symbol.for("react.lazy"):60116,j8=$t?Symbol.for("react.block"):60121,W8=$t?Symbol.for("react.fundamental"):60117,H8=$t?Symbol.for("react.responder"):60118,q8=$t?Symbol.for("react.scope"):60119;function Hn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ow:switch(t=t.type,t){case $w:case Dp:case Np:case Op:case Ap:case Fp:return t;default:switch(t=t&&t.$$typeof,t){case $p:case Lp:case Bp:case Up:case Mp:return t;default:return e}}case Mw:return e}}}function UA(t){return Hn(t)===Dp}Fe.AsyncMode=$w;Fe.ConcurrentMode=Dp;Fe.ContextConsumer=$p;Fe.ContextProvider=Mp;Fe.Element=Ow;Fe.ForwardRef=Lp;Fe.Fragment=Np;Fe.Lazy=Bp;Fe.Memo=Up;Fe.Portal=Mw;Fe.Profiler=Op;Fe.StrictMode=Ap;Fe.Suspense=Fp;Fe.isAsyncMode=function(t){return UA(t)||Hn(t)===$w};Fe.isConcurrentMode=UA;Fe.isContextConsumer=function(t){return Hn(t)===$p};Fe.isContextProvider=function(t){return Hn(t)===Mp};Fe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ow};Fe.isForwardRef=function(t){return Hn(t)===Lp};Fe.isFragment=function(t){return Hn(t)===Np};Fe.isLazy=function(t){return Hn(t)===Bp};Fe.isMemo=function(t){return Hn(t)===Up};Fe.isPortal=function(t){return Hn(t)===Mw};Fe.isProfiler=function(t){return Hn(t)===Op};Fe.isStrictMode=function(t){return Hn(t)===Ap};Fe.isSuspense=function(t){return Hn(t)===Fp};Fe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Np||t===Dp||t===Op||t===Ap||t===Fp||t===V8||typeof t=="object"&&t!==null&&(t.$$typeof===Bp||t.$$typeof===Up||t.$$typeof===Mp||t.$$typeof===$p||t.$$typeof===Lp||t.$$typeof===W8||t.$$typeof===H8||t.$$typeof===q8||t.$$typeof===j8)};Fe.typeOf=Hn;(function(t){t.exports=Fe})(FA);var BA=FA.exports,K8={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},G8={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},zA={};zA[BA.ForwardRef]=K8;zA[BA.Memo]=G8;var Q8=!0;function Y8(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var VA=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Q8===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},jA=function(e,n,r){VA(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function X8(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var J8={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Z8=/[A-Z]|^ms/g,eK=/_EMO_([^_]+?)_([^]*?)_EMO_/g,WA=function(e){return e.charCodeAt(1)===45},tS=function(e){return e!=null&&typeof e!="boolean"},ug=PA(function(t){return WA(t)?t:t.replace(Z8,"-$&").toLowerCase()}),nS=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(eK,function(r,i,s){return Ir={name:i,styles:s,next:Ir},i})}return J8[e]!==1&&!WA(e)&&typeof n=="number"&&n!==0?n+"px":n};function Xu(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Ir={name:n.name,styles:n.styles,next:Ir},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Ir={name:r.name,styles:r.styles,next:Ir},r=r.next;var i=n.styles+";";return i}return tK(t,e,n)}case"function":{if(t!==void 0){var s=Ir,o=n(t);return Ir=s,Xu(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function tK(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Xu(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":tS(o)&&(r+=ug(s)+":"+nS(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)tS(o[a])&&(r+=ug(s)+":"+nS(s,o[a])+";");else{var l=Xu(t,e,o);switch(s){case"animation":case"animationName":{r+=ug(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var rS=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ir,Dw=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Ir=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Xu(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Xu(r,n,e[a]),i&&(s+=o[a]);rS.lastIndex=0;for(var l="",u;(u=rS.exec(s))!==null;)l+="-"+u[1];var c=X8(s)+l;return{name:c,styles:s,next:Ir}},nK=function(e){return e()},HA=vg["useInsertionEffect"]?vg["useInsertionEffect"]:!1,rK=HA||nK,iS=HA||w.exports.useLayoutEffect,qA=w.exports.createContext(typeof HTMLElement<"u"?z8({key:"css"}):null);qA.Provider;var KA=function(e){return w.exports.forwardRef(function(n,r){var i=w.exports.useContext(qA);return e(n,i,r)})},GA=w.exports.createContext({}),iK=KA(function(t,e){var n=t.styles,r=Dw([n],void 0,w.exports.useContext(GA)),i=w.exports.useRef();return iS(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),iS(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&jA(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function Lw(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Dw(e)}var Lc=function(){var e=Lw.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},sK=f8,oK=function(e){return e!=="theme"},sS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?sK:oK},oS=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},aK=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return VA(n,r,i),rK(function(){return jA(n,r,i)}),null},lK=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=oS(e,n,r),l=a||sS(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,f=1;f<h;f++)d.push(c[f],c[0][f])}var p=KA(function(m,E,g){var v=u&&m.as||i,y="",_=[],C=m;if(m.theme==null){C={};for(var x in m)C[x]=m[x];C.theme=w.exports.useContext(GA)}typeof m.className=="string"?y=Y8(E.registered,_,m.className):m.className!=null&&(y=m.className+" ");var S=Dw(d.concat(_),E.registered,C);y+=E.key+"-"+S.name,o!==void 0&&(y+=" "+o);var T=u&&a===void 0?sS(v):l,N={};for(var I in m)u&&I==="as"||T(I)&&(N[I]=m[I]);return N.className=y,N.ref=g,w.exports.createElement(w.exports.Fragment,null,w.exports.createElement(aK,{cache:E,serialized:S,isStringTag:typeof v=="string"}),w.exports.createElement(v,N))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=d,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(m,E){return t(m,b({},n,E,{shouldForwardProp:oS(p,E,!0)})).apply(void 0,d)},p}},uK=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],py=lK.bind();uK.forEach(function(t){py[t]=py(t)});const cK=py;function dK(t){return t==null||Object.keys(t).length===0}function hK(t){const{styles:e,defaultTheme:n={}}=t;return k(iK,{styles:typeof e=="function"?i=>e(dK(i)?n:i):e})}/** @license MUI v5.10.5
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function QA(t,e){return cK(t,e)}const fK=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function Zl(t,e){return e?tr(t,e,{clone:!1}):t}const Fw={xs:0,sm:600,md:900,lg:1200,xl:1536},aS={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Fw[t]}px)`};function os(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||aS;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||aS;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||Fw).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function pK(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function mK(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Uw(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function lS(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Uw(t,n)||r,e&&(i=e(i)),i}function H(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=Uw(l,r)||{};return os(o,a,d=>{let h=lS(u,i,d);return d===h&&typeof d=="string"&&(h=lS(u,i,`${e}${d==="default"?"":ne(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function as(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Zl(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function gK(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const vK={m:"margin",p:"padding"},yK={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},uS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},_K=gK(t=>{if(t.length>2)if(uS[t])t=uS[t];else return[t];const[e,n]=t.split(""),r=vK[e],i=yK[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),wK=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],EK=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],YA=[...wK,...EK];function Fc(t,e,n,r){var i;const s=(i=Uw(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function XA(t){return Fc(t,"spacing",8)}function Uc(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function bK(t,e){return n=>t.reduce((r,i)=>(r[i]=Uc(e,n),r),{})}function CK(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=_K(n),s=bK(i,r),o=t[n];return os(t,o,s)}function SK(t,e){const n=XA(t.theme);return Object.keys(t).map(r=>CK(t,e,r,n)).reduce(Zl,{})}function zp(t){return SK(t,YA)}zp.propTypes={};zp.filterProps=YA;function Bc(t){return typeof t!="number"?t:`${t}px solid`}const xK=H({prop:"border",themeKey:"borders",transform:Bc}),TK=H({prop:"borderTop",themeKey:"borders",transform:Bc}),IK=H({prop:"borderRight",themeKey:"borders",transform:Bc}),kK=H({prop:"borderBottom",themeKey:"borders",transform:Bc}),RK=H({prop:"borderLeft",themeKey:"borders",transform:Bc}),PK=H({prop:"borderColor",themeKey:"palette"}),NK=H({prop:"borderTopColor",themeKey:"palette"}),AK=H({prop:"borderRightColor",themeKey:"palette"}),OK=H({prop:"borderBottomColor",themeKey:"palette"}),MK=H({prop:"borderLeftColor",themeKey:"palette"}),Bw=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Fc(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Uc(e,r)});return os(t,t.borderRadius,n)}return null};Bw.propTypes={};Bw.filterProps=["borderRadius"];const $K=as(xK,TK,IK,kK,RK,PK,NK,AK,OK,MK,Bw),JA=$K,DK=H({prop:"displayPrint",cssProperty:!1,transform:t=>({"@media print":{display:t}})}),LK=H({prop:"display"}),FK=H({prop:"overflow"}),UK=H({prop:"textOverflow"}),BK=H({prop:"visibility"}),zK=H({prop:"whiteSpace"}),ZA=as(DK,LK,FK,UK,BK,zK),VK=H({prop:"flexBasis"}),jK=H({prop:"flexDirection"}),WK=H({prop:"flexWrap"}),HK=H({prop:"justifyContent"}),qK=H({prop:"alignItems"}),KK=H({prop:"alignContent"}),GK=H({prop:"order"}),QK=H({prop:"flex"}),YK=H({prop:"flexGrow"}),XK=H({prop:"flexShrink"}),JK=H({prop:"alignSelf"}),ZK=H({prop:"justifyItems"}),eG=H({prop:"justifySelf"}),tG=as(VK,jK,WK,HK,qK,KK,GK,QK,YK,XK,JK,ZK,eG),eO=tG,zw=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Fc(t.theme,"spacing",8),n=r=>({gap:Uc(e,r)});return os(t,t.gap,n)}return null};zw.propTypes={};zw.filterProps=["gap"];const Vw=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Fc(t.theme,"spacing",8),n=r=>({columnGap:Uc(e,r)});return os(t,t.columnGap,n)}return null};Vw.propTypes={};Vw.filterProps=["columnGap"];const jw=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Fc(t.theme,"spacing",8),n=r=>({rowGap:Uc(e,r)});return os(t,t.rowGap,n)}return null};jw.propTypes={};jw.filterProps=["rowGap"];const nG=H({prop:"gridColumn"}),rG=H({prop:"gridRow"}),iG=H({prop:"gridAutoFlow"}),sG=H({prop:"gridAutoColumns"}),oG=H({prop:"gridAutoRows"}),aG=H({prop:"gridTemplateColumns"}),lG=H({prop:"gridTemplateRows"}),uG=H({prop:"gridTemplateAreas"}),cG=H({prop:"gridArea"}),dG=as(zw,Vw,jw,nG,rG,iG,sG,oG,aG,lG,uG,cG),tO=dG,hG=H({prop:"color",themeKey:"palette"}),fG=H({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),pG=H({prop:"backgroundColor",themeKey:"palette"}),mG=as(hG,fG,pG),nO=mG,gG=H({prop:"position"}),vG=H({prop:"zIndex",themeKey:"zIndex"}),yG=H({prop:"top"}),_G=H({prop:"right"}),wG=H({prop:"bottom"}),EG=H({prop:"left"}),rO=as(gG,vG,yG,_G,wG,EG),bG=H({prop:"boxShadow",themeKey:"shadows"}),iO=bG;function ls(t){return t<=1&&t!==0?`${t*100}%`:t}const CG=H({prop:"width",transform:ls}),sO=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||Fw[n]||ls(n)}};return os(t,t.maxWidth,e)}return null};sO.filterProps=["maxWidth"];const SG=H({prop:"minWidth",transform:ls}),xG=H({prop:"height",transform:ls}),TG=H({prop:"maxHeight",transform:ls}),IG=H({prop:"minHeight",transform:ls});H({prop:"size",cssProperty:"width",transform:ls});H({prop:"size",cssProperty:"height",transform:ls});const kG=H({prop:"boxSizing"}),RG=as(CG,sO,SG,xG,TG,IG,kG),oO=RG,PG=H({prop:"fontFamily",themeKey:"typography"}),NG=H({prop:"fontSize",themeKey:"typography"}),AG=H({prop:"fontStyle",themeKey:"typography"}),OG=H({prop:"fontWeight",themeKey:"typography"}),MG=H({prop:"letterSpacing"}),$G=H({prop:"textTransform"}),DG=H({prop:"lineHeight"}),LG=H({prop:"textAlign"}),FG=H({prop:"typography",cssProperty:!1,themeKey:"typography"}),UG=as(FG,PG,NG,AG,OG,MG,DG,LG,$G),aO=UG,cS={borders:JA.filterProps,display:ZA.filterProps,flexbox:eO.filterProps,grid:tO.filterProps,positions:rO.filterProps,palette:nO.filterProps,shadows:iO.filterProps,sizing:oO.filterProps,spacing:zp.filterProps,typography:aO.filterProps},lO={borders:JA,display:ZA,flexbox:eO,grid:tO,positions:rO,palette:nO,shadows:iO,sizing:oO,spacing:zp,typography:aO},BG=Object.keys(cS).reduce((t,e)=>(cS[e].forEach(n=>{t[n]=lO[e]}),t),{});function zG(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function VG(t,e){return typeof t=="function"?t(e):t}function jG(t=lO){const e=Object.keys(t).reduce((i,s)=>(t[s].filterProps.forEach(o=>{i[o]=t[s]}),i),{});function n(i,s,o){const a={[i]:s,theme:o},l=e[i];return l?l(a):{[i]:s}}function r(i){const{sx:s,theme:o={}}=i||{};if(!s)return null;function a(l){let u=l;if(typeof l=="function")u=l(o);else if(typeof l!="object")return l;if(!u)return null;const c=pK(o.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(f=>{const p=VG(u[f],o);if(p!=null)if(typeof p=="object")if(e[f])h=Zl(h,n(f,p,o));else{const m=os({theme:o},p,E=>({[f]:E}));zG(m,p)?h[f]=r({sx:p,theme:o}):h=Zl(h,m)}else h=Zl(h,n(f,p,o))}),mK(d,h)}return Array.isArray(s)?s.map(a):a(s)}return r}const uO=jG();uO.filterProps=["sx"];const cO=uO,WG=["sx"],HG=t=>{const e={systemProps:{},otherProps:{}};return Object.keys(t).forEach(n=>{BG[n]?e.systemProps[n]=t[n]:e.otherProps[n]=t[n]}),e};function dO(t){const{sx:e}=t,n=J(t,WG),{systemProps:r,otherProps:i}=HG(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return kl(a)?b({},r,a):r}:s=b({},r,e),b({},i,{sx:s})}const qG=["values","unit","step"],KG=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>b({},n,{[r.key]:r.val}),{})};function GG(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=J(t,qG),s=KG(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,f){const p=o.indexOf(f);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:f)-r/100}${n})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const f=o.indexOf(h);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return b({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:n},i)}const QG={borderRadius:4},YG=QG;function XG(t=8){if(t.mui)return t;const e=XA({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}const JG=["breakpoints","palette","spacing","shape"];function Vp(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=J(t,JG),a=GG(n),l=XG(i);let u=tr({breakpoints:a,direction:"ltr",components:{},palette:b({mode:"light"},r),spacing:l,shape:b({},YG,s)},o);return u=e.reduce((c,d)=>tr(c,d),u),u}const ZG=w.exports.createContext(null),e9=ZG;function t9(){return w.exports.useContext(e9)}function n9(t){return Object.keys(t).length===0}function hO(t=null){const e=t9();return!e||n9(e)?t:e}const r9=Vp();function Ww(t=r9){return hO(t)}const i9=["className","component"];function s9(t={}){const{defaultTheme:e,defaultClassName:n="MuiBox-root",generateClassName:r,styleFunctionSx:i=cO}=t,s=QA("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(i);return w.exports.forwardRef(function(l,u){const c=Ww(e),d=dO(l),{className:h,component:f="div"}=d,p=J(d,i9);return k(s,b({as:f,ref:u,className:ae(h,r?r(n):n),theme:c},p))})}const o9=["variant"];function dS(t){return t.length===0}function fO(t){const{variant:e}=t,n=J(t,o9);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=dS(r)?t[i]:ne(t[i]):r+=`${dS(r)?i:ne(i)}${ne(t[i].toString())}`}),r}const a9=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],l9=["theme"],u9=["theme"];function vl(t){return Object.keys(t).length===0}function c9(t){return typeof t=="string"&&t.charCodeAt(0)>96}const d9=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,h9=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=fO(i.props);r[s]=i.style}),r},f9=(t,e,n,r)=>{var i,s;const{ownerState:o={}}=t,a=[],l=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(u=>{let c=!0;Object.keys(u.props).forEach(d=>{o[d]!==u.props[d]&&t[d]!==u.props[d]&&(c=!1)}),c&&a.push(e[fO(u.props)])}),a};function eu(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const p9=Vp();function pO(t={}){const{defaultTheme:e=p9,rootShouldForwardProp:n=eu,slotShouldForwardProp:r=eu,styleFunctionSx:i=cO}=t,s=o=>{const a=vl(o.theme)?e:o.theme;return i(b({},o,{theme:a}))};return s.__mui_systemSx=!0,(o,a={})=>{fK(o,_=>_.filter(C=>!(C!=null&&C.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h}=a,f=J(a,a9),p=c!==void 0?c:u&&u!=="Root"||!1,m=d||!1;let E,g=eu;u==="Root"?g=n:u?g=r:c9(o)&&(g=void 0);const v=QA(o,b({shouldForwardProp:g,label:E},f)),y=(_,...C)=>{const x=C?C.map(I=>typeof I=="function"&&I.__emotion_real!==I?M=>{let{theme:V}=M,B=J(M,l9);return I(b({theme:vl(V)?e:V},B))}:I):[];let S=_;l&&h&&x.push(I=>{const M=vl(I.theme)?e:I.theme,V=d9(l,M);if(V){const B={};return Object.entries(V).forEach(([Q,U])=>{B[Q]=typeof U=="function"?U(b({},I,{theme:M})):U}),h(I,B)}return null}),l&&!p&&x.push(I=>{const M=vl(I.theme)?e:I.theme;return f9(I,h9(l,M),M,l)}),m||x.push(s);const T=x.length-C.length;if(Array.isArray(_)&&T>0){const I=new Array(T).fill("");S=[..._,...I],S.raw=[..._.raw,...I]}else typeof _=="function"&&_.__emotion_real!==_&&(S=I=>{let{theme:M}=I,V=J(I,u9);return _(b({theme:vl(M)?e:M},V))});return v(S,...x)};return v.withConfig&&(y.withConfig=v.withConfig),y}}const m9=pO(),g9=m9;function v9(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:_A(e.components[n].defaultProps,r)}function mO({props:t,name:e,defaultTheme:n}){const r=Ww(n);return v9({theme:r,name:e,props:t})}function Hw(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function y9(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ro(t){if(t.type)return t;if(t.charAt(0)==="#")return ro(y9(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Xi(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Xi(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function jp(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function _9(t){t=ro(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),jp({type:a,values:l})}function hS(t){t=ro(t);let e=t.type==="hsl"?ro(_9(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function w9(t,e){const n=hS(t),r=hS(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function In(t,e){return t=ro(t),e=Hw(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,jp(t)}function E9(t,e){if(t=ro(t),e=Hw(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return jp(t)}function b9(t,e){if(t=ro(t),e=Hw(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return jp(t)}const C9=["className","component","disableGutters","fixed","maxWidth","classes"],S9=Vp(),x9=g9("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${ne(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),T9=t=>mO({props:t,name:"MuiContainer",defaultTheme:S9}),I9=(t,e)=>{const n=l=>Re(e,l),{classes:r,fixed:i,disableGutters:s,maxWidth:o}=t,a={root:["root",o&&`maxWidth${ne(String(o))}`,i&&"fixed",s&&"disableGutters"]};return Oe(a,n,r)};function k9(t={}){const{createStyledComponent:e=x9,useThemeProps:n=T9,componentName:r="MuiContainer"}=t,i=e(({theme:o,ownerState:a})=>b({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:a})=>a.fixed&&Object.keys(o.breakpoints.values).reduce((l,u)=>{const c=u,d=o.breakpoints.values[c];return d!==0&&(l[o.breakpoints.up(c)]={maxWidth:`${d}${o.breakpoints.unit}`}),l},{}),({theme:o,ownerState:a})=>b({},a.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[o.breakpoints.up(a.maxWidth)]:{maxWidth:`${o.breakpoints.values[a.maxWidth]}${o.breakpoints.unit}`}}));return w.exports.forwardRef(function(a,l){const u=n(a),{className:c,component:d="div",disableGutters:h=!1,fixed:f=!1,maxWidth:p="lg"}=u,m=J(u,C9),E=b({},u,{component:d,disableGutters:h,fixed:f,maxWidth:p}),g=I9(E,r);return k(i,b({as:d,ownerState:E,className:ae(g.root,c),ref:l},m))})}function R9(t,e){return b({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const P9={black:"#000",white:"#fff"},Ju=P9,N9={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},A9=N9,O9={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},vo=O9,M9={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},yo=M9,$9={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},yl=$9,D9={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},_o=D9,L9={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},wo=L9,F9={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Eo=F9,U9=["mode","contrastThreshold","tonalOffset"],fS={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ju.white,default:Ju.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},cg={text:{primary:Ju.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ju.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function pS(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=b9(t.main,i):e==="dark"&&(t.dark=E9(t.main,s)))}function B9(t="light"){return t==="dark"?{main:_o[200],light:_o[50],dark:_o[400]}:{main:_o[700],light:_o[400],dark:_o[800]}}function z9(t="light"){return t==="dark"?{main:vo[200],light:vo[50],dark:vo[400]}:{main:vo[500],light:vo[300],dark:vo[700]}}function V9(t="light"){return t==="dark"?{main:yo[500],light:yo[300],dark:yo[700]}:{main:yo[700],light:yo[400],dark:yo[800]}}function j9(t="light"){return t==="dark"?{main:wo[400],light:wo[300],dark:wo[700]}:{main:wo[700],light:wo[500],dark:wo[900]}}function W9(t="light"){return t==="dark"?{main:Eo[400],light:Eo[300],dark:Eo[700]}:{main:Eo[800],light:Eo[500],dark:Eo[900]}}function H9(t="light"){return t==="dark"?{main:yl[400],light:yl[300],dark:yl[700]}:{main:"#ed6c02",light:yl[500],dark:yl[900]}}function q9(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=J(t,U9),s=t.primary||B9(e),o=t.secondary||z9(e),a=t.error||V9(e),l=t.info||j9(e),u=t.success||W9(e),c=t.warning||H9(e);function d(m){return w9(m,cg.text.primary)>=n?cg.text.primary:fS.text.primary}const h=({color:m,name:E,mainShade:g=500,lightShade:v=300,darkShade:y=700})=>{if(m=b({},m),!m.main&&m[g]&&(m.main=m[g]),!m.hasOwnProperty("main"))throw new Error(Xi(11,E?` (${E})`:"",g));if(typeof m.main!="string")throw new Error(Xi(12,E?` (${E})`:"",JSON.stringify(m.main)));return pS(m,"light",v,r),pS(m,"dark",y,r),m.contrastText||(m.contrastText=d(m.main)),m},f={dark:cg,light:fS};return tr(b({common:b({},Ju),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:A9,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},f[e]),i)}const K9=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function G9(t){return Math.round(t*1e5)/1e5}const mS={textTransform:"uppercase"},gS='"Roboto", "Helvetica", "Arial", sans-serif';function Q9(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=gS,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=J(n,K9),f=i/14,p=d||(g=>`${g/u*f}rem`),m=(g,v,y,_,C)=>b({fontFamily:r,fontWeight:g,fontSize:p(v),lineHeight:y},r===gS?{letterSpacing:`${G9(_/v)}em`}:{},C,c),E={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,mS),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,mS)};return tr(b({htmlFontSize:u,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},E),h,{clone:!1})}const Y9=.2,X9=.14,J9=.12;function Je(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Y9})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${X9})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${J9})`].join(",")}const Z9=["none",Je(0,2,1,-1,0,1,1,0,0,1,3,0),Je(0,3,1,-2,0,2,2,0,0,1,5,0),Je(0,3,3,-2,0,3,4,0,0,1,8,0),Je(0,2,4,-1,0,4,5,0,0,1,10,0),Je(0,3,5,-1,0,5,8,0,0,1,14,0),Je(0,3,5,-1,0,6,10,0,0,1,18,0),Je(0,4,5,-2,0,7,10,1,0,2,16,1),Je(0,5,5,-3,0,8,10,1,0,3,14,2),Je(0,5,6,-3,0,9,12,1,0,3,16,2),Je(0,6,6,-3,0,10,14,1,0,4,18,3),Je(0,6,7,-4,0,11,15,1,0,4,20,3),Je(0,7,8,-4,0,12,17,2,0,5,22,4),Je(0,7,8,-4,0,13,19,2,0,5,24,4),Je(0,7,9,-4,0,14,21,2,0,5,26,4),Je(0,8,9,-5,0,15,22,2,0,6,28,5),Je(0,8,10,-5,0,16,24,2,0,6,30,5),Je(0,8,11,-5,0,17,26,2,0,6,32,5),Je(0,9,11,-5,0,18,28,2,0,7,34,6),Je(0,9,12,-6,0,19,29,2,0,7,36,6),Je(0,10,13,-6,0,20,31,3,0,8,38,7),Je(0,10,13,-6,0,21,33,3,0,8,40,7),Je(0,10,14,-6,0,22,35,3,0,8,42,7),Je(0,11,14,-7,0,23,36,3,0,9,44,8),Je(0,11,15,-7,0,24,38,3,0,9,46,8)],e7=Z9,t7=["duration","easing","delay"],n7={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},r7={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function vS(t){return`${Math.round(t)}ms`}function i7(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function s7(t){const e=b({},n7,t.easing),n=b({},r7,t.duration);return b({getAutoHeightDuration:i7,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return J(s,t7),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:vS(o)} ${a} ${typeof l=="string"?l:vS(l)}`).join(",")}},t,{easing:e,duration:n})}const o7={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},a7=o7,l7=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function gO(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=J(t,l7);if(t.vars)throw new Error(Xi(18));const a=q9(r),l=Vp(t);let u=tr(l,{mixins:R9(l.breakpoints,n),palette:a,shadows:e7.slice(),typography:Q9(a,s),transitions:s7(i),zIndex:b({},a7)});return u=tr(u,o),u=e.reduce((c,d)=>tr(c,d),u),u}const u7=gO(),Wp=u7,zr=t=>eu(t)&&t!=="classes",c7=eu,d7=pO({defaultTheme:Wp,rootShouldForwardProp:zr}),Y=d7;function Me({props:t,name:e}){return mO({props:t,name:e,defaultTheme:Wp})}function my(t,e){return my=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},my(t,e)}function vO(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,my(t,e)}const yS={disabled:!1},mf=ks.createContext(null);var h7=function(e){return e.scrollTop},Pl="unmounted",ms="exited",gs="entering",So="entered",gy="exiting",mi=function(t){vO(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=ms,s.appearStatus=gs):l=So:r.unmountOnExit||r.mountOnEnter?l=Pl:l=ms,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Pl?{status:ms}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==gs&&o!==So&&(s=gs):(o===gs||o===So)&&(s=gy)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===gs){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:id.findDOMNode(this);o&&h7(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ms&&this.setState({status:Pl})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[id.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||yS.disabled){this.safeSetState({status:So},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:gs},function(){s.props.onEntering(u,c),s.onTransitionEnd(h,function(){s.safeSetState({status:So},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:id.findDOMNode(this);if(!s||yS.disabled){this.safeSetState({status:ms},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:gy},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ms},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:id.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Pl)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=J(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return k(mf.Provider,{value:null,children:typeof o=="function"?o(i,a):ks.cloneElement(ks.Children.only(o),a)})},e}(ks.Component);mi.contextType=mf;mi.propTypes={};function bo(){}mi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:bo,onEntering:bo,onEntered:bo,onExit:bo,onExiting:bo,onExited:bo};mi.UNMOUNTED=Pl;mi.EXITED=ms;mi.ENTERING=gs;mi.ENTERED=So;mi.EXITING=gy;const yO=mi;function f7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qw(t,e){var n=function(s){return e&&w.exports.isValidElement(s)?e(s):s},r=Object.create(null);return t&&w.exports.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function p7(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Is(t,e,n){return n[e]!=null?n[e]:t.props[e]}function m7(t,e){return qw(t.children,function(n){return w.exports.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Is(n,"appear",t),enter:Is(n,"enter",t),exit:Is(n,"exit",t)})})}function g7(t,e,n){var r=qw(t.children),i=p7(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(!!w.exports.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=w.exports.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=w.exports.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Is(o,"exit",t),enter:Is(o,"enter",t)}):!l&&a&&!c?i[s]=w.exports.cloneElement(o,{in:!1}):l&&a&&w.exports.isValidElement(u)&&(i[s]=w.exports.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:Is(o,"exit",t),enter:Is(o,"enter",t)}))}}),i}var v7=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},y7={component:"div",childFactory:function(e){return e}},Kw=function(t){vO(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(f7(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?m7(i,a):g7(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=qw(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=b({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=J(i,["component","childFactory"]),l=this.state.contextValue,u=v7(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?k(mf.Provider,{value:l,children:u}):k(mf.Provider,{value:l,children:k(s,{...a,children:u})})},e}(ks.Component);Kw.propTypes={};Kw.defaultProps=y7;const _7=Kw;function w7(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[c,d]=w.exports.useState(!1),h=ae(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},p=ae(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),w.exports.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,u);return()=>{clearTimeout(m)}}},[l,a,u]),k("span",{className:h,style:f,children:k("span",{className:p})})}const E7=Te("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Gn=E7,b7=["center","classes","className"];let Hp=t=>t,_S,wS,ES,bS;const vy=550,C7=80,S7=Lc(_S||(_S=Hp`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),x7=Lc(wS||(wS=Hp`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),T7=Lc(ES||(ES=Hp`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),I7=Y("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),k7=Y(w7,{name:"MuiTouchRipple",slot:"Ripple"})(bS||(bS=Hp`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Gn.rippleVisible,S7,vy,({theme:t})=>t.transitions.easing.easeInOut,Gn.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Gn.child,Gn.childLeaving,x7,vy,({theme:t})=>t.transitions.easing.easeInOut,Gn.childPulsate,T7,({theme:t})=>t.transitions.easing.easeInOut),R7=w.exports.forwardRef(function(e,n){const r=Me({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=J(r,b7),[l,u]=w.exports.useState([]),c=w.exports.useRef(0),d=w.exports.useRef(null);w.exports.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=w.exports.useRef(!1),f=w.exports.useRef(null),p=w.exports.useRef(null),m=w.exports.useRef(null);w.exports.useEffect(()=>()=>{clearTimeout(f.current)},[]);const E=w.exports.useCallback(_=>{const{pulsate:C,rippleX:x,rippleY:S,rippleSize:T,cb:N}=_;u(I=>[...I,k(k7,{classes:{ripple:ae(s.ripple,Gn.ripple),rippleVisible:ae(s.rippleVisible,Gn.rippleVisible),ripplePulsate:ae(s.ripplePulsate,Gn.ripplePulsate),child:ae(s.child,Gn.child),childLeaving:ae(s.childLeaving,Gn.childLeaving),childPulsate:ae(s.childPulsate,Gn.childPulsate)},timeout:vy,pulsate:C,rippleX:x,rippleY:S,rippleSize:T},c.current)]),c.current+=1,d.current=N},[s]),g=w.exports.useCallback((_={},C={},x)=>{const{pulsate:S=!1,center:T=i||C.pulsate,fakeElement:N=!1}=C;if((_==null?void 0:_.type)==="mousedown"&&h.current){h.current=!1;return}(_==null?void 0:_.type)==="touchstart"&&(h.current=!0);const I=N?null:m.current,M=I?I.getBoundingClientRect():{width:0,height:0,left:0,top:0};let V,B,Q;if(T||_===void 0||_.clientX===0&&_.clientY===0||!_.clientX&&!_.touches)V=Math.round(M.width/2),B=Math.round(M.height/2);else{const{clientX:U,clientY:P}=_.touches&&_.touches.length>0?_.touches[0]:_;V=Math.round(U-M.left),B=Math.round(P-M.top)}if(T)Q=Math.sqrt((2*M.width**2+M.height**2)/3),Q%2===0&&(Q+=1);else{const U=Math.max(Math.abs((I?I.clientWidth:0)-V),V)*2+2,P=Math.max(Math.abs((I?I.clientHeight:0)-B),B)*2+2;Q=Math.sqrt(U**2+P**2)}_!=null&&_.touches?p.current===null&&(p.current=()=>{E({pulsate:S,rippleX:V,rippleY:B,rippleSize:Q,cb:x})},f.current=setTimeout(()=>{p.current&&(p.current(),p.current=null)},C7)):E({pulsate:S,rippleX:V,rippleY:B,rippleSize:Q,cb:x})},[i,E]),v=w.exports.useCallback(()=>{g({},{pulsate:!0})},[g]),y=w.exports.useCallback((_,C)=>{if(clearTimeout(f.current),(_==null?void 0:_.type)==="touchend"&&p.current){p.current(),p.current=null,f.current=setTimeout(()=>{y(_,C)});return}p.current=null,u(x=>x.length>0?x.slice(1):x),d.current=C},[]);return w.exports.useImperativeHandle(n,()=>({pulsate:v,start:g,stop:y}),[v,g,y]),k(I7,b({className:ae(Gn.root,s.root,o),ref:m},a,{children:k(_7,{component:null,exit:!0,children:l})}))}),P7=R7;function N7(t){return Re("MuiButtonBase",t)}const A7=Te("MuiButtonBase",["root","disabled","focusVisible"]),O7=A7,M7=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],$7=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=Oe({root:["root",e&&"disabled",n&&"focusVisible"]},N7,i);return n&&r&&(o.root+=` ${r}`),o},D7=Y("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${O7.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),L7=w.exports.forwardRef(function(e,n){const r=Me({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:p,onClick:m,onContextMenu:E,onDragLeave:g,onFocus:v,onFocusVisible:y,onKeyDown:_,onKeyUp:C,onMouseDown:x,onMouseLeave:S,onMouseUp:T,onTouchEnd:N,onTouchMove:I,onTouchStart:M,tabIndex:V=0,TouchRippleProps:B,touchRippleRef:Q,type:U}=r,P=J(r,M7),L=w.exports.useRef(null),R=w.exports.useRef(null),F=Be(R,Q),{isFocusVisibleRef:z,onFocus:K,onBlur:X,ref:ge}=Ew(),[ie,ve]=w.exports.useState(!1);u&&ie&&ve(!1),w.exports.useImperativeHandle(i,()=>({focusVisible:()=>{ve(!0),L.current.focus()}}),[]);const[he,Ve]=w.exports.useState(!1);w.exports.useEffect(()=>{Ve(!0)},[]);const fe=he&&!c&&!u;w.exports.useEffect(()=>{ie&&h&&!c&&he&&R.current.pulsate()},[c,h,ie,he]);function $e(G,rt,gi=d){return Pi(Kn=>(rt&&rt(Kn),!gi&&R.current&&R.current[G](Kn),!0))}const Ee=$e("start",x),Ke=$e("stop",E),St=$e("stop",g),Kt=$e("stop",T),nt=$e("stop",G=>{ie&&G.preventDefault(),S&&S(G)}),sn=$e("start",M),gt=$e("stop",N),Ue=$e("stop",I),on=$e("stop",G=>{X(G),z.current===!1&&ve(!1),p&&p(G)},!1),an=Pi(G=>{L.current||(L.current=G.currentTarget),K(G),z.current===!0&&(ve(!0),y&&y(G)),v&&v(G)}),Pe=()=>{const G=L.current;return l&&l!=="button"&&!(G.tagName==="A"&&G.href)},xt=w.exports.useRef(!1),yn=Pi(G=>{h&&!xt.current&&ie&&R.current&&G.key===" "&&(xt.current=!0,R.current.stop(G,()=>{R.current.start(G)})),G.target===G.currentTarget&&Pe()&&G.key===" "&&G.preventDefault(),_&&_(G),G.target===G.currentTarget&&Pe()&&G.key==="Enter"&&!u&&(G.preventDefault(),m&&m(G))}),qn=Pi(G=>{h&&G.key===" "&&R.current&&ie&&!G.defaultPrevented&&(xt.current=!1,R.current.stop(G,()=>{R.current.pulsate(G)})),C&&C(G),m&&G.target===G.currentTarget&&Pe()&&G.key===" "&&!G.defaultPrevented&&m(G)});let Dt=l;Dt==="button"&&(P.href||P.to)&&(Dt=f);const Lt={};Dt==="button"?(Lt.type=U===void 0?"button":U,Lt.disabled=u):(!P.href&&!P.to&&(Lt.role="button"),u&&(Lt["aria-disabled"]=u));const ln=Be(ge,L),Ce=Be(n,ln),q=b({},r,{centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:V,focusVisible:ie}),je=$7(q);return Xe(D7,b({as:Dt,className:ae(je.root,a),ownerState:q,onBlur:on,onClick:m,onContextMenu:Ke,onFocus:an,onKeyDown:yn,onKeyUp:qn,onMouseDown:Ee,onMouseLeave:nt,onMouseUp:Kt,onDragLeave:St,onTouchEnd:gt,onTouchMove:Ue,onTouchStart:sn,ref:Ce,tabIndex:u?-1:V,type:U},Lt,P,{children:[o,fe?k(P7,b({ref:F,center:s},B)):null]}))}),Gw=L7;function F7(t){return Re("MuiButton",t)}const U7=Te("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),_d=U7,B7=w.exports.createContext({}),z7=B7,V7=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],j7=["root"],W7=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${ne(e)}`,`size${ne(i)}`,`${s}Size${ne(i)}`,e==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${ne(i)}`],endIcon:["endIcon",`iconSize${ne(i)}`]},l=Oe(a,F7,o);return b({},o,l)},_O=t=>b({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),H7=Y(Gw,{shouldForwardProp:t=>zr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${ne(n.color)}`],e[`size${ne(n.size)}`],e[`${n.variant}Size${ne(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;return b({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":b({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:In(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:In(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:In(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:(t.vars||t).palette.grey.A100,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":b({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${_d.focusVisible}`]:b({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${_d.disabled}`]:b({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="outlined"&&e.color==="secondary"&&{border:`1px solid ${(t.vars||t).palette.action.disabled}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${In(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${_d.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${_d.disabled}`]:{boxShadow:"none"}}),q7=Y("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${ne(n.size)}`]]}})(({ownerState:t})=>b({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},_O(t))),K7=Y("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${ne(n.size)}`]]}})(({ownerState:t})=>b({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},_O(t))),G7=w.exports.forwardRef(function(e,n){const r=w.exports.useContext(z7),i=_A(r,e),s=Me({props:i,name:"MuiButton"}),{children:o,color:a="primary",component:l="button",className:u,disabled:c=!1,disableElevation:d=!1,disableFocusRipple:h=!1,endIcon:f,focusVisibleClassName:p,fullWidth:m=!1,size:E="medium",startIcon:g,type:v,variant:y="text"}=s,_=J(s,V7),C=b({},s,{color:a,component:l,disabled:c,disableElevation:d,disableFocusRipple:h,fullWidth:m,size:E,type:v,variant:y}),x=W7(C),{root:S}=x,T=J(x,j7),N=g&&k(q7,{className:T.startIcon,ownerState:C,children:g}),I=f&&k(K7,{className:T.endIcon,ownerState:C,children:f});return Xe(H7,b({ownerState:C,className:ae(r.className,S,u),component:l,disabled:c,focusRipple:!h,focusVisibleClassName:ae(T.focusVisible,p),ref:n,type:v},_,{classes:T,children:[N,o,I]}))}),wO=G7;function qp(){return Ww(Wp)}function Q7(t){return Re("MuiPaper",t)}Te("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Y7=["className","component","elevation","square","variant"],CS=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},X7=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Oe(s,Q7,i)},J7=Y("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return b({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&b({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${In("#fff",CS(e.elevation))}, ${In("#fff",CS(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),Z7=w.exports.forwardRef(function(e,n){const r=Me({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,u=J(r,Y7),c=b({},r,{component:s,elevation:o,square:a,variant:l}),d=X7(c);return k(J7,b({as:s,ownerState:c,className:ae(d.root,i),ref:n},u))}),Qw=Z7,eQ=gO(),tQ=s9({defaultTheme:eQ,defaultClassName:"MuiBox-root",generateClassName:bw.generate}),tu=tQ;function Qa({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const nQ=w.exports.createContext(),Yw=nQ;function Ya(){return w.exports.useContext(Yw)}function rQ(t){return k(hK,b({},t,{defaultTheme:Wp}))}function SS(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Xw(t,e=!1){return t&&(SS(t.value)&&t.value!==""||e&&SS(t.defaultValue)&&t.defaultValue!=="")}function iQ(t){return t.startAdornment}function sQ(t){return Re("MuiInputBase",t)}const oQ=Te("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Na=oQ,aQ=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],Kp=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${ne(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Gp=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},lQ=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:f,type:p}=t,m={root:["root",`color${ne(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h==="small"&&"sizeSmall",c&&"multiline",f&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",p==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return Oe(m,sQ,e)},Qp=Y("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Kp})(({theme:t,ownerState:e})=>b({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Na.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&b({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Yp=Y("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Gp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=b({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return b({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Na.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Na.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),uQ=k(rQ,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),cQ=w.exports.forwardRef(function(e,n){const r=Me({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:o,className:a,components:l={},componentsProps:u={},defaultValue:c,disabled:d,disableInjectingGlobalStyles:h,endAdornment:f,fullWidth:p=!1,id:m,inputComponent:E="input",inputProps:g={},inputRef:v,maxRows:y,minRows:_,multiline:C=!1,name:x,onBlur:S,onChange:T,onClick:N,onFocus:I,onKeyDown:M,onKeyUp:V,placeholder:B,readOnly:Q,renderSuffix:U,rows:P,startAdornment:L,type:R="text",value:F}=r,z=J(r,aQ),K=g.value!=null?g.value:F,{current:X}=w.exports.useRef(K!=null),ge=w.exports.useRef(),ie=w.exports.useCallback(Ce=>{},[]),ve=Be(g.ref,ie),he=Be(v,ve),Ve=Be(ge,he),[fe,$e]=w.exports.useState(!1),Ee=Ya(),Ke=Qa({props:r,muiFormControl:Ee,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ke.focused=Ee?Ee.focused:fe,w.exports.useEffect(()=>{!Ee&&d&&fe&&($e(!1),S&&S())},[Ee,d,fe,S]);const St=Ee&&Ee.onFilled,Kt=Ee&&Ee.onEmpty,nt=w.exports.useCallback(Ce=>{Xw(Ce)?St&&St():Kt&&Kt()},[St,Kt]);Fr(()=>{X&&nt({value:K})},[K,nt,X]);const sn=Ce=>{if(Ke.disabled){Ce.stopPropagation();return}I&&I(Ce),g.onFocus&&g.onFocus(Ce),Ee&&Ee.onFocus?Ee.onFocus(Ce):$e(!0)},gt=Ce=>{S&&S(Ce),g.onBlur&&g.onBlur(Ce),Ee&&Ee.onBlur?Ee.onBlur(Ce):$e(!1)},Ue=(Ce,...q)=>{if(!X){const je=Ce.target||ge.current;if(je==null)throw new Error(Xi(1));nt({value:je.value})}g.onChange&&g.onChange(Ce,...q),T&&T(Ce,...q)};w.exports.useEffect(()=>{nt(ge.current)},[]);const on=Ce=>{ge.current&&Ce.currentTarget===Ce.target&&ge.current.focus(),N&&N(Ce)};let an=E,Pe=g;C&&an==="input"&&(P?Pe=b({type:void 0,minRows:P,maxRows:P},Pe):Pe=b({type:void 0,maxRows:y,minRows:_},Pe),an=d8);const xt=Ce=>{nt(Ce.animationName==="mui-auto-fill-cancel"?ge.current:{value:"x"})};w.exports.useEffect(()=>{Ee&&Ee.setAdornedStart(Boolean(L))},[Ee,L]);const yn=b({},r,{color:Ke.color||"primary",disabled:Ke.disabled,endAdornment:f,error:Ke.error,focused:Ke.focused,formControl:Ee,fullWidth:p,hiddenLabel:Ke.hiddenLabel,multiline:C,size:Ke.size,startAdornment:L,type:R}),qn=lQ(yn),Dt=l.Root||Qp,Lt=u.root||{},ln=l.Input||Yp;return Pe=b({},Pe,u.input),Xe(w.exports.Fragment,{children:[!h&&uQ,Xe(Dt,b({},Lt,!hf(Dt)&&{ownerState:b({},yn,Lt.ownerState)},{ref:n,onClick:on},z,{className:ae(qn.root,Lt.className,a),children:[L,k(Yw.Provider,{value:null,children:k(ln,b({ownerState:yn,"aria-invalid":Ke.error,"aria-describedby":i,autoComplete:s,autoFocus:o,defaultValue:c,disabled:Ke.disabled,id:m,onAnimationStart:xt,name:x,placeholder:B,readOnly:Q,required:Ke.required,rows:P,value:K,onKeyDown:M,onKeyUp:V,type:R},Pe,!hf(ln)&&{as:an,ownerState:b({},yn,Pe.ownerState)},{ref:Ve,className:ae(qn.input,Pe.className),onBlur:gt,onChange:Ue,onFocus:sn}))}),f,U?U(b({},Ke,{startAdornment:L})):null]}))]})}),Jw=cQ;function dQ(t){return Re("MuiInput",t)}const hQ=b({},Na,Te("MuiInput",["root","underline","input"])),wd=hQ,fQ=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],pQ=t=>{const{classes:e,disableUnderline:n}=t,i=Oe({root:["root",!n&&"underline"],input:["input"]},dQ,e);return b({},e,i)},mQ=Y(Qp,{shouldForwardProp:t=>zr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Kp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),b({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${wd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${wd.error}:after`]:{borderBottomColor:(t.vars||t).palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${wd.disabled}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${wd.disabled}:before`]:{borderBottomStyle:"dotted"}})}),gQ=Y(Yp,{name:"MuiInput",slot:"Input",overridesResolver:Gp})({}),EO=w.exports.forwardRef(function(e,n){const r=Me({props:e,name:"MuiInput"}),{disableUnderline:i,components:s={},componentsProps:o,fullWidth:a=!1,inputComponent:l="input",multiline:u=!1,type:c="text"}=r,d=J(r,fQ),h=pQ(r),p={root:{ownerState:{disableUnderline:i}}},m=o?tr(o,p):p;return k(Jw,b({components:b({Root:mQ,Input:gQ},s),componentsProps:m,fullWidth:a,inputComponent:l,multiline:u,ref:n,type:c},d,{classes:h}))});EO.muiName="Input";const bO=EO;function vQ(t){return Re("MuiFilledInput",t)}const yQ=b({},Na,Te("MuiFilledInput",["root","underline","input"])),Co=yQ,_Q=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],wQ=t=>{const{classes:e,disableUnderline:n}=t,i=Oe({root:["root",!n&&"underline"],input:["input"]},vQ,e);return b({},e,i)},EQ=Y(Qp,{shouldForwardProp:t=>zr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Kp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return b({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${Co.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${Co.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Co.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Co.error}:after`]:{borderBottomColor:(t.vars||t).palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Co.disabled}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Co.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&b({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),bQ=Y(Yp,{name:"MuiFilledInput",slot:"Input",overridesResolver:Gp})(({theme:t,ownerState:e})=>b({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9})),CO=w.exports.forwardRef(function(e,n){const r=Me({props:e,name:"MuiFilledInput"}),{components:i={},componentsProps:s,fullWidth:o=!1,inputComponent:a="input",multiline:l=!1,type:u="text"}=r,c=J(r,_Q),d=b({},r,{fullWidth:o,inputComponent:a,multiline:l,type:u}),h=wQ(r),f={root:{ownerState:d},input:{ownerState:d}},p=s?tr(s,f):f;return k(Jw,b({components:b({Root:EQ,Input:bQ},i),componentsProps:p,fullWidth:o,inputComponent:a,multiline:l,ref:n,type:u},c,{classes:h}))});CO.muiName="Input";const SO=CO;var xS;const CQ=["children","classes","className","label","notched"],SQ=Y("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),xQ=Y("legend")(({ownerState:t,theme:e})=>b({float:"unset",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&b({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function TQ(t){const{className:e,label:n,notched:r}=t,i=J(t,CQ),s=n!=null&&n!=="",o=b({},t,{notched:r,withLabel:s});return k(SQ,b({"aria-hidden":!0,className:e,ownerState:o},i,{children:k(xQ,{ownerState:o,children:s?k("span",{children:n}):xS||(xS=k("span",{className:"notranslate",children:"\u200B"}))})}))}function IQ(t){return Re("MuiOutlinedInput",t)}const kQ=b({},Na,Te("MuiOutlinedInput",["root","notchedOutline","input"])),_i=kQ,RQ=["components","fullWidth","inputComponent","label","multiline","notched","type"],PQ=t=>{const{classes:e}=t,r=Oe({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},IQ,e);return b({},e,r)},NQ=Y(Qp,{shouldForwardProp:t=>zr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Kp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return b({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${_i.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${_i.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${_i.focused} .${_i.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${_i.error} .${_i.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${_i.disabled} .${_i.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&b({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),AQ=Y(TQ,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),OQ=Y(Yp,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Gp})(({theme:t,ownerState:e})=>b({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),xO=w.exports.forwardRef(function(e,n){var r;const i=Me({props:e,name:"MuiOutlinedInput"}),{components:s={},fullWidth:o=!1,inputComponent:a="input",label:l,multiline:u=!1,notched:c,type:d="text"}=i,h=J(i,RQ),f=PQ(i),p=Ya(),m=Qa({props:i,muiFormControl:p,states:["required"]}),E=b({},i,{color:m.color||"primary",disabled:m.disabled,error:m.error,focused:m.focused,formControl:p,fullWidth:o,hiddenLabel:m.hiddenLabel,multiline:u,size:m.size,type:d});return k(Jw,b({components:b({Root:NQ,Input:OQ},s),renderSuffix:g=>k(AQ,{ownerState:E,className:f.notchedOutline,label:l!=null&&l!==""&&m.required?r||(r=Xe(w.exports.Fragment,{children:[l,"\xA0","*"]})):l,notched:typeof c<"u"?c:Boolean(g.startAdornment||g.filled||g.focused)}),fullWidth:o,inputComponent:a,multiline:u,ref:n,type:d},h,{classes:b({},f,{notchedOutline:null})}))});xO.muiName="Input";const TO=xO;function MQ(t){return Re("MuiFormLabel",t)}const $Q=Te("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),nu=$Q,DQ=["children","className","color","component","disabled","error","filled","focused","required"],LQ=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${ne(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return Oe(l,MQ,e)},FQ=Y("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>b({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>b({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${nu.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${nu.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${nu.error}`]:{color:(t.vars||t).palette.error.main}})),UQ=Y("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${nu.error}`]:{color:(t.vars||t).palette.error.main}})),BQ=w.exports.forwardRef(function(e,n){const r=Me({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=J(r,DQ),l=Ya(),u=Qa({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=b({},r,{color:u.color||"primary",component:o,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=LQ(c);return Xe(FQ,b({as:o,ownerState:c,className:ae(d.root,s),ref:n},a,{children:[i,u.required&&Xe(UQ,{ownerState:c,"aria-hidden":!0,className:d.asterisk,children:["\u2009","*"]})]}))}),zQ=BQ;function VQ(t){return Re("MuiInputLabel",t)}Te("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const jQ=["disableAnimation","margin","shrink","variant"],WQ=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,u=Oe({root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r==="small"&&"sizeSmall",o],asterisk:[a&&"asterisk"]},VQ,e);return b({},e,u)},HQ=Y(zQ,{shouldForwardProp:t=>zr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${nu.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,e[n.variant]]}})(({theme:t,ownerState:e})=>b({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&b({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&b({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&b({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))),qQ=w.exports.forwardRef(function(e,n){const r=Me({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s}=r,o=J(r,jQ),a=Ya();let l=s;typeof l>"u"&&a&&(l=a.filled||a.focused||a.adornedStart);const u=Qa({props:r,muiFormControl:a,states:["size","variant","required"]}),c=b({},r,{disableAnimation:i,formControl:a,shrink:l,size:u.size,variant:u.variant,required:u.required}),d=WQ(c);return k(HQ,b({"data-shrink":l,ownerState:c,ref:n},o,{classes:d}))}),KQ=qQ;function GQ(t){return Re("MuiFormControl",t)}Te("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const QQ=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],YQ=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${ne(n)}`,r&&"fullWidth"]};return Oe(i,GQ,e)},XQ=Y("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>b({},e.root,e[`margin${ne(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>b({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),JQ=w.exports.forwardRef(function(e,n){const r=Me({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:p=!1,size:m="medium",variant:E="outlined"}=r,g=J(r,QQ),v=b({},r,{color:o,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:f,required:p,size:m,variant:E}),y=YQ(v),[_,C]=w.exports.useState(()=>{let U=!1;return i&&w.exports.Children.forEach(i,P=>{if(!Yd(P,["Input","Select"]))return;const L=Yd(P,["Select"])?P.props.input:P;L&&iQ(L.props)&&(U=!0)}),U}),[x,S]=w.exports.useState(()=>{let U=!1;return i&&w.exports.Children.forEach(i,P=>{!Yd(P,["Input","Select"])||Xw(P.props,!0)&&(U=!0)}),U}),[T,N]=w.exports.useState(!1);l&&T&&N(!1);const I=c!==void 0&&!l?c:T;let M;const V=w.exports.useCallback(()=>{S(!0)},[]),B=w.exports.useCallback(()=>{S(!1)},[]),Q={adornedStart:_,setAdornedStart:C,color:o,disabled:l,error:u,filled:x,focused:I,fullWidth:d,hiddenLabel:h,size:m,onBlur:()=>{N(!1)},onEmpty:B,onFilled:V,onFocus:()=>{N(!0)},registerEffect:M,required:p,variant:E};return k(Yw.Provider,{value:Q,children:k(XQ,b({as:a,ownerState:v,className:ae(y.root,s),ref:n},g,{children:i}))})}),ZQ=JQ;function eY(t){return Re("MuiFormHelperText",t)}const tY=Te("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),TS=tY;var IS;const nY=["children","className","component","disabled","error","filled","focused","margin","required","variant"],rY=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,u={root:["root",i&&"disabled",s&&"error",r&&`size${ne(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return Oe(u,eY,e)},iY=Y("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${ne(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>b({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${TS.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${TS.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),sY=w.exports.forwardRef(function(e,n){const r=Me({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=J(r,nY),l=Ya(),u=Qa({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=b({},r,{component:o,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=rY(c);return k(iY,b({as:o,ownerState:c,className:ae(d.root,s),ref:n},a,{children:i===" "?IS||(IS=k("span",{className:"notranslate",children:"\u200B"})):i}))}),oY=sY,aY=w.exports.createContext({}),yy=aY;function lY(t){return Re("MuiList",t)}Te("MuiList",["root","padding","dense","subheader"]);const uY=["children","className","component","dense","disablePadding","subheader"],cY=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Oe({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},lY,e)},dY=Y("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>b({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),hY=w.exports.forwardRef(function(e,n){const r=Me({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,c=J(r,uY),d=w.exports.useMemo(()=>({dense:a}),[a]),h=b({},r,{component:o,dense:a,disablePadding:l}),f=cY(h);return k(yy.Provider,{value:d,children:Xe(dY,b({as:o,className:ae(f.root,s),ref:n,ownerState:h},c,{children:[u,i]}))})}),fY=hY,pY=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function dg(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function kS(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function IO(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function _l(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!IO(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const mY=w.exports.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu"}=e,h=J(e,pY),f=w.exports.useRef(null),p=w.exports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Fr(()=>{i&&f.current.focus()},[i]),w.exports.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(y,_)=>{const C=!f.current.style.width;if(y.clientHeight<f.current.clientHeight&&C){const x=`${yA(pn(y))}px`;f.current.style[_.direction==="rtl"?"paddingLeft":"paddingRight"]=x,f.current.style.width=`calc(100% + ${x})`}return f.current}}),[]);const m=y=>{const _=f.current,C=y.key,x=pn(_).activeElement;if(C==="ArrowDown")y.preventDefault(),_l(_,x,u,l,dg);else if(C==="ArrowUp")y.preventDefault(),_l(_,x,u,l,kS);else if(C==="Home")y.preventDefault(),_l(_,null,u,l,dg);else if(C==="End")y.preventDefault(),_l(_,null,u,l,kS);else if(C.length===1){const S=p.current,T=C.toLowerCase(),N=performance.now();S.keys.length>0&&(N-S.lastTime>500?(S.keys=[],S.repeating=!0,S.previousKeyMatched=!0):S.repeating&&T!==S.keys[0]&&(S.repeating=!1)),S.lastTime=N,S.keys.push(T);const I=x&&!S.repeating&&IO(x,S);S.previousKeyMatched&&(I||_l(_,x,!1,l,dg,S))?y.preventDefault():S.previousKeyMatched=!1}c&&c(y)},E=Be(f,n);let g=-1;w.exports.Children.forEach(o,(y,_)=>{!w.exports.isValidElement(y)||y.props.disabled||(d==="selectedMenu"&&y.props.selected||g===-1)&&(g=_)});const v=w.exports.Children.map(o,(y,_)=>{if(_===g){const C={};return s&&(C.autoFocus=!0),y.props.tabIndex===void 0&&d==="selectedMenu"&&(C.tabIndex=0),w.exports.cloneElement(y,C)}return y});return k(fY,b({role:"menu",ref:E,className:a,onKeyDown:m,tabIndex:i?0:-1},h,{children:v}))}),gY=mY,kO=t=>t.scrollTop;function gf(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}const vY=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function _y(t){return`scale(${t}, ${t**2})`}const yY={entering:{opacity:1,transform:_y(1)},entered:{opacity:1,transform:"none"}},hg=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),RO=w.exports.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:f,style:p,timeout:m="auto",TransitionComponent:E=yO}=e,g=J(e,vY),v=w.exports.useRef(),y=w.exports.useRef(),_=qp(),C=w.exports.useRef(null),x=Be(s.ref,n),S=Be(C,x),T=P=>L=>{if(P){const R=C.current;L===void 0?P(R):P(R,L)}},N=T(c),I=T((P,L)=>{kO(P);const{duration:R,delay:F,easing:z}=gf({style:p,timeout:m,easing:o},{mode:"enter"});let K;m==="auto"?(K=_.transitions.getAutoHeightDuration(P.clientHeight),y.current=K):K=R,P.style.transition=[_.transitions.create("opacity",{duration:K,delay:F}),_.transitions.create("transform",{duration:hg?K:K*.666,delay:F,easing:z})].join(","),l&&l(P,L)}),M=T(u),V=T(f),B=T(P=>{const{duration:L,delay:R,easing:F}=gf({style:p,timeout:m,easing:o},{mode:"exit"});let z;m==="auto"?(z=_.transitions.getAutoHeightDuration(P.clientHeight),y.current=z):z=L,P.style.transition=[_.transitions.create("opacity",{duration:z,delay:R}),_.transitions.create("transform",{duration:hg?z:z*.666,delay:hg?R:R||z*.333,easing:F})].join(","),P.style.opacity=0,P.style.transform=_y(.75),d&&d(P)}),Q=T(h),U=P=>{m==="auto"&&(v.current=setTimeout(P,y.current||0)),r&&r(C.current,P)};return w.exports.useEffect(()=>()=>{clearTimeout(v.current)},[]),k(E,b({appear:i,in:a,nodeRef:C,onEnter:I,onEntered:M,onEntering:N,onExit:B,onExited:Q,onExiting:V,addEndListener:U,timeout:m==="auto"?null:m},g,{children:(P,L)=>w.exports.cloneElement(s,b({style:b({opacity:0,transform:_y(.75),visibility:P==="exited"&&!a?"hidden":void 0},yY[P],p,s.props.style),ref:S},L))}))});RO.muiSupportAuto=!0;const wy=RO,_Y=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],wY={entering:{opacity:1},entered:{opacity:1}},EY=w.exports.forwardRef(function(e,n){const r=qp(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:m,style:E,timeout:g=i,TransitionComponent:v=yO}=e,y=J(e,_Y),_=w.exports.useRef(null),C=Be(a.ref,n),x=Be(_,C),S=U=>P=>{if(U){const L=_.current;P===void 0?U(L):U(L,P)}},T=S(h),N=S((U,P)=>{kO(U);const L=gf({style:E,timeout:g,easing:l},{mode:"enter"});U.style.webkitTransition=r.transitions.create("opacity",L),U.style.transition=r.transitions.create("opacity",L),c&&c(U,P)}),I=S(d),M=S(m),V=S(U=>{const P=gf({style:E,timeout:g,easing:l},{mode:"exit"});U.style.webkitTransition=r.transitions.create("opacity",P),U.style.transition=r.transitions.create("opacity",P),f&&f(U)}),B=S(p);return k(v,b({appear:o,in:u,nodeRef:_,onEnter:N,onEntered:I,onEntering:T,onExit:V,onExited:B,onExiting:M,addEndListener:U=>{s&&s(_.current,U)},timeout:g},y,{children:(U,P)=>w.exports.cloneElement(a,b({style:b({opacity:0,visibility:U==="exited"&&!u?"hidden":void 0},wY[U],E,a.props.style),ref:x},P))}))}),bY=EY;function CY(t){return Re("MuiBackdrop",t)}Te("MuiBackdrop",["root","invisible"]);const SY=["children","component","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],xY=t=>{const{classes:e,invisible:n}=t;return Oe({root:["root",n&&"invisible"]},CY,e)},TY=Y("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>b({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),IY=w.exports.forwardRef(function(e,n){var r,i;const s=Me({props:e,name:"MuiBackdrop"}),{children:o,component:a="div",components:l={},componentsProps:u={},className:c,invisible:d=!1,open:h,transitionDuration:f,TransitionComponent:p=bY}=s,m=J(s,SY),E=b({},s,{component:a,invisible:d}),g=xY(E);return k(p,b({in:h,timeout:f},m,{children:k(TY,{"aria-hidden":!0,as:(r=l.Root)!=null?r:a,className:ae(g.root,c),ownerState:b({},E,(i=u.root)==null?void 0:i.ownerState),classes:g,ref:n,children:o})}))}),kY=IY,RY=["BackdropComponent","BackdropProps","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","theme"],PY=t=>t.classes,NY=Y("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>b({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),AY=Y(kY,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),OY=w.exports.forwardRef(function(e,n){var r,i;const s=Me({name:"MuiModal",props:e}),{BackdropComponent:o=AY,BackdropProps:a,closeAfterTransition:l=!1,children:u,component:c,components:d={},componentsProps:h={},disableAutoFocus:f=!1,disableEnforceFocus:p=!1,disableEscapeKeyDown:m=!1,disablePortal:E=!1,disableRestoreFocus:g=!1,disableScrollLock:v=!1,hideBackdrop:y=!1,keepMounted:_=!1,theme:C}=s,x=J(s,RY),[S,T]=w.exports.useState(!0),N={closeAfterTransition:l,disableAutoFocus:f,disableEnforceFocus:p,disableEscapeKeyDown:m,disablePortal:E,disableRestoreFocus:g,disableScrollLock:v,hideBackdrop:y,keepMounted:_},I=b({},s,N,{exited:S}),M=PY(I),V=(r=(i=d.Root)!=null?i:c)!=null?r:NY;return k(a8,b({components:b({Root:V,Backdrop:o},d),componentsProps:{root:()=>b({},ay(h.root,I),!hf(V)&&{as:c,theme:C}),backdrop:()=>b({},a,ay(h.backdrop,I))},onTransitionEnter:()=>T(!1),onTransitionExited:()=>T(!0),ref:n},x,{classes:M},N,{children:u}))}),MY=OY;function $Y(t){return Re("MuiPopover",t)}Te("MuiPopover",["root","paper"]);const DY=["onEntering"],LY=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function RS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function PS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function NS(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function fg(t){return typeof t=="function"?t():t}const FY=t=>{const{classes:e}=t;return Oe({root:["root"],paper:["paper"]},$Y,e)},UY=Y(MY,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),BY=Y(Qw,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),zY=w.exports.forwardRef(function(e,n){const r=Me({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:u,className:c,container:d,elevation:h=8,marginThreshold:f=16,open:p,PaperProps:m={},transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:g=wy,transitionDuration:v="auto",TransitionProps:{onEntering:y}={}}=r,_=J(r.TransitionProps,DY),C=J(r,LY),x=w.exports.useRef(),S=Be(x,m.ref),T=b({},r,{anchorOrigin:o,anchorReference:l,elevation:h,marginThreshold:f,PaperProps:m,transformOrigin:E,TransitionComponent:g,transitionDuration:v,TransitionProps:_}),N=FY(T),I=w.exports.useCallback(()=>{if(l==="anchorPosition")return a;const L=fg(s),F=(L&&L.nodeType===1?L:pn(x.current).body).getBoundingClientRect();return{top:F.top+RS(F,o.vertical),left:F.left+PS(F,o.horizontal)}},[s,o.horizontal,o.vertical,a,l]),M=w.exports.useCallback(L=>({vertical:RS(L,E.vertical),horizontal:PS(L,E.horizontal)}),[E.horizontal,E.vertical]),V=w.exports.useCallback(L=>{const R={width:L.offsetWidth,height:L.offsetHeight},F=M(R);if(l==="none")return{top:null,left:null,transformOrigin:NS(F)};const z=I();let K=z.top-F.vertical,X=z.left-F.horizontal;const ge=K+R.height,ie=X+R.width,ve=Ji(fg(s)),he=ve.innerHeight-f,Ve=ve.innerWidth-f;if(K<f){const fe=K-f;K-=fe,F.vertical+=fe}else if(ge>he){const fe=ge-he;K-=fe,F.vertical+=fe}if(X<f){const fe=X-f;X-=fe,F.horizontal+=fe}else if(ie>Ve){const fe=ie-Ve;X-=fe,F.horizontal+=fe}return{top:`${Math.round(K)}px`,left:`${Math.round(X)}px`,transformOrigin:NS(F)}},[s,l,I,M,f]),B=w.exports.useCallback(()=>{const L=x.current;if(!L)return;const R=V(L);R.top!==null&&(L.style.top=R.top),R.left!==null&&(L.style.left=R.left),L.style.transformOrigin=R.transformOrigin},[V]),Q=(L,R)=>{y&&y(L,R),B()};w.exports.useEffect(()=>{p&&B()}),w.exports.useImperativeHandle(i,()=>p?{updatePosition:()=>{B()}}:null,[p,B]),w.exports.useEffect(()=>{if(!p)return;const L=_w(()=>{B()}),R=Ji(s);return R.addEventListener("resize",L),()=>{L.clear(),R.removeEventListener("resize",L)}},[s,p,B]);let U=v;v==="auto"&&!g.muiSupportAuto&&(U=void 0);const P=d||(s?pn(fg(s)).body:void 0);return k(UY,b({BackdropProps:{invisible:!0},className:ae(N.root,c),container:P,open:p,ref:n,ownerState:T},C,{children:k(g,b({appear:!0,in:p,onEntering:Q,timeout:U},_,{children:k(BY,b({elevation:h},m,{ref:S,className:ae(N.paper,m.className),children:u}))}))}))}),VY=zY;function jY(t){return Re("MuiMenu",t)}Te("MuiMenu",["root","paper","list"]);const WY=["onEntering"],HY=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],qY={vertical:"top",horizontal:"right"},KY={vertical:"top",horizontal:"left"},GY=t=>{const{classes:e}=t;return Oe({root:["root"],paper:["paper"],list:["list"]},jY,e)},QY=Y(VY,{shouldForwardProp:t=>zr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),YY=Y(Qw,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),XY=Y(gY,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),JY=w.exports.forwardRef(function(e,n){const r=Me({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,disableAutoFocusItem:o=!1,MenuListProps:a={},onClose:l,open:u,PaperProps:c={},PopoverClasses:d,transitionDuration:h="auto",TransitionProps:{onEntering:f}={},variant:p="selectedMenu"}=r,m=J(r.TransitionProps,WY),E=J(r,HY),g=qp(),v=g.direction==="rtl",y=b({},r,{autoFocus:i,disableAutoFocusItem:o,MenuListProps:a,onEntering:f,PaperProps:c,transitionDuration:h,TransitionProps:m,variant:p}),_=GY(y),C=i&&!o&&u,x=w.exports.useRef(null),S=(I,M)=>{x.current&&x.current.adjustStyleForScrollbar(I,g),f&&f(I,M)},T=I=>{I.key==="Tab"&&(I.preventDefault(),l&&l(I,"tabKeyDown"))};let N=-1;return w.exports.Children.map(s,(I,M)=>{!w.exports.isValidElement(I)||I.props.disabled||(p==="selectedMenu"&&I.props.selected||N===-1)&&(N=M)}),k(QY,b({classes:d,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:v?"right":"left"},transformOrigin:v?qY:KY,PaperProps:b({component:YY},c,{classes:b({},c.classes,{root:_.paper})}),className:_.root,open:u,ref:n,transitionDuration:h,TransitionProps:b({onEntering:S},m),ownerState:y},E,{children:k(XY,b({onKeyDown:T,actions:x,autoFocus:i&&(N===-1||o),autoFocusItem:C,variant:p},a,{className:ae(_.list,a.className),children:s}))}))}),Ey=JY;function ZY(t){return Re("MuiNativeSelect",t)}const eX=Te("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),Zw=eX,tX=["className","disabled","IconComponent","inputRef","variant"],nX=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s}=t,o={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon",`icon${ne(n)}`,s&&"iconOpen",r&&"disabled"]};return Oe(o,ZY,e)},PO=({ownerState:t,theme:e})=>b({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},[`&.${Zw.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:e.shape.borderRadius,"&:focus":{borderRadius:e.shape.borderRadius},"&&&":{paddingRight:32}}),rX=Y("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:zr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],{[`&.${Zw.multiple}`]:e.multiple}]}})(PO),NO=({ownerState:t,theme:e})=>b({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:e.palette.action.active,[`&.${Zw.disabled}`]:{color:e.palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),iX=Y("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ne(n.variant)}`],n.open&&e.iconOpen]}})(NO),sX=w.exports.forwardRef(function(e,n){const{className:r,disabled:i,IconComponent:s,inputRef:o,variant:a="standard"}=e,l=J(e,tX),u=b({},e,{disabled:i,variant:a}),c=nX(u);return Xe(w.exports.Fragment,{children:[k(rX,b({ownerState:u,className:ae(c.select,r),disabled:i,ref:o||n},l)),e.multiple?null:k(iX,{as:s,ownerState:u,className:c.icon})]})}),oX=sX;function aX(t){return Re("MuiSelect",t)}const lX=Te("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),Ed=lX;var AS;const uX=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],cX=Y("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Ed.select}`]:e.select},{[`&.${Ed.select}`]:e[n.variant]},{[`&.${Ed.multiple}`]:e.multiple}]}})(PO,{[`&.${Ed.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),dX=Y("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ne(n.variant)}`],n.open&&e.iconOpen]}})(NO),hX=Y("input",{shouldForwardProp:t=>c7(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function OS(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function fX(t){return t==null||typeof t=="string"&&!t.trim()}const pX=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s}=t,o={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon",`icon${ne(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Oe(o,aX,e)},mX=w.exports.forwardRef(function(e,n){const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:o,children:a,className:l,defaultOpen:u,defaultValue:c,disabled:d,displayEmpty:h,IconComponent:f,inputRef:p,labelId:m,MenuProps:E={},multiple:g,name:v,onBlur:y,onChange:_,onClose:C,onFocus:x,onOpen:S,open:T,readOnly:N,renderValue:I,SelectDisplayProps:M={},tabIndex:V,value:B,variant:Q="standard"}=e,U=J(e,uX),[P,L]=df({controlled:B,default:c,name:"Select"}),[R,F]=df({controlled:T,default:u,name:"Select"}),z=w.exports.useRef(null),K=w.exports.useRef(null),[X,ge]=w.exports.useState(null),{current:ie}=w.exports.useRef(T!=null),[ve,he]=w.exports.useState(),Ve=Be(n,p),fe=w.exports.useCallback(q=>{K.current=q,q&&ge(q)},[]);w.exports.useImperativeHandle(Ve,()=>({focus:()=>{K.current.focus()},node:z.current,value:P}),[P]),w.exports.useEffect(()=>{u&&R&&X&&!ie&&(he(o?null:X.clientWidth),K.current.focus())},[X,o]),w.exports.useEffect(()=>{s&&K.current.focus()},[s]),w.exports.useEffect(()=>{if(!m)return;const q=pn(K.current).getElementById(m);if(q){const je=()=>{getSelection().isCollapsed&&K.current.focus()};return q.addEventListener("click",je),()=>{q.removeEventListener("click",je)}}},[m]);const $e=(q,je)=>{q?S&&S(je):C&&C(je),ie||(he(o?null:X.clientWidth),F(q))},Ee=q=>{q.button===0&&(q.preventDefault(),K.current.focus(),$e(!0,q))},Ke=q=>{$e(!1,q)},St=w.exports.Children.toArray(a),Kt=q=>{const je=St.map(rt=>rt.props.value).indexOf(q.target.value);if(je===-1)return;const G=St[je];L(G.props.value),_&&_(q,G)},nt=q=>je=>{let G;if(!!je.currentTarget.hasAttribute("tabindex")){if(g){G=Array.isArray(P)?P.slice():[];const rt=P.indexOf(q.props.value);rt===-1?G.push(q.props.value):G.splice(rt,1)}else G=q.props.value;if(q.props.onClick&&q.props.onClick(je),P!==G&&(L(G),_)){const rt=je.nativeEvent||je,gi=new rt.constructor(rt.type,rt);Object.defineProperty(gi,"target",{writable:!0,value:{value:G,name:v}}),_(gi,q)}g||$e(!1,je)}},sn=q=>{N||[" ","ArrowUp","ArrowDown","Enter"].indexOf(q.key)!==-1&&(q.preventDefault(),$e(!0,q))},gt=X!==null&&R,Ue=q=>{!gt&&y&&(Object.defineProperty(q,"target",{writable:!0,value:{value:P,name:v}}),y(q))};delete U["aria-invalid"];let on,an;const Pe=[];let xt=!1;(Xw({value:P})||h)&&(I?on=I(P):xt=!0);const yn=St.map((q,je,G)=>{if(!w.exports.isValidElement(q))return null;let rt;if(g){if(!Array.isArray(P))throw new Error(Xi(2));rt=P.some(Kn=>OS(Kn,q.props.value)),rt&&xt&&Pe.push(q.props.children)}else rt=OS(P,q.props.value),rt&&xt&&(an=q.props.children);if(q.props.value===void 0)return w.exports.cloneElement(q,{"aria-readonly":!0,role:"option"});const gi=()=>{if(P)return rt;const Kn=G.find(Xa=>Xa.props.value!==void 0&&Xa.props.disabled!==!0);return q===Kn?!0:rt};return w.exports.cloneElement(q,{"aria-selected":rt?"true":"false",onClick:nt(q),onKeyUp:Kn=>{Kn.key===" "&&Kn.preventDefault(),q.props.onKeyUp&&q.props.onKeyUp(Kn)},role:"option",selected:G[0].props.value===void 0||G[0].props.disabled===!0?gi():rt,value:void 0,"data-value":q.props.value})});xt&&(g?Pe.length===0?on=null:on=Pe.reduce((q,je,G)=>(q.push(je),G<Pe.length-1&&q.push(", "),q),[]):on=an);let qn=ve;!o&&ie&&X&&(qn=X.clientWidth);let Dt;typeof V<"u"?Dt=V:Dt=d?null:0;const Lt=M.id||(v?`mui-component-select-${v}`:void 0),ln=b({},e,{variant:Q,value:P,open:gt}),Ce=pX(ln);return Xe(w.exports.Fragment,{children:[k(cX,b({ref:fe,tabIndex:Dt,role:"button","aria-disabled":d?"true":void 0,"aria-expanded":gt?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[m,Lt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:sn,onMouseDown:d||N?null:Ee,onBlur:Ue,onFocus:x},M,{ownerState:ln,className:ae(M.className,Ce.select,l),id:Lt,children:fX(on)?AS||(AS=k("span",{className:"notranslate",children:"\u200B"})):on})),k(hX,b({value:Array.isArray(P)?P.join(","):P,name:v,ref:z,"aria-hidden":!0,onChange:Kt,tabIndex:-1,disabled:d,className:Ce.nativeInput,autoFocus:s,ownerState:ln},U)),k(dX,{as:f,className:Ce.icon,ownerState:ln}),k(Ey,b({id:`menu-${v||""}`,anchorEl:X,open:gt,onClose:Ke,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},E,{MenuListProps:b({"aria-labelledby":m,role:"listbox",disableListWrap:!0},E.MenuListProps),PaperProps:b({},E.PaperProps,{style:b({minWidth:qn},E.PaperProps!=null?E.PaperProps.style:null)}),children:yn}))]})}),gX=mX;function vX(t){return Re("MuiSvgIcon",t)}Te("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const yX=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],_X=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${ne(e)}`,`fontSize${ne(n)}`]};return Oe(i,vX,r)},wX=Y("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${ne(n.color)}`],e[`fontSize${ne(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,u,c,d,h,f,p,m,E,g,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(s=i.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((l=t.typography)==null||(u=l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem",large:((c=t.typography)==null||(d=c.pxToRem)==null?void 0:d.call(c,35))||"2.1875"}[e.fontSize],color:(h=(f=(t.vars||t).palette)==null||(p=f[e.color])==null?void 0:p.main)!=null?h:{action:(m=(t.vars||t).palette)==null||(E=m.action)==null?void 0:E.active,disabled:(g=(t.vars||t).palette)==null||(v=g.action)==null?void 0:v.disabled,inherit:void 0}[e.color]}}),AO=w.exports.forwardRef(function(e,n){const r=Me({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,f=J(r,yX),p=b({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h}),m={};c||(m.viewBox=h);const E=_X(p);return Xe(wX,b({as:a,className:ae(E.root,s),ownerState:p,focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},m,f,{children:[i,d?k("title",{children:d}):null]}))});AO.muiName="SvgIcon";const MS=AO;function Xp(t,e){const n=(r,i)=>k(MS,b({"data-testid":`${e}Icon`,ref:i},r,{children:t}));return n.muiName=MS.muiName,w.exports.memo(w.exports.forwardRef(n))}const EX=Xp(k("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");var $S,DS;const bX=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],CX=t=>{const{classes:e}=t;return e},e1={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>zr(t)&&t!=="variant",slot:"Root"},SX=Y(bO,e1)(""),xX=Y(TO,e1)(""),TX=Y(SO,e1)(""),OO=w.exports.forwardRef(function(e,n){const r=Me({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=EX,id:d,input:h,inputProps:f,label:p,labelId:m,MenuProps:E,multiple:g=!1,native:v=!1,onClose:y,onOpen:_,open:C,renderValue:x,SelectDisplayProps:S,variant:T="outlined"}=r,N=J(r,bX),I=v?oX:gX,M=Ya(),B=Qa({props:r,muiFormControl:M,states:["variant"]}).variant||T,Q=h||{standard:$S||($S=k(SX,{})),outlined:k(xX,{label:p}),filled:DS||(DS=k(TX,{}))}[B],U=b({},r,{variant:B,classes:o}),P=CX(U),L=Be(n,Q.ref);return k(w.exports.Fragment,{children:w.exports.cloneElement(Q,b({inputComponent:I,inputProps:b({children:s,IconComponent:c,variant:B,type:void 0,multiple:g},v?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:m,MenuProps:E,onClose:y,onOpen:_,open:C,renderValue:x,SelectDisplayProps:b({id:d},S)},f,{classes:f?tr(P,f.classes):P},h?h.props.inputProps:{})},g&&v&&B==="outlined"?{notched:!0}:{},{ref:L,className:ae(Q.props.className,a)},!h&&{variant:B},N))})});OO.muiName="Select";const IX=OO;function kX(t){return Re("MuiTextField",t)}Te("MuiTextField",["root"]);const RX=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],PX={standard:bO,filled:SO,outlined:TO},NX=t=>{const{classes:e}=t;return Oe({root:["root"]},kX,e)},AX=Y(ZQ,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),OX=w.exports.forwardRef(function(e,n){const r=Me({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:h,fullWidth:f=!1,helperText:p,id:m,InputLabelProps:E,inputProps:g,InputProps:v,inputRef:y,label:_,maxRows:C,minRows:x,multiline:S=!1,name:T,onBlur:N,onChange:I,onFocus:M,placeholder:V,required:B=!1,rows:Q,select:U=!1,SelectProps:P,type:L,value:R,variant:F="outlined"}=r,z=J(r,RX),K=b({},r,{autoFocus:s,color:l,disabled:c,error:d,fullWidth:f,multiline:S,required:B,select:U,variant:F}),X=NX(K),ge={};F==="outlined"&&(E&&typeof E.shrink<"u"&&(ge.notched=E.shrink),ge.label=_),U&&((!P||!P.native)&&(ge.id=void 0),ge["aria-describedby"]=void 0);const ie=ww(m),ve=p&&ie?`${ie}-helper-text`:void 0,he=_&&ie?`${ie}-label`:void 0,Ve=PX[F],fe=k(Ve,b({"aria-describedby":ve,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:f,multiline:S,name:T,rows:Q,maxRows:C,minRows:x,type:L,value:R,id:ie,inputRef:y,onBlur:N,onChange:I,onFocus:M,placeholder:V,inputProps:g},ge,v));return Xe(AX,b({className:ae(X.root,a),disabled:c,error:d,fullWidth:f,ref:n,required:B,color:l,variant:F,ownerState:K},z,{children:[_!=null&&_!==""&&k(KQ,b({htmlFor:ie,id:he},E,{children:_})),U?k(IX,b({"aria-describedby":ve,id:ie,labelId:he,value:R,input:fe},P,{children:o})):fe,p&&k(oY,b({id:ve},h,{children:p}))]}))}),MX=OX;function $X(t){return Re("MuiToolbar",t)}Te("MuiToolbar",["root","gutters","regular","dense"]);const DX=["className","component","disableGutters","variant"],LX=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Oe({root:["root",!n&&"gutters",r]},$X,e)},FX=Y("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>b({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),UX=w.exports.forwardRef(function(e,n){const r=Me({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:a="regular"}=r,l=J(r,DX),u=b({},r,{component:s,disableGutters:o,variant:a}),c=LX(u);return k(FX,b({as:s,className:ae(c.root,i),ref:n,ownerState:u},l))}),by=UX;function BX({messagesCollection:t}){const[e,n]=w.exports.useState(""),{data:r}=dA(),{uid:i,displayName:s,photoURL:o}=r;return k(by,{sx:{padding:"0",margin:"0"},children:k("form",{onSubmit:u=>{u.preventDefault();const c=e.trim();c&&(Z5(t,{text:c,createdAt:rj(),uid:i,displayName:s,photoURL:o}),n(""))},children:Xe(tu,{position:"fixed",sx:{width:"100%",display:"inline",top:"auto",bottom:0,backgroundColor:"#f1f1f1",padding:"10px"},children:[k(MX,{sx:{width:"80%","&:hover":{color:"red",opacity:[.9,.8,.7]}},id:"input-with-sx",label:"Type your message here...",variant:"standard",value:e,onChange:u=>{n(u.target.value)}}),k(wO,{variant:"contained",type:"submit",disabled:!e,sx:{marginLeft:1,width:"10%",padding:1,display:"inline"},children:"Send"})]})})})}const zX=Xp(k("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function VX(t){return Re("MuiAvatar",t)}Te("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const jX=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],WX=t=>{const{classes:e,variant:n,colorDefault:r}=t;return Oe({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},VX,e)},HX=Y("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t,ownerState:e})=>b({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.variant==="square"&&{borderRadius:0},e.colorDefault&&b({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]}))),qX=Y("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),KX=Y(zX,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function GX({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,s]=w.exports.useState(!1);return w.exports.useEffect(()=>{if(!n&&!r)return;s(!1);let o=!0;const a=new Image;return a.onload=()=>{!o||s("loaded")},a.onerror=()=>{!o||s("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{o=!1}},[t,e,n,r]),i}const QX=w.exports.forwardRef(function(e,n){const r=Me({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:o,component:a="div",imgProps:l,sizes:u,src:c,srcSet:d,variant:h="circular"}=r,f=J(r,jX);let p=null;const m=GX(b({},l,{src:c,srcSet:d})),E=c||d,g=E&&m!=="error",v=b({},r,{colorDefault:!g,component:a,variant:h}),y=WX(v);return g?p=k(qX,b({alt:i,src:c,srcSet:d,sizes:u,ownerState:v,className:y.img},l)):s!=null?p=s:E&&i?p=i[0]:p=k(KX,{className:y.fallback}),k(HX,b({as:a,ownerState:v,className:ae(y.root,o),ref:n},f,{children:p}))}),MO=QX,YX=new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!1});function XX(t){let e=0,n;for(n=0;n<t.length;n+=1)e=t.charCodeAt(n)+((e<<5)-e);let r="#";for(n=0;n<3;n+=1)r+=`00${(e>>n*8&255).toString(16)}`.slice(-2);return r}function JX(t){return{sx:{bgcolor:XX(t)},children:`${t.split(" ")[0][0]}${t.split(" ")[1][0]}`}}function ZX({createdAt:t,text:e,displayName:n}){return k("div",{children:Xe(tu,{sx:{width:"80%",height:"60px",backgroundColor:"red",marginBottom:"5px",paddingTop:2,"&:hover":{backgroundColor:"primary.main",opacity:[.9,.8,.7]}},children:["[",t!=null&&t.seconds?k("span",{children:YX.format(new Date(t.seconds*1e3))}):null,"]"," ",n?k(MO,{...JX(n+" ."),sx:{display:"inline",marginRight:1}}):null,k("strong",{children:n||null})," ",e]})})}function eJ({messages:t}){return k("pre",{children:t==null?void 0:t.map(e=>k(ZX,{...e},e.id))})}function tJ(t){return Re("MuiCircularProgress",t)}Te("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const nJ=["className","color","disableShrink","size","style","thickness","value","variant"];let Jp=t=>t,LS,FS,US,BS;const wi=44,rJ=Lc(LS||(LS=Jp`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),iJ=Lc(FS||(FS=Jp`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),sJ=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${ne(r)}`],svg:["svg"],circle:["circle",`circle${ne(n)}`,i&&"circleDisableShrink"]};return Oe(s,tJ,e)},oJ=Y("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${ne(n.color)}`]]}})(({ownerState:t,theme:e})=>b({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&Lw(US||(US=Jp`
      animation: ${0} 1.4s linear infinite;
    `),rJ)),aJ=Y("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),lJ=Y("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${ne(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>b({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&Lw(BS||(BS=Jp`
      animation: ${0} 1.4s ease-in-out infinite;
    `),iJ)),uJ=w.exports.forwardRef(function(e,n){const r=Me({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:u=3.6,value:c=0,variant:d="indeterminate"}=r,h=J(r,nJ),f=b({},r,{color:s,disableShrink:o,size:a,thickness:u,value:c,variant:d}),p=sJ(f),m={},E={},g={};if(d==="determinate"){const v=2*Math.PI*((wi-u)/2);m.strokeDasharray=v.toFixed(3),g["aria-valuenow"]=Math.round(c),m.strokeDashoffset=`${((100-c)/100*v).toFixed(3)}px`,E.transform="rotate(-90deg)"}return k(oJ,b({className:ae(p.root,i),style:b({width:a,height:a},E,l),ownerState:f,ref:n,role:"progressbar"},g,h,{children:k(aJ,{className:p.svg,ownerState:f,viewBox:`${wi/2} ${wi/2} ${wi} ${wi}`,children:k(lJ,{className:p.circle,style:m,ownerState:f,cx:wi,cy:wi,r:(wi-u)/2,fill:"none",strokeWidth:u})})}))}),cJ=uJ;function dJ(){const t=nH(),e=k5(t,"messages"),n=H5(e,K5("createdAt"),Q5(100)),{status:r,data:i}=X6(n,{idField:"id"});return Xe("div",{children:[r==="loading"?k(cJ,{color:"success"}):k(eJ,{messages:i}),k(BX,{messagesCollection:e})]})}const hJ=async t=>{g2(t),await z2(t,new Wr)},fJ=()=>{const t=globalThis._reactFirePreloadedObservables;Array.from(t.keys()).forEach(e=>e.includes("firestore")&&t.delete(e))},pJ=async t=>{await v2(t),fJ()};function mJ(){const{data:t}=hA(),e=mw();return t.signedIn?k("span",{onClick:()=>pJ(e),children:"Sign out"}):k("span",{onClick:()=>hJ(e),children:"Sign in with Google"})}function gJ(t){return Re("MuiAppBar",t)}Te("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const vJ=["className","color","enableColorOnDark","position"],yJ=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${ne(e)}`,`position${ne(n)}`]};return Oe(i,gJ,r)},bd=(t,e)=>`${t==null?void 0:t.replace(")","")}, ${e})`,_J=Y(Qw,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${ne(n.position)}`],e[`color${ne(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return b({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&b({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&b({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&b({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:bd(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:bd(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:bd(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:bd(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),wJ=w.exports.forwardRef(function(e,n){const r=Me({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=J(r,vJ),u=b({},r,{color:s,position:a,enableColorOnDark:o}),c=yJ(u);return k(_J,b({square:!0,component:"header",ownerState:u,elevation:4,className:ae(c.root,i,a==="fixed"&&"mui-fixed"),ref:n},l))}),EJ=wJ;function bJ(t){return Re("MuiIconButton",t)}const CJ=Te("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),SJ=CJ,xJ=["edge","children","className","color","disabled","disableFocusRipple","size"],TJ=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${ne(r)}`,i&&`edge${ne(i)}`,`size${ne(s)}`]};return Oe(o,bJ,e)},IJ=Y(Gw,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${ne(n.color)}`],n.edge&&e[`edge${ne(n.edge)}`],e[`size${ne(n.size)}`]]}})(({theme:t,ownerState:e})=>b({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:In(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>b({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&b({color:(t.vars||t).palette[e.color].main},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:In(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${SJ.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})),kJ=w.exports.forwardRef(function(e,n){const r=Me({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=r,d=J(r,xJ),h=b({},r,{edge:i,color:a,disabled:l,disableFocusRipple:u,size:c}),f=TJ(h);return k(IJ,b({className:ae(f.root,o),centerRipple:!0,focusRipple:!u,disabled:l,ref:n,ownerState:h},d,{children:s}))}),pg=kJ;function RJ(t){return Re("MuiTypography",t)}Te("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const PJ=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],NJ=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${ne(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Oe(a,RJ,o)},AJ=Y("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${ne(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>b({margin:0},e.variant&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),zS={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},OJ={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},MJ=t=>OJ[t]||t,$J=w.exports.forwardRef(function(e,n){const r=Me({props:e,name:"MuiTypography"}),i=MJ(r.color),s=dO(b({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:d=!1,variant:h="body1",variantMapping:f=zS}=s,p=J(s,PJ),m=b({},s,{align:o,color:i,className:a,component:l,gutterBottom:u,noWrap:c,paragraph:d,variant:h,variantMapping:f}),E=l||(d?"p":f[h]||zS[h])||"span",g=NJ(m);return k(AJ,b({as:E,ref:n,ownerState:m,className:ae(g.root,a)},p))}),Cd=$J;var t1={},Zp={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Zp);var mg={};const DJ={configure:t=>{console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join(`
`)),bw.configure(t)}},LJ=Object.freeze(Object.defineProperty({__proto__:null,unstable_ClassNameGenerator:DJ,capitalize:ne,createChainedFunction:sy,createSvgIcon:Xp,debounce:_w,deprecatedPropType:lH,isMuiElement:Yd,ownerDocument:pn,ownerWindow:Ji,requirePropFactory:uH,setRef:qu,unstable_useEnhancedEffect:Fr,unstable_useId:ww,unsupportedProp:hH,useControlled:df,useEventCallback:Pi,useForkRef:Be,useIsFocusVisible:Ew},Symbol.toStringTag,{value:"Module"})),FJ=GS(LJ);var VS;function n1(){return VS||(VS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=FJ}(mg)),mg}const r1=GS(qW);var UJ=Zp.exports;Object.defineProperty(t1,"__esModule",{value:!0});var $O=t1.default=void 0,BJ=UJ(n1()),zJ=r1,VJ=(0,BJ.default)((0,zJ.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");$O=t1.default=VJ;const jJ=k9({createStyledComponent:Y("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${ne(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>Me({props:t,name:"MuiContainer"})}),WJ=jJ,HJ=Y(zq,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),qJ=w.exports.forwardRef(function(e,n){const r=hO(),i=Me({props:e,name:"MuiPopper"});return k(HJ,b({direction:r==null?void 0:r.direction},i,{ref:n}))}),DO=qJ;function KJ(t){return Re("MuiTooltip",t)}const GJ=Te("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Ni=GJ,QJ=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"];function YJ(t){return Math.round(t*1e5)/1e5}const XJ=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:s}=t,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${ne(s.split("-")[0])}`],arrow:["arrow"]};return Oe(o,KJ,e)},JJ=Y(DO,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>b({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${Ni.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Ni.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Ni.arrow}`]:b({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Ni.arrow}`]:b({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),ZJ=Y("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${ne(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>b({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:In(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${YJ(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${Ni.popper}[data-popper-placement*="left"] &`]:b({transformOrigin:"right center"},e.isRtl?b({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):b({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${Ni.popper}[data-popper-placement*="right"] &`]:b({transformOrigin:"left center"},e.isRtl?b({marginRight:"14px"},e.touch&&{marginRight:"24px"}):b({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${Ni.popper}[data-popper-placement*="top"] &`]:b({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${Ni.popper}[data-popper-placement*="bottom"] &`]:b({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),eZ=Y("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:In(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Sd=!1,gg=null;function xd(t,e){return n=>{e&&e(n),t(n)}}const tZ=w.exports.forwardRef(function(e,n){var r,i,s,o,a,l;const u=Me({props:e,name:"MuiTooltip"}),{arrow:c=!1,children:d,components:h={},componentsProps:f={},describeChild:p=!1,disableFocusListener:m=!1,disableHoverListener:E=!1,disableInteractive:g=!1,disableTouchListener:v=!1,enterDelay:y=100,enterNextDelay:_=0,enterTouchDelay:C=700,followCursor:x=!1,id:S,leaveDelay:T=0,leaveTouchDelay:N=1500,onClose:I,onOpen:M,open:V,placement:B="bottom",PopperComponent:Q,PopperProps:U={},title:P,TransitionComponent:L=wy,TransitionProps:R}=u,F=J(u,QJ),z=qp(),K=z.direction==="rtl",[X,ge]=w.exports.useState(),[ie,ve]=w.exports.useState(null),he=w.exports.useRef(!1),Ve=g||x,fe=w.exports.useRef(),$e=w.exports.useRef(),Ee=w.exports.useRef(),Ke=w.exports.useRef(),[St,Kt]=df({controlled:V,default:!1,name:"Tooltip",state:"open"});let nt=St;const sn=ww(S),gt=w.exports.useRef(),Ue=w.exports.useCallback(()=>{gt.current!==void 0&&(document.body.style.WebkitUserSelect=gt.current,gt.current=void 0),clearTimeout(Ke.current)},[]);w.exports.useEffect(()=>()=>{clearTimeout(fe.current),clearTimeout($e.current),clearTimeout(Ee.current),Ue()},[Ue]);const on=ye=>{clearTimeout(gg),Sd=!0,Kt(!0),M&&!nt&&M(ye)},an=Pi(ye=>{clearTimeout(gg),gg=setTimeout(()=>{Sd=!1},800+T),Kt(!1),I&&nt&&I(ye),clearTimeout(fe.current),fe.current=setTimeout(()=>{he.current=!1},z.transitions.duration.shortest)}),Pe=ye=>{he.current&&ye.type!=="touchstart"||(X&&X.removeAttribute("title"),clearTimeout($e.current),clearTimeout(Ee.current),y||Sd&&_?$e.current=setTimeout(()=>{on(ye)},Sd?_:y):on(ye))},xt=ye=>{clearTimeout($e.current),clearTimeout(Ee.current),Ee.current=setTimeout(()=>{an(ye)},T)},{isFocusVisibleRef:yn,onBlur:qn,onFocus:Dt,ref:Lt}=Ew(),[,ln]=w.exports.useState(!1),Ce=ye=>{qn(ye),yn.current===!1&&(ln(!1),xt(ye))},q=ye=>{X||ge(ye.currentTarget),Dt(ye),yn.current===!0&&(ln(!0),Pe(ye))},je=ye=>{he.current=!0;const Gt=d.props;Gt.onTouchStart&&Gt.onTouchStart(ye)},G=Pe,rt=xt,gi=ye=>{je(ye),clearTimeout(Ee.current),clearTimeout(fe.current),Ue(),gt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Ke.current=setTimeout(()=>{document.body.style.WebkitUserSelect=gt.current,Pe(ye)},C)},Kn=ye=>{d.props.onTouchEnd&&d.props.onTouchEnd(ye),Ue(),clearTimeout(Ee.current),Ee.current=setTimeout(()=>{an(ye)},N)};w.exports.useEffect(()=>{if(!nt)return;function ye(Gt){(Gt.key==="Escape"||Gt.key==="Esc")&&an(Gt)}return document.addEventListener("keydown",ye),()=>{document.removeEventListener("keydown",ye)}},[an,nt]);const Xa=Be(ge,n),UO=Be(Lt,Xa),BO=Be(d.ref,UO);P===""&&(nt=!1);const Ja=w.exports.useRef({x:0,y:0}),em=w.exports.useRef(),zO=ye=>{const Gt=d.props;Gt.onMouseMove&&Gt.onMouseMove(ye),Ja.current={x:ye.clientX,y:ye.clientY},em.current&&em.current.update()},Za={},tm=typeof P=="string";p?(Za.title=!nt&&tm&&!E?P:null,Za["aria-describedby"]=nt?sn:null):(Za["aria-label"]=tm?P:null,Za["aria-labelledby"]=nt&&!tm?sn:null);const dr=b({},Za,F,d.props,{className:ae(F.className,d.props.className),onTouchStart:je,ref:BO},x?{onMouseMove:zO}:{}),el={};v||(dr.onTouchStart=gi,dr.onTouchEnd=Kn),E||(dr.onMouseOver=xd(G,dr.onMouseOver),dr.onMouseLeave=xd(rt,dr.onMouseLeave),Ve||(el.onMouseOver=G,el.onMouseLeave=rt)),m||(dr.onFocus=xd(q,dr.onFocus),dr.onBlur=xd(Ce,dr.onBlur),Ve||(el.onFocus=q,el.onBlur=Ce));const VO=w.exports.useMemo(()=>{var ye;let Gt=[{name:"arrow",enabled:Boolean(ie),options:{element:ie,padding:4}}];return(ye=U.popperOptions)!=null&&ye.modifiers&&(Gt=Gt.concat(U.popperOptions.modifiers)),b({},U.popperOptions,{modifiers:Gt})},[ie,U]),tl=b({},u,{isRtl:K,arrow:c,disableInteractive:Ve,placement:B,PopperComponentProp:Q,touch:he.current}),nm=XJ(tl),o1=(r=h.Popper)!=null?r:JJ,a1=(i=(s=h.Transition)!=null?s:L)!=null?i:wy,l1=(o=h.Tooltip)!=null?o:ZJ,u1=(a=h.Arrow)!=null?a:eZ,jO=Rl(o1,b({},U,f.popper),tl),WO=Rl(a1,b({},R,f.transition),tl),HO=Rl(l1,b({},f.tooltip),tl),qO=Rl(u1,b({},f.arrow),tl);return Xe(w.exports.Fragment,{children:[w.exports.cloneElement(d,dr),k(o1,b({as:Q!=null?Q:DO,placement:B,anchorEl:x?{getBoundingClientRect:()=>({top:Ja.current.y,left:Ja.current.x,right:Ja.current.x,bottom:Ja.current.y,width:0,height:0})}:X,popperRef:em,open:X?nt:!1,id:sn,transition:!0},el,jO,{className:ae(nm.popper,U==null?void 0:U.className,(l=f.popper)==null?void 0:l.className),popperOptions:VO,children:({TransitionProps:ye})=>{var Gt,c1;return k(a1,b({timeout:z.transitions.duration.shorter},ye,WO,{children:Xe(l1,b({},HO,{className:ae(nm.tooltip,(Gt=f.tooltip)==null?void 0:Gt.className),children:[P,c?k(u1,b({},qO,{className:ae(nm.arrow,(c1=f.arrow)==null?void 0:c1.className),ref:ve})):null]}))}))}}))]})}),nZ=tZ,rZ=Te("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),jS=rZ,iZ=Te("MuiListItemIcon",["root","alignItemsFlexStart"]),WS=iZ,sZ=Te("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),HS=sZ;function oZ(t){return Re("MuiMenuItem",t)}const aZ=Te("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),wl=aZ,lZ=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],uZ=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},cZ=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,l=Oe({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},oZ,o);return b({},o,l)},dZ=Y(Gw,{shouldForwardProp:t=>zr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:uZ})(({theme:t,ownerState:e})=>b({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${wl.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:In(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${wl.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:In(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${wl.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:In(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:In(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${wl.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${wl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${jS.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${jS.inset}`]:{marginLeft:52},[`& .${HS.root}`]:{marginTop:0,marginBottom:0},[`& .${HS.inset}`]:{paddingLeft:36},[`& .${WS.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&b({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${WS.root} svg`]:{fontSize:"1.25rem"}}))),hZ=w.exports.forwardRef(function(e,n){const r=Me({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:u,role:c="menuitem",tabIndex:d}=r,h=J(r,lZ),f=w.exports.useContext(yy),p={dense:o||f.dense||!1,disableGutters:l},m=w.exports.useRef(null);Fr(()=>{i&&m.current&&m.current.focus()},[i]);const E=b({},r,{dense:p.dense,divider:a,disableGutters:l}),g=cZ(r),v=Be(m,n);let y;return r.disabled||(y=d!==void 0?d:-1),k(yy.Provider,{value:p,children:k(dZ,b({ref:v,role:c,tabIndex:y,component:s,focusVisibleClassName:ae(g.focusVisible,u)},h,{ownerState:E,classes:g}))})}),qS=hZ;var i1={},fZ=Zp.exports;Object.defineProperty(i1,"__esModule",{value:!0});var LO=i1.default=void 0,pZ=fZ(n1()),mZ=r1,gZ=(0,pZ.default)((0,mZ.jsx)("path",{d:"M5 16c0 3.87 3.13 7 7 7s7-3.13 7-7v-4H5v4zM16.12 4.37l2.1-2.1-.82-.83-2.3 2.31C14.16 3.28 13.12 3 12 3s-2.16.28-3.09.75L6.6 1.44l-.82.83 2.1 2.1C6.14 5.64 5 7.68 5 10v1h14v-1c0-2.32-1.14-4.36-2.88-5.63zM9 9c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm6 0c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}),"Adb");LO=i1.default=gZ;const vZ=Xp(k("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircle");var s1={},yZ=Zp.exports;Object.defineProperty(s1,"__esModule",{value:!0});var FO=s1.default=void 0,_Z=yZ(n1()),wZ=r1,EZ=(0,_Z.default)((0,wZ.jsx)("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"}),"QuestionAnswer");FO=s1.default=EZ;function bZ(){const{status:t,data:e}=hA(),n=[],r=[k(mJ,{})],[i,s]=w.exports.useState(null),[o,a]=w.exports.useState(null),l=f=>{s(f.currentTarget)},u=f=>{a(f.currentTarget)},c=()=>{s(null)},d=()=>{a(null)},{data:h}=dA();return t==="loading"?k("span",{children:"loading..."}):Xe(UN,{children:[k(EJ,{position:"fixed",children:k(WJ,{maxWidth:"xl",children:Xe(by,{disableGutters:!0,children:[k(FO,{sx:{display:{xs:"none",md:"flex"},mr:1}}),k(Cd,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"Super Chat"}),Xe(tu,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[k(pg,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:l,color:"inherit",children:k($O,{})}),k(Ey,{id:"menu-appbar",anchorEl:i,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(i),onClose:c,sx:{display:{xs:"block",md:"none"}},children:n.map(f=>k(qS,{onClick:c,children:k(Cd,{textAlign:"center",children:f})},f))})]}),k(LO,{sx:{display:{xs:"flex",md:"none"},mr:1}}),k(Cd,{variant:"h5",noWrap:!0,component:"a",href:"",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"LOGO"}),k(tu,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:n.map(f=>k(wO,{onClick:c,sx:{my:2,color:"white",display:"block"},children:f},f))}),Xe(tu,{sx:{flexGrow:0},children:[k(nZ,{title:"Open settings",children:h?k(pg,{onClick:u,sx:{p:0},children:k(MO,{alt:"Remy Sharp",src:h.photoURL})}):k(pg,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:u,color:"inherit",children:k(vZ,{})})}),k(Ey,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(o),onClose:d,children:r.map(f=>k(qS,{onClick:d,children:k(Cd,{textAlign:"center",children:f})},f))})]})]})})}),k(by,{}),e.signedIn&&k(dJ,{})]})}const CZ={apiKey:"AIzaSyCxXnUidB20eJPotUbQjUUQmVDk_LFIzQk",authDomain:"example-44ced.firebaseapp.com",projectId:"example-44ced",storageBucket:"example-44ced.appspot.com",messagingSenderId:"340859330515",appId:"1:340859330515:web:98a9e55130e5fbcaced926"};function SZ({children:t}){const e=cA(),n=kF(e),r=D4(e);return k(tH,{sdk:A5(e),children:k(Z6,{sdk:n,children:k(eH,{sdk:r,children:t})})})}yg.createRoot(document.getElementById("root")).render(k(ks.StrictMode,{children:k(L6,{firebaseConfig:CZ,children:k(SZ,{children:k(bZ,{})})})}));
