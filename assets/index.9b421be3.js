function ZO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ex(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function tx(t){var e=t.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var w={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nc=Symbol.for("react.element"),eM=Symbol.for("react.portal"),tM=Symbol.for("react.fragment"),nM=Symbol.for("react.strict_mode"),rM=Symbol.for("react.profiler"),iM=Symbol.for("react.provider"),sM=Symbol.for("react.context"),oM=Symbol.for("react.forward_ref"),aM=Symbol.for("react.suspense"),lM=Symbol.for("react.memo"),uM=Symbol.for("react.lazy"),y1=Symbol.iterator;function cM(t){return t===null||typeof t!="object"?null:(t=y1&&t[y1]||t["@@iterator"],typeof t=="function"?t:null)}var nx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rx=Object.assign,ix={};function Aa(t,e,n){this.props=t,this.context=e,this.refs=ix,this.updater=n||nx}Aa.prototype.isReactComponent={};Aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sx(){}sx.prototype=Aa.prototype;function xy(t,e,n){this.props=t,this.context=e,this.refs=ix,this.updater=n||nx}var Ty=xy.prototype=new sx;Ty.constructor=xy;rx(Ty,Aa.prototype);Ty.isPureReactComponent=!0;var _1=Array.isArray,ox=Object.prototype.hasOwnProperty,Iy={current:null},ax={key:!0,ref:!0,__self:!0,__source:!0};function lx(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ox.call(e,r)&&!ax.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:nc,type:t,key:s,ref:o,props:i,_owner:Iy.current}}function dM(t,e){return{$$typeof:nc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ky(t){return typeof t=="object"&&t!==null&&t.$$typeof===nc}function hM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var w1=/\/+/g;function im(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hM(""+t.key):e.toString(36)}function kd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nc:case eM:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+im(o,0):r,_1(i)?(n="",t!=null&&(n=t.replace(w1,"$&/")+"/"),kd(i,e,n,"",function(u){return u})):i!=null&&(ky(i)&&(i=dM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(w1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",_1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+im(s,a);o+=kd(s,e,n,l,i)}else if(l=cM(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+im(s,a++),o+=kd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function jc(t,e,n){if(t==null)return t;var r=[],i=0;return kd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function fM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gn={current:null},Rd={transition:null},pM={ReactCurrentDispatcher:gn,ReactCurrentBatchConfig:Rd,ReactCurrentOwner:Iy};we.Children={map:jc,forEach:function(t,e,n){jc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jc(t,function(){e++}),e},toArray:function(t){return jc(t,function(e){return e})||[]},only:function(t){if(!ky(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=Aa;we.Fragment=tM;we.Profiler=rM;we.PureComponent=xy;we.StrictMode=nM;we.Suspense=aM;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pM;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rx({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Iy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ox.call(e,l)&&!ax.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:nc,type:t.type,key:i,ref:s,props:r,_owner:o}};we.createContext=function(t){return t={$$typeof:sM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iM,_context:t},t.Consumer=t};we.createElement=lx;we.createFactory=function(t){var e=lx.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:oM,render:t}};we.isValidElement=ky;we.lazy=function(t){return{$$typeof:uM,_payload:{_status:-1,_result:t},_init:fM}};we.memo=function(t,e){return{$$typeof:lM,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=Rd.transition;Rd.transition={};try{t()}finally{Rd.transition=e}};we.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};we.useCallback=function(t,e){return gn.current.useCallback(t,e)};we.useContext=function(t){return gn.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return gn.current.useDeferredValue(t)};we.useEffect=function(t,e){return gn.current.useEffect(t,e)};we.useId=function(){return gn.current.useId()};we.useImperativeHandle=function(t,e,n){return gn.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return gn.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return gn.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return gn.current.useMemo(t,e)};we.useReducer=function(t,e,n){return gn.current.useReducer(t,e,n)};we.useRef=function(t){return gn.current.useRef(t)};we.useState=function(t){return gn.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return gn.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return gn.current.useTransition()};we.version="18.2.0";(function(t){t.exports=we})(w);const ks=ex(w.exports),_g=ZO({__proto__:null,default:ks},[w.exports]);var wg={},rc={exports:{}},Wn={},ux={exports:{}},cx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,F){var z=R.length;R.push(F);e:for(;0<z;){var K=z-1>>>1,J=R[K];if(0<i(J,F))R[K]=F,R[z]=J,z=K;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var F=R[0],z=R.pop();if(z!==F){R[0]=z;e:for(var K=0,J=R.length,ge=J>>>1;K<ge;){var ie=2*(K+1)-1,ve=R[ie],he=ie+1,je=R[he];if(0>i(ve,z))he<J&&0>i(je,ve)?(R[K]=je,R[he]=z,K=he):(R[K]=ve,R[ie]=z,K=ie);else if(he<J&&0>i(je,z))R[K]=je,R[he]=z,K=he;else break e}}return F}function i(R,F){var z=R.sortIndex-F.sortIndex;return z!==0?z:R.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,m=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(R){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=R)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function _(R){if(m=!1,y(R),!p)if(n(l)!==null)p=!0,P(C);else{var F=n(u);F!==null&&L(_,F.startTime-R)}}function C(R,F){p=!1,m&&(m=!1,g(T),T=-1),f=!0;var z=h;try{for(y(F),d=n(l);d!==null&&(!(d.expirationTime>F)||R&&!M());){var K=d.callback;if(typeof K=="function"){d.callback=null,h=d.priorityLevel;var J=K(d.expirationTime<=F);F=t.unstable_now(),typeof J=="function"?d.callback=J:d===n(l)&&r(l),y(F)}else r(l);d=n(l)}if(d!==null)var ge=!0;else{var ie=n(u);ie!==null&&L(_,ie.startTime-F),ge=!1}return ge}finally{d=null,h=z,f=!1}}var x=!1,S=null,T=-1,N=5,I=-1;function M(){return!(t.unstable_now()-I<N)}function V(){if(S!==null){var R=t.unstable_now();I=R;var F=!0;try{F=S(!0,R)}finally{F?B():(x=!1,S=null)}}else x=!1}var B;if(typeof v=="function")B=function(){v(V)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,U=Q.port2;Q.port1.onmessage=V,B=function(){U.postMessage(null)}}else B=function(){E(V,0)};function P(R){S=R,x||(x=!0,B())}function L(R,F){T=E(function(){R(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,P(C))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var z=h;h=F;try{return R()}finally{h=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,F){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=h;h=R;try{return F()}finally{h=z}},t.unstable_scheduleCallback=function(R,F,z){var K=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?K+z:K):z=K,R){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=z+J,R={id:c++,callback:F,priorityLevel:R,startTime:z,expirationTime:J,sortIndex:-1},z>K?(R.sortIndex=z,e(u,R),n(l)===null&&R===n(u)&&(m?(g(T),T=-1):m=!0,L(_,z-K))):(R.sortIndex=J,e(l,R),p||f||(p=!0,P(C))),R},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(R){var F=h;return function(){var z=h;h=F;try{return R.apply(this,arguments)}finally{h=z}}}})(cx);(function(t){t.exports=cx})(ux);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dx=w.exports,zn=ux.exports;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hx=new Set,su={};function io(t,e){ra(t,e),ra(t+"Capture",e)}function ra(t,e){for(su[t]=e,t=0;t<e.length;t++)hx.add(e[t])}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eg=Object.prototype.hasOwnProperty,mM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E1={},b1={};function gM(t){return Eg.call(b1,t)?!0:Eg.call(E1,t)?!1:mM.test(t)?b1[t]=!0:(E1[t]=!0,!1)}function vM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yM(t,e,n,r){if(e===null||typeof e>"u"||vM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new vn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new vn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new vn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new vn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new vn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new vn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new vn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new vn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new vn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ry=/[\-:]([a-z])/g;function Py(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ry,Py);Wt[e]=new vn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ry,Py);Wt[e]=new vn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ry,Py);Wt[e]=new vn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new vn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new vn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ny(t,e,n,r){var i=Wt.hasOwnProperty(e)?Wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yM(e,n,i,r)&&(n=null),r||i===null?gM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var hi=dx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wc=Symbol.for("react.element"),xo=Symbol.for("react.portal"),To=Symbol.for("react.fragment"),Ay=Symbol.for("react.strict_mode"),bg=Symbol.for("react.profiler"),fx=Symbol.for("react.provider"),px=Symbol.for("react.context"),Oy=Symbol.for("react.forward_ref"),Cg=Symbol.for("react.suspense"),Sg=Symbol.for("react.suspense_list"),My=Symbol.for("react.memo"),bi=Symbol.for("react.lazy"),mx=Symbol.for("react.offscreen"),C1=Symbol.iterator;function rl(t){return t===null||typeof t!="object"?null:(t=C1&&t[C1]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,sm;function bl(t){if(sm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sm=e&&e[1]||""}return`
`+sm+t}var om=!1;function am(t,e){if(!t||om)return"";om=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{om=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?bl(t):""}function _M(t){switch(t.tag){case 5:return bl(t.type);case 16:return bl("Lazy");case 13:return bl("Suspense");case 19:return bl("SuspenseList");case 0:case 2:case 15:return t=am(t.type,!1),t;case 11:return t=am(t.type.render,!1),t;case 1:return t=am(t.type,!0),t;default:return""}}function xg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case To:return"Fragment";case xo:return"Portal";case bg:return"Profiler";case Ay:return"StrictMode";case Cg:return"Suspense";case Sg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case px:return(t.displayName||"Context")+".Consumer";case fx:return(t._context.displayName||"Context")+".Provider";case Oy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case My:return e=t.displayName||null,e!==null?e:xg(t.type)||"Memo";case bi:e=t._payload,t=t._init;try{return xg(t(e))}catch{}}return null}function wM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xg(e);case 8:return e===Ay?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function EM(t){var e=gx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hc(t){t._valueTracker||(t._valueTracker=EM(t))}function vx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tg(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function S1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Wi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yx(t,e){e=e.checked,e!=null&&Ny(t,"checked",e,!1)}function Ig(t,e){yx(t,e);var n=Wi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kg(t,e.type,n):e.hasOwnProperty("defaultValue")&&kg(t,e.type,Wi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function x1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kg(t,e,n){(e!=="number"||nh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Cl=Array.isArray;function zo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Wi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Rg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function T1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(Cl(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Wi(n)}}function _x(t,e){var n=Wi(e.value),r=Wi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function I1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qc,Ex=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qc=qc||document.createElement("div"),qc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ou(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Al={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bM=["Webkit","ms","Moz","O"];Object.keys(Al).forEach(function(t){bM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Al[e]=Al[t]})});function bx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Al.hasOwnProperty(t)&&Al[t]?(""+e).trim():e+"px"}function Cx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=bx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var CM=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ng(t,e){if(e){if(CM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Ag(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Og=null;function $y(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mg=null,Vo=null,jo=null;function k1(t){if(t=oc(t)){if(typeof Mg!="function")throw Error(O(280));var e=t.stateNode;e&&(e=Ef(e),Mg(t.stateNode,t.type,e))}}function Sx(t){Vo?jo?jo.push(t):jo=[t]:Vo=t}function xx(){if(Vo){var t=Vo,e=jo;if(jo=Vo=null,k1(t),e)for(t=0;t<e.length;t++)k1(e[t])}}function Tx(t,e){return t(e)}function Ix(){}var lm=!1;function kx(t,e,n){if(lm)return t(e,n);lm=!0;try{return Tx(t,e,n)}finally{lm=!1,(Vo!==null||jo!==null)&&(Ix(),xx())}}function au(t,e){var n=t.stateNode;if(n===null)return null;var r=Ef(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var $g=!1;if(ni)try{var il={};Object.defineProperty(il,"passive",{get:function(){$g=!0}}),window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{$g=!1}function SM(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ol=!1,rh=null,ih=!1,Dg=null,xM={onError:function(t){Ol=!0,rh=t}};function TM(t,e,n,r,i,s,o,a,l){Ol=!1,rh=null,SM.apply(xM,arguments)}function IM(t,e,n,r,i,s,o,a,l){if(TM.apply(this,arguments),Ol){if(Ol){var u=rh;Ol=!1,rh=null}else throw Error(O(198));ih||(ih=!0,Dg=u)}}function so(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Rx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function R1(t){if(so(t)!==t)throw Error(O(188))}function kM(t){var e=t.alternate;if(!e){if(e=so(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return R1(i),t;if(s===r)return R1(i),e;s=s.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function Px(t){return t=kM(t),t!==null?Nx(t):null}function Nx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Nx(t);if(e!==null)return e;t=t.sibling}return null}var Ax=zn.unstable_scheduleCallback,P1=zn.unstable_cancelCallback,RM=zn.unstable_shouldYield,PM=zn.unstable_requestPaint,ut=zn.unstable_now,NM=zn.unstable_getCurrentPriorityLevel,Dy=zn.unstable_ImmediatePriority,Ox=zn.unstable_UserBlockingPriority,sh=zn.unstable_NormalPriority,AM=zn.unstable_LowPriority,Mx=zn.unstable_IdlePriority,vf=null,Rr=null;function OM(t){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(vf,t,void 0,(t.current.flags&128)===128)}catch{}}var wr=Math.clz32?Math.clz32:DM,MM=Math.log,$M=Math.LN2;function DM(t){return t>>>=0,t===0?32:31-(MM(t)/$M|0)|0}var Kc=64,Gc=4194304;function Sl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function oh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Sl(a):(s&=o,s!==0&&(r=Sl(s)))}else o=n&~i,o!==0?r=Sl(o):s!==0&&(r=Sl(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wr(e),i=1<<n,r|=t[n],e&=~i;return r}function LM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-wr(s),a=1<<o,l=i[o];l===-1?((a&n)===0||(a&r)!==0)&&(i[o]=LM(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Lg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $x(){var t=Kc;return Kc<<=1,(Kc&4194240)===0&&(Kc=64),t}function um(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ic(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wr(e),t[e]=n}function UM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-wr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ly(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var De=0;function Dx(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Lx,Fy,Fx,Ux,Bx,Fg=!1,Qc=[],Oi=null,Mi=null,$i=null,lu=new Map,uu=new Map,Si=[],BM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N1(t,e){switch(t){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":lu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":uu.delete(e.pointerId)}}function sl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=oc(e),e!==null&&Fy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function zM(t,e,n,r,i){switch(e){case"focusin":return Oi=sl(Oi,t,e,n,r,i),!0;case"dragenter":return Mi=sl(Mi,t,e,n,r,i),!0;case"mouseover":return $i=sl($i,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return lu.set(s,sl(lu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,uu.set(s,sl(uu.get(s)||null,t,e,n,r,i)),!0}return!1}function zx(t){var e=ys(t.target);if(e!==null){var n=so(e);if(n!==null){if(e=n.tag,e===13){if(e=Rx(n),e!==null){t.blockedOn=e,Bx(t.priority,function(){Fx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ug(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Og=r,n.target.dispatchEvent(r),Og=null}else return e=oc(n),e!==null&&Fy(e),t.blockedOn=n,!1;e.shift()}return!0}function A1(t,e,n){Pd(t)&&n.delete(e)}function VM(){Fg=!1,Oi!==null&&Pd(Oi)&&(Oi=null),Mi!==null&&Pd(Mi)&&(Mi=null),$i!==null&&Pd($i)&&($i=null),lu.forEach(A1),uu.forEach(A1)}function ol(t,e){t.blockedOn===e&&(t.blockedOn=null,Fg||(Fg=!0,zn.unstable_scheduleCallback(zn.unstable_NormalPriority,VM)))}function cu(t){function e(i){return ol(i,t)}if(0<Qc.length){ol(Qc[0],t);for(var n=1;n<Qc.length;n++){var r=Qc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Oi!==null&&ol(Oi,t),Mi!==null&&ol(Mi,t),$i!==null&&ol($i,t),lu.forEach(e),uu.forEach(e),n=0;n<Si.length;n++)r=Si[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Si.length&&(n=Si[0],n.blockedOn===null);)zx(n),n.blockedOn===null&&Si.shift()}var Wo=hi.ReactCurrentBatchConfig,ah=!0;function jM(t,e,n,r){var i=De,s=Wo.transition;Wo.transition=null;try{De=1,Uy(t,e,n,r)}finally{De=i,Wo.transition=s}}function WM(t,e,n,r){var i=De,s=Wo.transition;Wo.transition=null;try{De=4,Uy(t,e,n,r)}finally{De=i,Wo.transition=s}}function Uy(t,e,n,r){if(ah){var i=Ug(t,e,n,r);if(i===null)_m(t,e,r,lh,n),N1(t,r);else if(zM(i,t,e,n,r))r.stopPropagation();else if(N1(t,r),e&4&&-1<BM.indexOf(t)){for(;i!==null;){var s=oc(i);if(s!==null&&Lx(s),s=Ug(t,e,n,r),s===null&&_m(t,e,r,lh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else _m(t,e,r,null,n)}}var lh=null;function Ug(t,e,n,r){if(lh=null,t=$y(r),t=ys(t),t!==null)if(e=so(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Rx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lh=t,null}function Vx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NM()){case Dy:return 1;case Ox:return 4;case sh:case AM:return 16;case Mx:return 536870912;default:return 16}default:return 16}}var Ri=null,By=null,Nd=null;function jx(){if(Nd)return Nd;var t,e=By,n=e.length,r,i="value"in Ri?Ri.value:Ri.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Nd=i.slice(t,1<r?1-r:void 0)}function Ad(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yc(){return!0}function O1(){return!1}function Hn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yc:O1,this.isPropagationStopped=O1,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),e}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zy=Hn(Oa),sc=ot({},Oa,{view:0,detail:0}),HM=Hn(sc),cm,dm,al,yf=ot({},sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==al&&(al&&t.type==="mousemove"?(cm=t.screenX-al.screenX,dm=t.screenY-al.screenY):dm=cm=0,al=t),cm)},movementY:function(t){return"movementY"in t?t.movementY:dm}}),M1=Hn(yf),qM=ot({},yf,{dataTransfer:0}),KM=Hn(qM),GM=ot({},sc,{relatedTarget:0}),hm=Hn(GM),QM=ot({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),YM=Hn(QM),XM=ot({},Oa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JM=Hn(XM),ZM=ot({},Oa,{data:0}),$1=Hn(ZM),e$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=n$[t])?!!e[t]:!1}function Vy(){return r$}var i$=ot({},sc,{key:function(t){if(t.key){var e=e$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ad(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?t$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vy,charCode:function(t){return t.type==="keypress"?Ad(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ad(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),s$=Hn(i$),o$=ot({},yf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D1=Hn(o$),a$=ot({},sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vy}),l$=Hn(a$),u$=ot({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),c$=Hn(u$),d$=ot({},yf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),h$=Hn(d$),f$=[9,13,27,32],jy=ni&&"CompositionEvent"in window,Ml=null;ni&&"documentMode"in document&&(Ml=document.documentMode);var p$=ni&&"TextEvent"in window&&!Ml,Wx=ni&&(!jy||Ml&&8<Ml&&11>=Ml),L1=String.fromCharCode(32),F1=!1;function Hx(t,e){switch(t){case"keyup":return f$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Io=!1;function m$(t,e){switch(t){case"compositionend":return qx(e);case"keypress":return e.which!==32?null:(F1=!0,L1);case"textInput":return t=e.data,t===L1&&F1?null:t;default:return null}}function g$(t,e){if(Io)return t==="compositionend"||!jy&&Hx(t,e)?(t=jx(),Nd=By=Ri=null,Io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Wx&&e.locale!=="ko"?null:e.data;default:return null}}var v$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!v$[t.type]:e==="textarea"}function Kx(t,e,n,r){Sx(r),e=uh(e,"onChange"),0<e.length&&(n=new zy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $l=null,du=null;function y$(t){iT(t,0)}function _f(t){var e=Po(t);if(vx(e))return t}function _$(t,e){if(t==="change")return e}var Gx=!1;if(ni){var fm;if(ni){var pm="oninput"in document;if(!pm){var B1=document.createElement("div");B1.setAttribute("oninput","return;"),pm=typeof B1.oninput=="function"}fm=pm}else fm=!1;Gx=fm&&(!document.documentMode||9<document.documentMode)}function z1(){$l&&($l.detachEvent("onpropertychange",Qx),du=$l=null)}function Qx(t){if(t.propertyName==="value"&&_f(du)){var e=[];Kx(e,du,t,$y(t)),kx(y$,e)}}function w$(t,e,n){t==="focusin"?(z1(),$l=e,du=n,$l.attachEvent("onpropertychange",Qx)):t==="focusout"&&z1()}function E$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _f(du)}function b$(t,e){if(t==="click")return _f(e)}function C$(t,e){if(t==="input"||t==="change")return _f(e)}function S$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cr=typeof Object.is=="function"?Object.is:S$;function hu(t,e){if(Cr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Eg.call(e,i)||!Cr(t[i],e[i]))return!1}return!0}function V1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function j1(t,e){var n=V1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=V1(n)}}function Yx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Yx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Xx(){for(var t=window,e=nh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nh(t.document)}return e}function Wy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function x$(t){var e=Xx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Yx(n.ownerDocument.documentElement,n)){if(r!==null&&Wy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=j1(n,s);var o=j1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var T$=ni&&"documentMode"in document&&11>=document.documentMode,ko=null,Bg=null,Dl=null,zg=!1;function W1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zg||ko==null||ko!==nh(r)||(r=ko,"selectionStart"in r&&Wy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dl&&hu(Dl,r)||(Dl=r,r=uh(Bg,"onSelect"),0<r.length&&(e=new zy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ko)))}function Xc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ro={animationend:Xc("Animation","AnimationEnd"),animationiteration:Xc("Animation","AnimationIteration"),animationstart:Xc("Animation","AnimationStart"),transitionend:Xc("Transition","TransitionEnd")},mm={},Jx={};ni&&(Jx=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function wf(t){if(mm[t])return mm[t];if(!Ro[t])return t;var e=Ro[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Jx)return mm[t]=e[n];return t}var Zx=wf("animationend"),eT=wf("animationiteration"),tT=wf("animationstart"),nT=wf("transitionend"),rT=new Map,H1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(t,e){rT.set(t,e),io(e,[t])}for(var gm=0;gm<H1.length;gm++){var vm=H1[gm],I$=vm.toLowerCase(),k$=vm[0].toUpperCase()+vm.slice(1);es(I$,"on"+k$)}es(Zx,"onAnimationEnd");es(eT,"onAnimationIteration");es(tT,"onAnimationStart");es("dblclick","onDoubleClick");es("focusin","onFocus");es("focusout","onBlur");es(nT,"onTransitionEnd");ra("onMouseEnter",["mouseout","mouseover"]);ra("onMouseLeave",["mouseout","mouseover"]);ra("onPointerEnter",["pointerout","pointerover"]);ra("onPointerLeave",["pointerout","pointerover"]);io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));io("onBeforeInput",["compositionend","keypress","textInput","paste"]);io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R$=new Set("cancel close invalid load scroll toggle".split(" ").concat(xl));function q1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,IM(r,e,void 0,t),t.currentTarget=null}function iT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;q1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;q1(i,a,u),s=l}}}if(ih)throw t=Dg,ih=!1,Dg=null,t}function Qe(t,e){var n=e[qg];n===void 0&&(n=e[qg]=new Set);var r=t+"__bubble";n.has(r)||(sT(e,t,2,!1),n.add(r))}function ym(t,e,n){var r=0;e&&(r|=4),sT(n,t,r,e)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function fu(t){if(!t[Jc]){t[Jc]=!0,hx.forEach(function(n){n!=="selectionchange"&&(R$.has(n)||ym(n,!1,t),ym(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jc]||(e[Jc]=!0,ym("selectionchange",!1,e))}}function sT(t,e,n,r){switch(Vx(e)){case 1:var i=jM;break;case 4:i=WM;break;default:i=Uy}n=i.bind(null,e,n,t),i=void 0,!$g||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function _m(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ys(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}kx(function(){var u=s,c=$y(n),d=[];e:{var h=rT.get(t);if(h!==void 0){var f=zy,p=t;switch(t){case"keypress":if(Ad(n)===0)break e;case"keydown":case"keyup":f=s$;break;case"focusin":p="focus",f=hm;break;case"focusout":p="blur",f=hm;break;case"beforeblur":case"afterblur":f=hm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=M1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=KM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=l$;break;case Zx:case eT:case tT:f=YM;break;case nT:f=c$;break;case"scroll":f=HM;break;case"wheel":f=h$;break;case"copy":case"cut":case"paste":f=JM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=D1}var m=(e&4)!==0,E=!m&&t==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var v=u,y;v!==null;){y=v;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,g!==null&&(_=au(v,g),_!=null&&m.push(pu(v,_,y)))),E)break;v=v.return}0<m.length&&(h=new f(h,p,null,n,c),d.push({event:h,listeners:m}))}}if((e&7)===0){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Og&&(p=n.relatedTarget||n.fromElement)&&(ys(p)||p[ri]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?ys(p):null,p!==null&&(E=so(p),p!==E||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(m=M1,_="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=D1,_="onPointerLeave",g="onPointerEnter",v="pointer"),E=f==null?h:Po(f),y=p==null?h:Po(p),h=new m(_,v+"leave",f,n,c),h.target=E,h.relatedTarget=y,_=null,ys(c)===u&&(m=new m(g,v+"enter",p,n,c),m.target=y,m.relatedTarget=E,_=m),E=_,f&&p)t:{for(m=f,g=p,v=0,y=m;y;y=po(y))v++;for(y=0,_=g;_;_=po(_))y++;for(;0<v-y;)m=po(m),v--;for(;0<y-v;)g=po(g),y--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=po(m),g=po(g)}m=null}else m=null;f!==null&&K1(d,h,f,m,!1),p!==null&&E!==null&&K1(d,E,p,m,!0)}}e:{if(h=u?Po(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var C=_$;else if(U1(h))if(Gx)C=C$;else{C=E$;var x=w$}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=b$);if(C&&(C=C(t,u))){Kx(d,C,n,c);break e}x&&x(t,h,u),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&kg(h,"number",h.value)}switch(x=u?Po(u):window,t){case"focusin":(U1(x)||x.contentEditable==="true")&&(ko=x,Bg=u,Dl=null);break;case"focusout":Dl=Bg=ko=null;break;case"mousedown":zg=!0;break;case"contextmenu":case"mouseup":case"dragend":zg=!1,W1(d,n,c);break;case"selectionchange":if(T$)break;case"keydown":case"keyup":W1(d,n,c)}var S;if(jy)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Io?Hx(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Wx&&n.locale!=="ko"&&(Io||T!=="onCompositionStart"?T==="onCompositionEnd"&&Io&&(S=jx()):(Ri=c,By="value"in Ri?Ri.value:Ri.textContent,Io=!0)),x=uh(u,T),0<x.length&&(T=new $1(T,t,null,n,c),d.push({event:T,listeners:x}),S?T.data=S:(S=qx(n),S!==null&&(T.data=S)))),(S=p$?m$(t,n):g$(t,n))&&(u=uh(u,"onBeforeInput"),0<u.length&&(c=new $1("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=S))}iT(d,e)})}function pu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function uh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=au(t,n),s!=null&&r.unshift(pu(t,s,i)),s=au(t,e),s!=null&&r.push(pu(t,s,i))),t=t.return}return r}function po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function K1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=au(n,s),l!=null&&o.unshift(pu(n,l,a))):i||(l=au(n,s),l!=null&&o.push(pu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var P$=/\r\n?/g,N$=/\u0000|\uFFFD/g;function G1(t){return(typeof t=="string"?t:""+t).replace(P$,`
`).replace(N$,"")}function Zc(t,e,n){if(e=G1(e),G1(t)!==e&&n)throw Error(O(425))}function ch(){}var Vg=null,jg=null;function Wg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hg=typeof setTimeout=="function"?setTimeout:void 0,A$=typeof clearTimeout=="function"?clearTimeout:void 0,Q1=typeof Promise=="function"?Promise:void 0,O$=typeof queueMicrotask=="function"?queueMicrotask:typeof Q1<"u"?function(t){return Q1.resolve(null).then(t).catch(M$)}:Hg;function M$(t){setTimeout(function(){throw t})}function wm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),cu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);cu(e)}function Di(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Y1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ma=Math.random().toString(36).slice(2),kr="__reactFiber$"+Ma,mu="__reactProps$"+Ma,ri="__reactContainer$"+Ma,qg="__reactEvents$"+Ma,$$="__reactListeners$"+Ma,D$="__reactHandles$"+Ma;function ys(t){var e=t[kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ri]||n[kr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Y1(t);t!==null;){if(n=t[kr])return n;t=Y1(t)}return e}t=n,n=t.parentNode}return null}function oc(t){return t=t[kr]||t[ri],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Po(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function Ef(t){return t[mu]||null}var Kg=[],No=-1;function ts(t){return{current:t}}function Xe(t){0>No||(t.current=Kg[No],Kg[No]=null,No--)}function qe(t,e){No++,Kg[No]=t.current,t.current=e}var Hi={},rn=ts(Hi),kn=ts(!1),Ls=Hi;function ia(t,e){var n=t.type.contextTypes;if(!n)return Hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rn(t){return t=t.childContextTypes,t!=null}function dh(){Xe(kn),Xe(rn)}function X1(t,e,n){if(rn.current!==Hi)throw Error(O(168));qe(rn,e),qe(kn,n)}function oT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(O(108,wM(t)||"Unknown",i));return ot({},n,r)}function hh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hi,Ls=rn.current,qe(rn,t),qe(kn,kn.current),!0}function J1(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=oT(t,e,Ls),r.__reactInternalMemoizedMergedChildContext=t,Xe(kn),Xe(rn),qe(rn,t)):Xe(kn),qe(kn,n)}var Hr=null,bf=!1,Em=!1;function aT(t){Hr===null?Hr=[t]:Hr.push(t)}function L$(t){bf=!0,aT(t)}function ns(){if(!Em&&Hr!==null){Em=!0;var t=0,e=De;try{var n=Hr;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hr=null,bf=!1}catch(i){throw Hr!==null&&(Hr=Hr.slice(t+1)),Ax(Dy,ns),i}finally{De=e,Em=!1}}return null}var Ao=[],Oo=0,fh=null,ph=0,Yn=[],Xn=0,Fs=null,Kr=1,Gr="";function cs(t,e){Ao[Oo++]=ph,Ao[Oo++]=fh,fh=t,ph=e}function lT(t,e,n){Yn[Xn++]=Kr,Yn[Xn++]=Gr,Yn[Xn++]=Fs,Fs=t;var r=Kr;t=Gr;var i=32-wr(r)-1;r&=~(1<<i),n+=1;var s=32-wr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Kr=1<<32-wr(e)+i|n<<i|r,Gr=s+t}else Kr=1<<s|n<<i|r,Gr=t}function Hy(t){t.return!==null&&(cs(t,1),lT(t,1,0))}function qy(t){for(;t===fh;)fh=Ao[--Oo],Ao[Oo]=null,ph=Ao[--Oo],Ao[Oo]=null;for(;t===Fs;)Fs=Yn[--Xn],Yn[Xn]=null,Gr=Yn[--Xn],Yn[Xn]=null,Kr=Yn[--Xn],Yn[Xn]=null}var Fn=null,Ln=null,Ze=!1,mr=null;function uT(t,e){var n=Zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Z1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fn=t,Ln=Di(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fn=t,Ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fs!==null?{id:Kr,overflow:Gr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fn=t,Ln=null,!0):!1;default:return!1}}function Gg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qg(t){if(Ze){var e=Ln;if(e){var n=e;if(!Z1(t,e)){if(Gg(t))throw Error(O(418));e=Di(n.nextSibling);var r=Fn;e&&Z1(t,e)?uT(r,n):(t.flags=t.flags&-4097|2,Ze=!1,Fn=t)}}else{if(Gg(t))throw Error(O(418));t.flags=t.flags&-4097|2,Ze=!1,Fn=t}}}function eE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fn=t}function ed(t){if(t!==Fn)return!1;if(!Ze)return eE(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wg(t.type,t.memoizedProps)),e&&(e=Ln)){if(Gg(t))throw cT(),Error(O(418));for(;e;)uT(t,e),e=Di(e.nextSibling)}if(eE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ln=Di(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ln=null}}else Ln=Fn?Di(t.stateNode.nextSibling):null;return!0}function cT(){for(var t=Ln;t;)t=Di(t.nextSibling)}function sa(){Ln=Fn=null,Ze=!1}function Ky(t){mr===null?mr=[t]:mr.push(t)}var F$=hi.ReactCurrentBatchConfig;function fr(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var mh=ts(null),gh=null,Mo=null,Gy=null;function Qy(){Gy=Mo=gh=null}function Yy(t){var e=mh.current;Xe(mh),t._currentValue=e}function Yg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ho(t,e){gh=t,Gy=Mo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Cn=!0),t.firstContext=null)}function rr(t){var e=t._currentValue;if(Gy!==t)if(t={context:t,memoizedValue:e,next:null},Mo===null){if(gh===null)throw Error(O(308));Mo=t,gh.dependencies={lanes:0,firstContext:t}}else Mo=Mo.next=t;return e}var _s=null;function Xy(t){_s===null?_s=[t]:_s.push(t)}function dT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Xy(e)):(n.next=i.next,i.next=n),e.interleaved=n,ii(t,r)}function ii(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ci=!1;function Jy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Li(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(xe&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ii(t,n)}return i=r.interleaved,i===null?(e.next=e,Xy(r)):(e.next=i.next,i.next=e),r.interleaved=e,ii(t,n)}function Od(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ly(t,n)}}function tE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vh(t,e,n,r){var i=t.updateQueue;Ci=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(h=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=ot({},d,h);break e;case 2:Ci=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Bs|=o,t.lanes=o,t.memoizedState=d}}function nE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var fT=new dx.Component().refs;function Xg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cf={isMounted:function(t){return(t=t._reactInternals)?so(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=fn(),i=Ui(t),s=Zr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Li(t,s,i),e!==null&&(Er(e,t,i,r),Od(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=fn(),i=Ui(t),s=Zr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Li(t,s,i),e!==null&&(Er(e,t,i,r),Od(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fn(),r=Ui(t),i=Zr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Li(t,i,r),e!==null&&(Er(e,t,r,n),Od(e,t,r))}};function rE(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!hu(n,r)||!hu(i,s):!0}function pT(t,e,n){var r=!1,i=Hi,s=e.contextType;return typeof s=="object"&&s!==null?s=rr(s):(i=Rn(e)?Ls:rn.current,r=e.contextTypes,s=(r=r!=null)?ia(t,i):Hi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function iE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cf.enqueueReplaceState(e,e.state,null)}function Jg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=fT,Jy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=rr(s):(s=Rn(e)?Ls:rn.current,i.context=ia(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Xg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Cf.enqueueReplaceState(i,i.state,null),vh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ll(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===fT&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function td(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sE(t){var e=t._init;return e(t._payload)}function mT(t){function e(g,v){if(t){var y=g.deletions;y===null?(g.deletions=[v],g.flags|=16):y.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Bi(g,v),g.index=0,g.sibling=null,g}function s(g,v,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<v?(g.flags|=2,v):y):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,y,_){return v===null||v.tag!==6?(v=km(y,g.mode,_),v.return=g,v):(v=i(v,y),v.return=g,v)}function l(g,v,y,_){var C=y.type;return C===To?c(g,v,y.props.children,_,y.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===bi&&sE(C)===v.type)?(_=i(v,y.props),_.ref=ll(g,v,y),_.return=g,_):(_=Ud(y.type,y.key,y.props,null,g.mode,_),_.ref=ll(g,v,y),_.return=g,_)}function u(g,v,y,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=Rm(y,g.mode,_),v.return=g,v):(v=i(v,y.children||[]),v.return=g,v)}function c(g,v,y,_,C){return v===null||v.tag!==7?(v=Ps(y,g.mode,_,C),v.return=g,v):(v=i(v,y),v.return=g,v)}function d(g,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=km(""+v,g.mode,y),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Wc:return y=Ud(v.type,v.key,v.props,null,g.mode,y),y.ref=ll(g,null,v),y.return=g,y;case xo:return v=Rm(v,g.mode,y),v.return=g,v;case bi:var _=v._init;return d(g,_(v._payload),y)}if(Cl(v)||rl(v))return v=Ps(v,g.mode,y,null),v.return=g,v;td(g,v)}return null}function h(g,v,y,_){var C=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:a(g,v,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wc:return y.key===C?l(g,v,y,_):null;case xo:return y.key===C?u(g,v,y,_):null;case bi:return C=y._init,h(g,v,C(y._payload),_)}if(Cl(y)||rl(y))return C!==null?null:c(g,v,y,_,null);td(g,y)}return null}function f(g,v,y,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(y)||null,a(v,g,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Wc:return g=g.get(_.key===null?y:_.key)||null,l(v,g,_,C);case xo:return g=g.get(_.key===null?y:_.key)||null,u(v,g,_,C);case bi:var x=_._init;return f(g,v,y,x(_._payload),C)}if(Cl(_)||rl(_))return g=g.get(y)||null,c(v,g,_,C,null);td(v,_)}return null}function p(g,v,y,_){for(var C=null,x=null,S=v,T=v=0,N=null;S!==null&&T<y.length;T++){S.index>T?(N=S,S=null):N=S.sibling;var I=h(g,S,y[T],_);if(I===null){S===null&&(S=N);break}t&&S&&I.alternate===null&&e(g,S),v=s(I,v,T),x===null?C=I:x.sibling=I,x=I,S=N}if(T===y.length)return n(g,S),Ze&&cs(g,T),C;if(S===null){for(;T<y.length;T++)S=d(g,y[T],_),S!==null&&(v=s(S,v,T),x===null?C=S:x.sibling=S,x=S);return Ze&&cs(g,T),C}for(S=r(g,S);T<y.length;T++)N=f(S,g,T,y[T],_),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?T:N.key),v=s(N,v,T),x===null?C=N:x.sibling=N,x=N);return t&&S.forEach(function(M){return e(g,M)}),Ze&&cs(g,T),C}function m(g,v,y,_){var C=rl(y);if(typeof C!="function")throw Error(O(150));if(y=C.call(y),y==null)throw Error(O(151));for(var x=C=null,S=v,T=v=0,N=null,I=y.next();S!==null&&!I.done;T++,I=y.next()){S.index>T?(N=S,S=null):N=S.sibling;var M=h(g,S,I.value,_);if(M===null){S===null&&(S=N);break}t&&S&&M.alternate===null&&e(g,S),v=s(M,v,T),x===null?C=M:x.sibling=M,x=M,S=N}if(I.done)return n(g,S),Ze&&cs(g,T),C;if(S===null){for(;!I.done;T++,I=y.next())I=d(g,I.value,_),I!==null&&(v=s(I,v,T),x===null?C=I:x.sibling=I,x=I);return Ze&&cs(g,T),C}for(S=r(g,S);!I.done;T++,I=y.next())I=f(S,g,T,I.value,_),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?T:I.key),v=s(I,v,T),x===null?C=I:x.sibling=I,x=I);return t&&S.forEach(function(V){return e(g,V)}),Ze&&cs(g,T),C}function E(g,v,y,_){if(typeof y=="object"&&y!==null&&y.type===To&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Wc:e:{for(var C=y.key,x=v;x!==null;){if(x.key===C){if(C=y.type,C===To){if(x.tag===7){n(g,x.sibling),v=i(x,y.props.children),v.return=g,g=v;break e}}else if(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===bi&&sE(C)===x.type){n(g,x.sibling),v=i(x,y.props),v.ref=ll(g,x,y),v.return=g,g=v;break e}n(g,x);break}else e(g,x);x=x.sibling}y.type===To?(v=Ps(y.props.children,g.mode,_,y.key),v.return=g,g=v):(_=Ud(y.type,y.key,y.props,null,g.mode,_),_.ref=ll(g,v,y),_.return=g,g=_)}return o(g);case xo:e:{for(x=y.key;v!==null;){if(v.key===x)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(g,v.sibling),v=i(v,y.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=Rm(y,g.mode,_),v.return=g,g=v}return o(g);case bi:return x=y._init,E(g,v,x(y._payload),_)}if(Cl(y))return p(g,v,y,_);if(rl(y))return m(g,v,y,_);td(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,y),v.return=g,g=v):(n(g,v),v=km(y,g.mode,_),v.return=g,g=v),o(g)):n(g,v)}return E}var oa=mT(!0),gT=mT(!1),ac={},Pr=ts(ac),gu=ts(ac),vu=ts(ac);function ws(t){if(t===ac)throw Error(O(174));return t}function Zy(t,e){switch(qe(vu,e),qe(gu,t),qe(Pr,ac),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pg(e,t)}Xe(Pr),qe(Pr,e)}function aa(){Xe(Pr),Xe(gu),Xe(vu)}function vT(t){ws(vu.current);var e=ws(Pr.current),n=Pg(e,t.type);e!==n&&(qe(gu,t),qe(Pr,n))}function e0(t){gu.current===t&&(Xe(Pr),Xe(gu))}var it=ts(0);function yh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bm=[];function t0(){for(var t=0;t<bm.length;t++)bm[t]._workInProgressVersionPrimary=null;bm.length=0}var Md=hi.ReactCurrentDispatcher,Cm=hi.ReactCurrentBatchConfig,Us=0,st=null,vt=null,kt=null,_h=!1,Ll=!1,yu=0,U$=0;function Qt(){throw Error(O(321))}function n0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cr(t[n],e[n]))return!1;return!0}function r0(t,e,n,r,i,s){if(Us=s,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Md.current=t===null||t.memoizedState===null?j$:W$,t=n(r,i),Ll){s=0;do{if(Ll=!1,yu=0,25<=s)throw Error(O(301));s+=1,kt=vt=null,e.updateQueue=null,Md.current=H$,t=n(r,i)}while(Ll)}if(Md.current=wh,e=vt!==null&&vt.next!==null,Us=0,kt=vt=st=null,_h=!1,e)throw Error(O(300));return t}function i0(){var t=yu!==0;return yu=0,t}function xr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?st.memoizedState=kt=t:kt=kt.next=t,kt}function ir(){if(vt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=kt===null?st.memoizedState:kt.next;if(e!==null)kt=e,vt=t;else{if(t===null)throw Error(O(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},kt===null?st.memoizedState=kt=t:kt=kt.next=t}return kt}function _u(t,e){return typeof e=="function"?e(t):e}function Sm(t){var e=ir(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=vt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Us&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,st.lanes|=c,Bs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Cr(r,e.memoizedState)||(Cn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,st.lanes|=s,Bs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xm(t){var e=ir(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Cr(s,e.memoizedState)||(Cn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function yT(){}function _T(t,e){var n=st,r=ir(),i=e(),s=!Cr(r.memoizedState,i);if(s&&(r.memoizedState=i,Cn=!0),r=r.queue,s0(bT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,wu(9,ET.bind(null,n,r,i,e),void 0,null),Nt===null)throw Error(O(349));(Us&30)!==0||wT(n,e,i)}return i}function wT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ET(t,e,n,r){e.value=n,e.getSnapshot=r,CT(e)&&ST(t)}function bT(t,e,n){return n(function(){CT(e)&&ST(t)})}function CT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cr(t,n)}catch{return!0}}function ST(t){var e=ii(t,1);e!==null&&Er(e,t,1,-1)}function oE(t){var e=xr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_u,lastRenderedState:t},e.queue=t,t=t.dispatch=V$.bind(null,st,t),[e.memoizedState,t]}function wu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function xT(){return ir().memoizedState}function $d(t,e,n,r){var i=xr();st.flags|=t,i.memoizedState=wu(1|e,n,void 0,r===void 0?null:r)}function Sf(t,e,n,r){var i=ir();r=r===void 0?null:r;var s=void 0;if(vt!==null){var o=vt.memoizedState;if(s=o.destroy,r!==null&&n0(r,o.deps)){i.memoizedState=wu(e,n,s,r);return}}st.flags|=t,i.memoizedState=wu(1|e,n,s,r)}function aE(t,e){return $d(8390656,8,t,e)}function s0(t,e){return Sf(2048,8,t,e)}function TT(t,e){return Sf(4,2,t,e)}function IT(t,e){return Sf(4,4,t,e)}function kT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function RT(t,e,n){return n=n!=null?n.concat([t]):null,Sf(4,4,kT.bind(null,e,t),n)}function o0(){}function PT(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&n0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function NT(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&n0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function AT(t,e,n){return(Us&21)===0?(t.baseState&&(t.baseState=!1,Cn=!0),t.memoizedState=n):(Cr(n,e)||(n=$x(),st.lanes|=n,Bs|=n,t.baseState=!0),e)}function B$(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=Cm.transition;Cm.transition={};try{t(!1),e()}finally{De=n,Cm.transition=r}}function OT(){return ir().memoizedState}function z$(t,e,n){var r=Ui(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},MT(t))$T(e,n);else if(n=dT(t,e,n,r),n!==null){var i=fn();Er(n,t,r,i),DT(n,e,r)}}function V$(t,e,n){var r=Ui(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(MT(t))$T(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Cr(a,o)){var l=e.interleaved;l===null?(i.next=i,Xy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=dT(t,e,i,r),n!==null&&(i=fn(),Er(n,t,r,i),DT(n,e,r))}}function MT(t){var e=t.alternate;return t===st||e!==null&&e===st}function $T(t,e){Ll=_h=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function DT(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ly(t,n)}}var wh={readContext:rr,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},j$={readContext:rr,useCallback:function(t,e){return xr().memoizedState=[t,e===void 0?null:e],t},useContext:rr,useEffect:aE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$d(4194308,4,kT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $d(4194308,4,t,e)},useInsertionEffect:function(t,e){return $d(4,2,t,e)},useMemo:function(t,e){var n=xr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=z$.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=xr();return t={current:t},e.memoizedState=t},useState:oE,useDebugValue:o0,useDeferredValue:function(t){return xr().memoizedState=t},useTransition:function(){var t=oE(!1),e=t[0];return t=B$.bind(null,t[1]),xr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,i=xr();if(Ze){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),Nt===null)throw Error(O(349));(Us&30)!==0||wT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,aE(bT.bind(null,r,s,t),[t]),r.flags|=2048,wu(9,ET.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=xr(),e=Nt.identifierPrefix;if(Ze){var n=Gr,r=Kr;n=(r&~(1<<32-wr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=yu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=U$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},W$={readContext:rr,useCallback:PT,useContext:rr,useEffect:s0,useImperativeHandle:RT,useInsertionEffect:TT,useLayoutEffect:IT,useMemo:NT,useReducer:Sm,useRef:xT,useState:function(){return Sm(_u)},useDebugValue:o0,useDeferredValue:function(t){var e=ir();return AT(e,vt.memoizedState,t)},useTransition:function(){var t=Sm(_u)[0],e=ir().memoizedState;return[t,e]},useMutableSource:yT,useSyncExternalStore:_T,useId:OT,unstable_isNewReconciler:!1},H$={readContext:rr,useCallback:PT,useContext:rr,useEffect:s0,useImperativeHandle:RT,useInsertionEffect:TT,useLayoutEffect:IT,useMemo:NT,useReducer:xm,useRef:xT,useState:function(){return xm(_u)},useDebugValue:o0,useDeferredValue:function(t){var e=ir();return vt===null?e.memoizedState=t:AT(e,vt.memoizedState,t)},useTransition:function(){var t=xm(_u)[0],e=ir().memoizedState;return[t,e]},useMutableSource:yT,useSyncExternalStore:_T,useId:OT,unstable_isNewReconciler:!1};function la(t,e){try{var n="",r=e;do n+=_M(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Tm(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function Zg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var q$=typeof WeakMap=="function"?WeakMap:Map;function LT(t,e,n){n=Zr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bh||(bh=!0,uv=r),Zg(t,e)},n}function FT(t,e,n){n=Zr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Zg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Zg(t,e),typeof r!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function lE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new q$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=oD.bind(null,t,e,n),e.then(t,t))}function uE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cE(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zr(-1,1),e.tag=2,Li(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var K$=hi.ReactCurrentOwner,Cn=!1;function un(t,e,n,r){e.child=t===null?gT(e,null,n,r):oa(e,t.child,n,r)}function dE(t,e,n,r,i){n=n.render;var s=e.ref;return Ho(e,i),r=r0(t,e,n,r,s,i),n=i0(),t!==null&&!Cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,si(t,e,i)):(Ze&&n&&Hy(e),e.flags|=1,un(t,e,r,i),e.child)}function hE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!p0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,UT(t,e,s,r,i)):(t=Ud(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,(t.lanes&i)===0){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:hu,n(o,r)&&t.ref===e.ref)return si(t,e,i)}return e.flags|=1,t=Bi(s,r),t.ref=e.ref,t.return=e,e.child=t}function UT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(hu(s,r)&&t.ref===e.ref)if(Cn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)(t.flags&131072)!==0&&(Cn=!0);else return e.lanes=t.lanes,si(t,e,i)}return ev(t,e,n,r,i)}function BT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Do,Dn),Dn|=n;else{if((n&1073741824)===0)return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(Do,Dn),Dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,qe(Do,Dn),Dn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,qe(Do,Dn),Dn|=r;return un(t,e,i,n),e.child}function zT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ev(t,e,n,r,i){var s=Rn(n)?Ls:rn.current;return s=ia(e,s),Ho(e,i),n=r0(t,e,n,r,s,i),r=i0(),t!==null&&!Cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,si(t,e,i)):(Ze&&r&&Hy(e),e.flags|=1,un(t,e,n,i),e.child)}function fE(t,e,n,r,i){if(Rn(n)){var s=!0;hh(e)}else s=!1;if(Ho(e,i),e.stateNode===null)Dd(t,e),pT(e,n,r),Jg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=rr(u):(u=Rn(n)?Ls:rn.current,u=ia(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&iE(e,o,r,u),Ci=!1;var h=e.memoizedState;o.state=h,vh(e,r,o,i),l=e.memoizedState,a!==r||h!==l||kn.current||Ci?(typeof c=="function"&&(Xg(e,n,c,r),l=e.memoizedState),(a=Ci||rE(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,hT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:fr(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=rr(l):(l=Rn(n)?Ls:rn.current,l=ia(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&iE(e,o,r,l),Ci=!1,h=e.memoizedState,o.state=h,vh(e,r,o,i);var p=e.memoizedState;a!==d||h!==p||kn.current||Ci?(typeof f=="function"&&(Xg(e,n,f,r),p=e.memoizedState),(u=Ci||rE(e,n,u,r,h,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return tv(t,e,n,r,s,i)}function tv(t,e,n,r,i,s){zT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&J1(e,n,!1),si(t,e,s);r=e.stateNode,K$.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=oa(e,t.child,null,s),e.child=oa(e,null,a,s)):un(t,e,a,s),e.memoizedState=r.state,i&&J1(e,n,!0),e.child}function VT(t){var e=t.stateNode;e.pendingContext?X1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&X1(t,e.context,!1),Zy(t,e.containerInfo)}function pE(t,e,n,r,i){return sa(),Ky(i),e.flags|=256,un(t,e,n,r),e.child}var nv={dehydrated:null,treeContext:null,retryLane:0};function rv(t){return{baseLanes:t,cachePool:null,transitions:null}}function jT(t,e,n){var r=e.pendingProps,i=it.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qe(it,i&1),t===null)return Qg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=If(o,r,0,null),t=Ps(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=rv(n),e.memoizedState=nv,t):a0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return G$(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return(o&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Bi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Bi(a,s):(s=Ps(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?rv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=nv,r}return s=t.child,t=s.sibling,r=Bi(s,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function a0(t,e){return e=If({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nd(t,e,n,r){return r!==null&&Ky(r),oa(e,t.child,null,n),t=a0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function G$(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Tm(Error(O(422))),nd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=If({mode:"visible",children:r.children},i,0,null),s=Ps(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&oa(e,t.child,null,o),e.child.memoizedState=rv(o),e.memoizedState=nv,s);if((e.mode&1)===0)return nd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(O(419)),r=Tm(s,r,void 0),nd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Cn||a){if(r=Nt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|o))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ii(t,i),Er(r,t,i,-1))}return f0(),r=Tm(Error(O(421))),nd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=aD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ln=Di(i.nextSibling),Fn=e,Ze=!0,mr=null,t!==null&&(Yn[Xn++]=Kr,Yn[Xn++]=Gr,Yn[Xn++]=Fs,Kr=t.id,Gr=t.overflow,Fs=e),e=a0(e,r.children),e.flags|=4096,e)}function mE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Yg(t.return,e,n)}function Im(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function WT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(un(t,e,r.children,n),r=it.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mE(t,n,e);else if(t.tag===19)mE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(it,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&yh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Im(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&yh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Im(e,!0,n,null,s);break;case"together":Im(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dd(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function si(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bs|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=Bi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Q$(t,e,n){switch(e.tag){case 3:VT(e),sa();break;case 5:vT(e);break;case 1:Rn(e.type)&&hh(e);break;case 4:Zy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qe(mh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(it,it.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?jT(t,e,n):(qe(it,it.current&1),t=si(t,e,n),t!==null?t.sibling:null);qe(it,it.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return WT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(it,it.current),r)break;return null;case 22:case 23:return e.lanes=0,BT(t,e,n)}return si(t,e,n)}var HT,iv,qT,KT;HT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};iv=function(){};qT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ws(Pr.current);var s=null;switch(n){case"input":i=Tg(t,i),r=Tg(t,r),s=[];break;case"select":i=ot({},i,{value:void 0}),r=ot({},r,{value:void 0}),s=[];break;case"textarea":i=Rg(t,i),r=Rg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ch)}Ng(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(su.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(su.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Qe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};KT=function(t,e,n,r){n!==r&&(e.flags|=4)};function ul(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Y$(t,e,n){var r=e.pendingProps;switch(qy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return Rn(e.type)&&dh(),Yt(e),null;case 3:return r=e.stateNode,aa(),Xe(kn),Xe(rn),t0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ed(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,mr!==null&&(hv(mr),mr=null))),iv(t,e),Yt(e),null;case 5:e0(e);var i=ws(vu.current);if(n=e.type,t!==null&&e.stateNode!=null)qT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return Yt(e),null}if(t=ws(Pr.current),ed(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[kr]=e,r[mu]=s,t=(e.mode&1)!==0,n){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(i=0;i<xl.length;i++)Qe(xl[i],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":S1(r,s),Qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Qe("invalid",r);break;case"textarea":T1(r,s),Qe("invalid",r)}Ng(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Zc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Zc(r.textContent,a,t),i=["children",""+a]):su.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Qe("scroll",r)}switch(n){case"input":Hc(r),x1(r,s,!0);break;case"textarea":Hc(r),I1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ch)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[kr]=e,t[mu]=r,HT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ag(n,r),n){case"dialog":Qe("cancel",t),Qe("close",t),i=r;break;case"iframe":case"object":case"embed":Qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<xl.length;i++)Qe(xl[i],t);i=r;break;case"source":Qe("error",t),i=r;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),i=r;break;case"details":Qe("toggle",t),i=r;break;case"input":S1(t,r),i=Tg(t,r),Qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ot({},r,{value:void 0}),Qe("invalid",t);break;case"textarea":T1(t,r),i=Rg(t,r),Qe("invalid",t);break;default:i=r}Ng(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Cx(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ex(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ou(t,l):typeof l=="number"&&ou(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(su.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Qe("scroll",t):l!=null&&Ny(t,s,l,o))}switch(n){case"input":Hc(t),x1(t,r,!1);break;case"textarea":Hc(t),I1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Wi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?zo(t,!!r.multiple,s,!1):r.defaultValue!=null&&zo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ch)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yt(e),null;case 6:if(t&&e.stateNode!=null)KT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=ws(vu.current),ws(Pr.current),ed(e)){if(r=e.stateNode,n=e.memoizedProps,r[kr]=e,(s=r.nodeValue!==n)&&(t=Fn,t!==null))switch(t.tag){case 3:Zc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kr]=e,e.stateNode=r}return Yt(e),null;case 13:if(Xe(it),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&Ln!==null&&(e.mode&1)!==0&&(e.flags&128)===0)cT(),sa(),e.flags|=98560,s=!1;else if(s=ed(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(O(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[kr]=e}else sa(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Yt(e),s=!1}else mr!==null&&(hv(mr),mr=null),s=!0;if(!s)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(it.current&1)!==0?_t===0&&(_t=3):f0())),e.updateQueue!==null&&(e.flags|=4),Yt(e),null);case 4:return aa(),iv(t,e),t===null&&fu(e.stateNode.containerInfo),Yt(e),null;case 10:return Yy(e.type._context),Yt(e),null;case 17:return Rn(e.type)&&dh(),Yt(e),null;case 19:if(Xe(it),s=e.memoizedState,s===null)return Yt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ul(s,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=yh(t),o!==null){for(e.flags|=128,ul(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(it,it.current&1|2),e.child}t=t.sibling}s.tail!==null&&ut()>ua&&(e.flags|=128,r=!0,ul(s,!1),e.lanes=4194304)}else{if(!r)if(t=yh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ul(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ze)return Yt(e),null}else 2*ut()-s.renderingStartTime>ua&&n!==1073741824&&(e.flags|=128,r=!0,ul(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ut(),e.sibling=null,n=it.current,qe(it,r?n&1|2:n&1),e):(Yt(e),null);case 22:case 23:return h0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(Dn&1073741824)!==0&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function X$(t,e){switch(qy(e),e.tag){case 1:return Rn(e.type)&&dh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return aa(),Xe(kn),Xe(rn),t0(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return e0(e),null;case 13:if(Xe(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));sa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(it),null;case 4:return aa(),null;case 10:return Yy(e.type._context),null;case 22:case 23:return h0(),null;case 24:return null;default:return null}}var rd=!1,Jt=!1,J$=typeof WeakSet=="function"?WeakSet:Set,j=null;function $o(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function sv(t,e,n){try{n()}catch(r){at(t,e,r)}}var gE=!1;function Z$(t,e){if(Vg=ah,t=Xx(),Wy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jg={focusedElem:t,selectionRange:n},ah=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var p=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,E=p.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:fr(e.type,m),E);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(_){at(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return p=gE,gE=!1,p}function Fl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&sv(e,n,s)}i=i.next}while(i!==r)}}function xf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ov(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function GT(t){var e=t.alternate;e!==null&&(t.alternate=null,GT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kr],delete e[mu],delete e[qg],delete e[$$],delete e[D$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function QT(t){return t.tag===5||t.tag===3||t.tag===4}function vE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||QT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function av(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ch));else if(r!==4&&(t=t.child,t!==null))for(av(t,e,n),t=t.sibling;t!==null;)av(t,e,n),t=t.sibling}function lv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(lv(t,e,n),t=t.sibling;t!==null;)lv(t,e,n),t=t.sibling}var Ft=null,pr=!1;function yi(t,e,n){for(n=n.child;n!==null;)YT(t,e,n),n=n.sibling}function YT(t,e,n){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(vf,n)}catch{}switch(n.tag){case 5:Jt||$o(n,e);case 6:var r=Ft,i=pr;Ft=null,yi(t,e,n),Ft=r,pr=i,Ft!==null&&(pr?(t=Ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ft.removeChild(n.stateNode));break;case 18:Ft!==null&&(pr?(t=Ft,n=n.stateNode,t.nodeType===8?wm(t.parentNode,n):t.nodeType===1&&wm(t,n),cu(t)):wm(Ft,n.stateNode));break;case 4:r=Ft,i=pr,Ft=n.stateNode.containerInfo,pr=!0,yi(t,e,n),Ft=r,pr=i;break;case 0:case 11:case 14:case 15:if(!Jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&sv(n,e,o),i=i.next}while(i!==r)}yi(t,e,n);break;case 1:if(!Jt&&($o(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,e,a)}yi(t,e,n);break;case 21:yi(t,e,n);break;case 22:n.mode&1?(Jt=(r=Jt)||n.memoizedState!==null,yi(t,e,n),Jt=r):yi(t,e,n);break;default:yi(t,e,n)}}function yE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new J$),e.forEach(function(r){var i=lD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function hr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ft=a.stateNode,pr=!1;break e;case 3:Ft=a.stateNode.containerInfo,pr=!0;break e;case 4:Ft=a.stateNode.containerInfo,pr=!0;break e}a=a.return}if(Ft===null)throw Error(O(160));YT(s,o,i),Ft=null,pr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){at(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)XT(e,t),e=e.sibling}function XT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hr(e,t),Sr(t),r&4){try{Fl(3,t,t.return),xf(3,t)}catch(m){at(t,t.return,m)}try{Fl(5,t,t.return)}catch(m){at(t,t.return,m)}}break;case 1:hr(e,t),Sr(t),r&512&&n!==null&&$o(n,n.return);break;case 5:if(hr(e,t),Sr(t),r&512&&n!==null&&$o(n,n.return),t.flags&32){var i=t.stateNode;try{ou(i,"")}catch(m){at(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&yx(i,s),Ag(a,o);var u=Ag(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Cx(i,d):c==="dangerouslySetInnerHTML"?Ex(i,d):c==="children"?ou(i,d):Ny(i,c,d,u)}switch(a){case"input":Ig(i,s);break;case"textarea":_x(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?zo(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?zo(i,!!s.multiple,s.defaultValue,!0):zo(i,!!s.multiple,s.multiple?[]:"",!1))}i[mu]=s}catch(m){at(t,t.return,m)}}break;case 6:if(hr(e,t),Sr(t),r&4){if(t.stateNode===null)throw Error(O(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){at(t,t.return,m)}}break;case 3:if(hr(e,t),Sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cu(e.containerInfo)}catch(m){at(t,t.return,m)}break;case 4:hr(e,t),Sr(t);break;case 13:hr(e,t),Sr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(c0=ut())),r&4&&yE(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Jt=(u=Jt)||c,hr(e,t),Jt=u):hr(e,t),Sr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&(t.mode&1)!==0)for(j=t,c=t.child;c!==null;){for(d=j=c;j!==null;){switch(h=j,f=h.child,h.tag){case 0:case 11:case 14:case 15:Fl(4,h,h.return);break;case 1:$o(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){at(r,n,m)}}break;case 5:$o(h,h.return);break;case 22:if(h.memoizedState!==null){wE(d);continue}}f!==null?(f.return=h,j=f):wE(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=bx("display",o))}catch(m){at(t,t.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){at(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:hr(e,t),Sr(t),r&4&&yE(t);break;case 21:break;default:hr(e,t),Sr(t)}}function Sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(QT(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ou(i,""),r.flags&=-33);var s=vE(t);lv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=vE(t);av(t,a,o);break;default:throw Error(O(161))}}catch(l){at(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eD(t,e,n){j=t,JT(t)}function JT(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var i=j,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||rd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Jt;a=rd;var u=Jt;if(rd=o,(Jt=l)&&!u)for(j=i;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?EE(i):l!==null?(l.return=o,j=l):EE(i);for(;s!==null;)j=s,JT(s),s=s.sibling;j=i,rd=a,Jt=u}_E(t)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,j=s):_E(t)}}function _E(t){for(;j!==null;){var e=j;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Jt||xf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:fr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&nE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}nE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&cu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Jt||e.flags&512&&ov(e)}catch(h){at(e,e.return,h)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function wE(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function EE(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xf(4,e)}catch(l){at(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){at(e,i,l)}}var s=e.return;try{ov(e)}catch(l){at(e,s,l)}break;case 5:var o=e.return;try{ov(e)}catch(l){at(e,o,l)}}}catch(l){at(e,e.return,l)}if(e===t){j=null;break}var a=e.sibling;if(a!==null){a.return=e.return,j=a;break}j=e.return}}var tD=Math.ceil,Eh=hi.ReactCurrentDispatcher,l0=hi.ReactCurrentOwner,er=hi.ReactCurrentBatchConfig,xe=0,Nt=null,ft=null,zt=0,Dn=0,Do=ts(0),_t=0,Eu=null,Bs=0,Tf=0,u0=0,Ul=null,En=null,c0=0,ua=1/0,Wr=null,bh=!1,uv=null,Fi=null,id=!1,Pi=null,Ch=0,Bl=0,cv=null,Ld=-1,Fd=0;function fn(){return(xe&6)!==0?ut():Ld!==-1?Ld:Ld=ut()}function Ui(t){return(t.mode&1)===0?1:(xe&2)!==0&&zt!==0?zt&-zt:F$.transition!==null?(Fd===0&&(Fd=$x()),Fd):(t=De,t!==0||(t=window.event,t=t===void 0?16:Vx(t.type)),t)}function Er(t,e,n,r){if(50<Bl)throw Bl=0,cv=null,Error(O(185));ic(t,n,r),((xe&2)===0||t!==Nt)&&(t===Nt&&((xe&2)===0&&(Tf|=n),_t===4&&xi(t,zt)),Pn(t,r),n===1&&xe===0&&(e.mode&1)===0&&(ua=ut()+500,bf&&ns()))}function Pn(t,e){var n=t.callbackNode;FM(t,e);var r=oh(t,t===Nt?zt:0);if(r===0)n!==null&&P1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&P1(n),e===1)t.tag===0?L$(bE.bind(null,t)):aT(bE.bind(null,t)),O$(function(){(xe&6)===0&&ns()}),n=null;else{switch(Dx(r)){case 1:n=Dy;break;case 4:n=Ox;break;case 16:n=sh;break;case 536870912:n=Mx;break;default:n=sh}n=oI(n,ZT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ZT(t,e){if(Ld=-1,Fd=0,(xe&6)!==0)throw Error(O(327));var n=t.callbackNode;if(qo()&&t.callbackNode!==n)return null;var r=oh(t,t===Nt?zt:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=Sh(t,r);else{e=r;var i=xe;xe|=2;var s=tI();(Nt!==t||zt!==e)&&(Wr=null,ua=ut()+500,Rs(t,e));do try{iD();break}catch(a){eI(t,a)}while(1);Qy(),Eh.current=s,xe=i,ft!==null?e=0:(Nt=null,zt=0,e=_t)}if(e!==0){if(e===2&&(i=Lg(t),i!==0&&(r=i,e=dv(t,i))),e===1)throw n=Eu,Rs(t,0),xi(t,r),Pn(t,ut()),n;if(e===6)xi(t,r);else{if(i=t.current.alternate,(r&30)===0&&!nD(i)&&(e=Sh(t,r),e===2&&(s=Lg(t),s!==0&&(r=s,e=dv(t,s))),e===1))throw n=Eu,Rs(t,0),xi(t,r),Pn(t,ut()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:ds(t,En,Wr);break;case 3:if(xi(t,r),(r&130023424)===r&&(e=c0+500-ut(),10<e)){if(oh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){fn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hg(ds.bind(null,t,En,Wr),e);break}ds(t,En,Wr);break;case 4:if(xi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-wr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tD(r/1960))-r,10<r){t.timeoutHandle=Hg(ds.bind(null,t,En,Wr),r);break}ds(t,En,Wr);break;case 5:ds(t,En,Wr);break;default:throw Error(O(329))}}}return Pn(t,ut()),t.callbackNode===n?ZT.bind(null,t):null}function dv(t,e){var n=Ul;return t.current.memoizedState.isDehydrated&&(Rs(t,e).flags|=256),t=Sh(t,e),t!==2&&(e=En,En=n,e!==null&&hv(e)),t}function hv(t){En===null?En=t:En.push.apply(En,t)}function nD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Cr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xi(t,e){for(e&=~u0,e&=~Tf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wr(e),r=1<<n;t[n]=-1,e&=~r}}function bE(t){if((xe&6)!==0)throw Error(O(327));qo();var e=oh(t,0);if((e&1)===0)return Pn(t,ut()),null;var n=Sh(t,e);if(t.tag!==0&&n===2){var r=Lg(t);r!==0&&(e=r,n=dv(t,r))}if(n===1)throw n=Eu,Rs(t,0),xi(t,e),Pn(t,ut()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ds(t,En,Wr),Pn(t,ut()),null}function d0(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(ua=ut()+500,bf&&ns())}}function zs(t){Pi!==null&&Pi.tag===0&&(xe&6)===0&&qo();var e=xe;xe|=1;var n=er.transition,r=De;try{if(er.transition=null,De=1,t)return t()}finally{De=r,er.transition=n,xe=e,(xe&6)===0&&ns()}}function h0(){Dn=Do.current,Xe(Do)}function Rs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,A$(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(qy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dh();break;case 3:aa(),Xe(kn),Xe(rn),t0();break;case 5:e0(r);break;case 4:aa();break;case 13:Xe(it);break;case 19:Xe(it);break;case 10:Yy(r.type._context);break;case 22:case 23:h0()}n=n.return}if(Nt=t,ft=t=Bi(t.current,null),zt=Dn=e,_t=0,Eu=null,u0=Tf=Bs=0,En=Ul=null,_s!==null){for(e=0;e<_s.length;e++)if(n=_s[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}_s=null}return t}function eI(t,e){do{var n=ft;try{if(Qy(),Md.current=wh,_h){for(var r=st.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_h=!1}if(Us=0,kt=vt=st=null,Ll=!1,yu=0,l0.current=null,n===null||n.return===null){_t=1,Eu=e,ft=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=zt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if((c.mode&1)===0&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=uE(o);if(f!==null){f.flags&=-257,cE(f,o,a,s,e),f.mode&1&&lE(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if((e&1)===0){lE(s,u,e),f0();break e}l=Error(O(426))}}else if(Ze&&a.mode&1){var E=uE(o);if(E!==null){(E.flags&65536)===0&&(E.flags|=256),cE(E,o,a,s,e),Ky(la(l,a));break e}}s=l=la(l,a),_t!==4&&(_t=2),Ul===null?Ul=[s]:Ul.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=LT(s,l,e);tE(s,g);break e;case 1:a=l;var v=s.type,y=s.stateNode;if((s.flags&128)===0&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Fi===null||!Fi.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=FT(s,a,e);tE(s,_);break e}}s=s.return}while(s!==null)}rI(n)}catch(C){e=C,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(1)}function tI(){var t=Eh.current;return Eh.current=wh,t===null?wh:t}function f0(){(_t===0||_t===3||_t===2)&&(_t=4),Nt===null||(Bs&268435455)===0&&(Tf&268435455)===0||xi(Nt,zt)}function Sh(t,e){var n=xe;xe|=2;var r=tI();(Nt!==t||zt!==e)&&(Wr=null,Rs(t,e));do try{rD();break}catch(i){eI(t,i)}while(1);if(Qy(),xe=n,Eh.current=r,ft!==null)throw Error(O(261));return Nt=null,zt=0,_t}function rD(){for(;ft!==null;)nI(ft)}function iD(){for(;ft!==null&&!RM();)nI(ft)}function nI(t){var e=sI(t.alternate,t,Dn);t.memoizedProps=t.pendingProps,e===null?rI(t):ft=e,l0.current=null}function rI(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=Y$(n,e,Dn),n!==null){ft=n;return}}else{if(n=X$(n,e),n!==null){n.flags&=32767,ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,ft=null;return}}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);_t===0&&(_t=5)}function ds(t,e,n){var r=De,i=er.transition;try{er.transition=null,De=1,sD(t,e,n,r)}finally{er.transition=i,De=r}return null}function sD(t,e,n,r){do qo();while(Pi!==null);if((xe&6)!==0)throw Error(O(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(UM(t,s),t===Nt&&(ft=Nt=null,zt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||id||(id=!0,oI(sh,function(){return qo(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=er.transition,er.transition=null;var o=De;De=1;var a=xe;xe|=4,l0.current=null,Z$(t,n),XT(n,t),x$(jg),ah=!!Vg,jg=Vg=null,t.current=n,eD(n),PM(),xe=a,De=o,er.transition=s}else t.current=n;if(id&&(id=!1,Pi=t,Ch=i),s=t.pendingLanes,s===0&&(Fi=null),OM(n.stateNode),Pn(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bh)throw bh=!1,t=uv,uv=null,t;return(Ch&1)!==0&&t.tag!==0&&qo(),s=t.pendingLanes,(s&1)!==0?t===cv?Bl++:(Bl=0,cv=t):Bl=0,ns(),null}function qo(){if(Pi!==null){var t=Dx(Ch),e=er.transition,n=De;try{if(er.transition=null,De=16>t?16:t,Pi===null)var r=!1;else{if(t=Pi,Pi=null,Ch=0,(xe&6)!==0)throw Error(O(331));var i=xe;for(xe|=4,j=t.current;j!==null;){var s=j,o=s.child;if((j.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:Fl(8,c,s)}var d=c.child;if(d!==null)d.return=c,j=d;else for(;j!==null;){c=j;var h=c.sibling,f=c.return;if(GT(c),c===u){j=null;break}if(h!==null){h.return=f,j=h;break}j=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var E=m.sibling;m.sibling=null,m=E}while(m!==null)}}j=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,j=o;else e:for(;j!==null;){if(s=j,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Fl(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,j=g;break e}j=s.return}}var v=t.current;for(j=v;j!==null;){o=j;var y=o.child;if((o.subtreeFlags&2064)!==0&&y!==null)y.return=o,j=y;else e:for(o=v;j!==null;){if(a=j,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:xf(9,a)}}catch(C){at(a,a.return,C)}if(a===o){j=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,j=_;break e}j=a.return}}if(xe=i,ns(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(vf,t)}catch{}r=!0}return r}finally{De=n,er.transition=e}}return!1}function CE(t,e,n){e=la(n,e),e=LT(t,e,1),t=Li(t,e,1),e=fn(),t!==null&&(ic(t,1,e),Pn(t,e))}function at(t,e,n){if(t.tag===3)CE(t,t,n);else for(;e!==null;){if(e.tag===3){CE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fi===null||!Fi.has(r))){t=la(n,t),t=FT(e,t,1),e=Li(e,t,1),t=fn(),e!==null&&(ic(e,1,t),Pn(e,t));break}}e=e.return}}function oD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=fn(),t.pingedLanes|=t.suspendedLanes&n,Nt===t&&(zt&n)===n&&(_t===4||_t===3&&(zt&130023424)===zt&&500>ut()-c0?Rs(t,0):u0|=n),Pn(t,e)}function iI(t,e){e===0&&((t.mode&1)===0?e=1:(e=Gc,Gc<<=1,(Gc&130023424)===0&&(Gc=4194304)));var n=fn();t=ii(t,e),t!==null&&(ic(t,e,n),Pn(t,n))}function aD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),iI(t,n)}function lD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),iI(t,n)}var sI;sI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kn.current)Cn=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return Cn=!1,Q$(t,e,n);Cn=(t.flags&131072)!==0}else Cn=!1,Ze&&(e.flags&1048576)!==0&&lT(e,ph,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dd(t,e),t=e.pendingProps;var i=ia(e,rn.current);Ho(e,n),i=r0(null,e,r,t,i,n);var s=i0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rn(r)?(s=!0,hh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Jy(e),i.updater=Cf,e.stateNode=i,i._reactInternals=e,Jg(e,r,t,n),e=tv(null,e,r,!0,s,n)):(e.tag=0,Ze&&s&&Hy(e),un(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=cD(r),t=fr(r,t),i){case 0:e=ev(null,e,r,t,n);break e;case 1:e=fE(null,e,r,t,n);break e;case 11:e=dE(null,e,r,t,n);break e;case 14:e=hE(null,e,r,fr(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),ev(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),fE(t,e,r,i,n);case 3:e:{if(VT(e),t===null)throw Error(O(387));r=e.pendingProps,s=e.memoizedState,i=s.element,hT(t,e),vh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=la(Error(O(423)),e),e=pE(t,e,r,n,i);break e}else if(r!==i){i=la(Error(O(424)),e),e=pE(t,e,r,n,i);break e}else for(Ln=Di(e.stateNode.containerInfo.firstChild),Fn=e,Ze=!0,mr=null,n=gT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sa(),r===i){e=si(t,e,n);break e}un(t,e,r,n)}e=e.child}return e;case 5:return vT(e),t===null&&Qg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Wg(r,i)?o=null:s!==null&&Wg(r,s)&&(e.flags|=32),zT(t,e),un(t,e,o,n),e.child;case 6:return t===null&&Qg(e),null;case 13:return jT(t,e,n);case 4:return Zy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=oa(e,null,r,n):un(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),dE(t,e,r,i,n);case 7:return un(t,e,e.pendingProps,n),e.child;case 8:return un(t,e,e.pendingProps.children,n),e.child;case 12:return un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,qe(mh,r._currentValue),r._currentValue=o,s!==null)if(Cr(s.value,o)){if(s.children===i.children&&!kn.current){e=si(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Zr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Yg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(O(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Yg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}un(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ho(e,n),i=rr(i),r=r(i),e.flags|=1,un(t,e,r,n),e.child;case 14:return r=e.type,i=fr(r,e.pendingProps),i=fr(r.type,i),hE(t,e,r,i,n);case 15:return UT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),Dd(t,e),e.tag=1,Rn(r)?(t=!0,hh(e)):t=!1,Ho(e,n),pT(e,r,i),Jg(e,r,i,n),tv(null,e,r,!0,t,n);case 19:return WT(t,e,n);case 22:return BT(t,e,n)}throw Error(O(156,e.tag))};function oI(t,e){return Ax(t,e)}function uD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,e,n,r){return new uD(t,e,n,r)}function p0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cD(t){if(typeof t=="function")return p0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Oy)return 11;if(t===My)return 14}return 2}function Bi(t,e){var n=t.alternate;return n===null?(n=Zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ud(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")p0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case To:return Ps(n.children,i,s,e);case Ay:o=8,i|=8;break;case bg:return t=Zn(12,n,e,i|2),t.elementType=bg,t.lanes=s,t;case Cg:return t=Zn(13,n,e,i),t.elementType=Cg,t.lanes=s,t;case Sg:return t=Zn(19,n,e,i),t.elementType=Sg,t.lanes=s,t;case mx:return If(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fx:o=10;break e;case px:o=9;break e;case Oy:o=11;break e;case My:o=14;break e;case bi:o=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=Zn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ps(t,e,n,r){return t=Zn(7,t,r,e),t.lanes=n,t}function If(t,e,n,r){return t=Zn(22,t,r,e),t.elementType=mx,t.lanes=n,t.stateNode={isHidden:!1},t}function km(t,e,n){return t=Zn(6,t,null,e),t.lanes=n,t}function Rm(t,e,n){return e=Zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dD(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=um(0),this.expirationTimes=um(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=um(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function m0(t,e,n,r,i,s,o,a,l){return t=new dD(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jy(s),t}function hD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function aI(t){if(!t)return Hi;t=t._reactInternals;e:{if(so(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(Rn(n))return oT(t,n,e)}return e}function lI(t,e,n,r,i,s,o,a,l){return t=m0(n,r,!0,t,i,s,o,a,l),t.context=aI(null),n=t.current,r=fn(),i=Ui(n),s=Zr(r,i),s.callback=e!=null?e:null,Li(n,s,i),t.current.lanes=i,ic(t,i,r),Pn(t,r),t}function kf(t,e,n,r){var i=e.current,s=fn(),o=Ui(i);return n=aI(n),e.context===null?e.context=n:e.pendingContext=n,e=Zr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Li(i,e,o),t!==null&&(Er(t,i,o,s),Od(t,i,o)),o}function xh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function SE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function g0(t,e){SE(t,e),(t=t.alternate)&&SE(t,e)}function fD(){return null}var uI=typeof reportError=="function"?reportError:function(t){console.error(t)};function v0(t){this._internalRoot=t}Rf.prototype.render=v0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));kf(t,e,null,null)};Rf.prototype.unmount=v0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zs(function(){kf(null,t,null,null)}),e[ri]=null}};function Rf(t){this._internalRoot=t}Rf.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ux();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Si.length&&e!==0&&e<Si[n].priority;n++);Si.splice(n,0,t),n===0&&zx(t)}};function y0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xE(){}function pD(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=xh(o);s.call(u)}}var o=lI(e,r,t,0,null,!1,!1,"",xE);return t._reactRootContainer=o,t[ri]=o.current,fu(t.nodeType===8?t.parentNode:t),zs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=xh(l);a.call(u)}}var l=m0(t,0,!1,null,null,!1,!1,"",xE);return t._reactRootContainer=l,t[ri]=l.current,fu(t.nodeType===8?t.parentNode:t),zs(function(){kf(e,l,n,r)}),l}function Nf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=xh(o);a.call(l)}}kf(e,o,t,i)}else o=pD(n,e,t,i,r);return xh(o)}Lx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sl(e.pendingLanes);n!==0&&(Ly(e,n|1),Pn(e,ut()),(xe&6)===0&&(ua=ut()+500,ns()))}break;case 13:zs(function(){var r=ii(t,1);if(r!==null){var i=fn();Er(r,t,1,i)}}),g0(t,1)}};Fy=function(t){if(t.tag===13){var e=ii(t,134217728);if(e!==null){var n=fn();Er(e,t,134217728,n)}g0(t,134217728)}};Fx=function(t){if(t.tag===13){var e=Ui(t),n=ii(t,e);if(n!==null){var r=fn();Er(n,t,e,r)}g0(t,e)}};Ux=function(){return De};Bx=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};Mg=function(t,e,n){switch(e){case"input":if(Ig(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ef(r);if(!i)throw Error(O(90));vx(r),Ig(r,i)}}}break;case"textarea":_x(t,n);break;case"select":e=n.value,e!=null&&zo(t,!!n.multiple,e,!1)}};Tx=d0;Ix=zs;var mD={usingClientEntryPoint:!1,Events:[oc,Po,Ef,Sx,xx,d0]},cl={findFiberByHostInstance:ys,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},gD={bundleType:cl.bundleType,version:cl.version,rendererPackageName:cl.rendererPackageName,rendererConfig:cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Px(t),t===null?null:t.stateNode},findFiberByHostInstance:cl.findFiberByHostInstance||fD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{vf=sd.inject(gD),Rr=sd}catch{}}Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mD;Wn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y0(e))throw Error(O(200));return hD(t,e,null,n)};Wn.createRoot=function(t,e){if(!y0(t))throw Error(O(299));var n=!1,r="",i=uI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=m0(t,1,!1,null,null,n,!1,r,i),t[ri]=e.current,fu(t.nodeType===8?t.parentNode:t),new v0(e)};Wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=Px(e),t=t===null?null:t.stateNode,t};Wn.flushSync=function(t){return zs(t)};Wn.hydrate=function(t,e,n){if(!Pf(e))throw Error(O(200));return Nf(null,t,e,!0,n)};Wn.hydrateRoot=function(t,e,n){if(!y0(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=uI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=lI(e,null,t,1,n!=null?n:null,i,!1,s,o),t[ri]=e.current,fu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Rf(e)};Wn.render=function(t,e,n){if(!Pf(e))throw Error(O(200));return Nf(null,t,e,!1,n)};Wn.unmountComponentAtNode=function(t){if(!Pf(t))throw Error(O(40));return t._reactRootContainer?(zs(function(){Nf(null,null,t,!1,function(){t._reactRootContainer=null,t[ri]=null})}),!0):!1};Wn.unstable_batchedUpdates=d0;Wn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pf(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return Nf(t,e,n,!1,r)};Wn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Wn})(rc);const od=ex(rc.exports);var TE=rc.exports;wg.createRoot=TE.createRoot,wg.hydrateRoot=TE.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=function(t,e){if(!t)throw $a(e)},$a=function(t){return new Error("Firebase Database ("+cI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},_0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw Error();const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},hI=function(t){const e=dI(t);return _0.encodeByteArray(e,!0)},fI=function(t){return hI(t).replace(/\./g,"")},fv=function(t){try{return _0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){return pI(void 0,t)}function pI(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!_D(n)||(t[n]=pI(t[n],e[n]));return t}function _D(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Af(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function mI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function E0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wD(){return At().indexOf("Electron/")>=0}function gI(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ED(){return At().indexOf("MSAppHost/")>=0}function vI(){return cI.NODE_ADMIN===!0}function yI(){return typeof indexedDB=="object"}function bD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD="FirebaseError";class lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=CD,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oo.prototype.create)}}class oo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?SD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new lr(i,a,r)}}function SD(t,e){return t.replace(xD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const xD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){return JSON.parse(t)}function Pt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=bu(fv(s[0])||""),n=bu(fv(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},TD=function(t){const e=_I(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},ID=function(t){const e=_I(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ca(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function pv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Th(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Ih(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(IE(s)&&IE(o)){if(!Ih(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function IE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function RD(t,e){const n=new PD(t,e);return n.subscribe.bind(n)}class PD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ND(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Pm),i.error===void 0&&(i.error=Pm),i.complete===void 0&&(i.complete=Pm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ND(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pm(){}function wI(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,D(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Of=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=1e3,MD=2,$D=4*60*60*1e3,DD=.5;function LD(t,e=OD,n=MD){const r=e*Math.pow(n,t),i=Math.round(DD*r*(Math.random()-.5)*2);return Math.min($D,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class Vn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new w0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BD(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UD(t){return t===hs?void 0:t}function BD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const VD={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},jD=Se.INFO,WD={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},HD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lc{constructor(e){this.name=e,this._logLevel=jD,this._logHandler=HD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const qD=(t,e)=>e.some(n=>t instanceof n);let kE,RE;function KD(){return kE||(kE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GD(){return RE||(RE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EI=new WeakMap,mv=new WeakMap,bI=new WeakMap,Nm=new WeakMap,b0=new WeakMap;function QD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&EI.set(n,t)}).catch(()=>{}),b0.set(e,t),e}function YD(t){if(mv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});mv.set(t,e)}let gv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XD(t){gv=t(gv)}function JD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Am(this),e,...n);return bI.set(r,e.sort?e.sort():[e]),zi(r)}:GD().includes(t)?function(...e){return t.apply(Am(this),e),zi(EI.get(this))}:function(...e){return zi(t.apply(Am(this),e))}}function ZD(t){return typeof t=="function"?JD(t):(t instanceof IDBTransaction&&YD(t),qD(t,KD())?new Proxy(t,gv):t)}function zi(t){if(t instanceof IDBRequest)return QD(t);if(Nm.has(t))return Nm.get(t);const e=ZD(t);return e!==t&&(Nm.set(t,e),b0.set(e,t)),e}const Am=t=>b0.get(t);function CI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=zi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(zi(o.result),l.oldVersion,l.newVersion,zi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const eL=["get","getKey","getAll","getAllKeys","count"],tL=["put","add","delete","clear"],Om=new Map;function PE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Om.get(e))return Om.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Om.set(e,s),s}XD(t=>({...t,get:(e,n,r)=>PE(e,n)||t.get(e,n,r),has:(e,n)=>!!PE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vv="@firebase/app",NE="0.7.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new lc("@firebase/app"),iL="@firebase/app-compat",sL="@firebase/analytics-compat",oL="@firebase/analytics",aL="@firebase/app-check-compat",lL="@firebase/app-check",uL="@firebase/auth",cL="@firebase/auth-compat",dL="@firebase/database",hL="@firebase/database-compat",fL="@firebase/functions",pL="@firebase/functions-compat",mL="@firebase/installations",gL="@firebase/installations-compat",vL="@firebase/messaging",yL="@firebase/messaging-compat",_L="@firebase/performance",wL="@firebase/performance-compat",EL="@firebase/remote-config",bL="@firebase/remote-config-compat",CL="@firebase/storage",SL="@firebase/storage-compat",xL="@firebase/firestore",TL="@firebase/firestore-compat",IL="firebase",kL="9.9.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="[DEFAULT]",RL={[vv]:"fire-core",[iL]:"fire-core-compat",[oL]:"fire-analytics",[sL]:"fire-analytics-compat",[lL]:"fire-app-check",[aL]:"fire-app-check-compat",[uL]:"fire-auth",[cL]:"fire-auth-compat",[dL]:"fire-rtdb",[hL]:"fire-rtdb-compat",[fL]:"fire-fn",[pL]:"fire-fn-compat",[mL]:"fire-iid",[gL]:"fire-iid-compat",[vL]:"fire-fcm",[yL]:"fire-fcm-compat",[_L]:"fire-perf",[wL]:"fire-perf-compat",[EL]:"fire-rc",[bL]:"fire-rc-compat",[CL]:"fire-gcs",[SL]:"fire-gcs-compat",[xL]:"fire-fst",[TL]:"fire-fst-compat","fire-js":"fire-js",[IL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=new Map,yv=new Map;function PL(t,e){try{t.container.addComponent(e)}catch(n){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sr(t){const e=t.name;if(yv.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;yv.set(e,t);for(const n of Cu.values())PL(n,t);return!0}function La(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},js=new oo("app","Firebase",NL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw js.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=kL;function OL(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:SI,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw js.create("bad-app-name",{appName:String(r)});const i=Cu.get(r);if(i){if(Ih(t,i.options)&&Ih(n,i.config))return i;throw js.create("duplicate-app",{appName:r})}const s=new zD(r);for(const a of yv.values())s.addComponent(a);const o=new AL(t,n,s);return Cu.set(r,o),o}function C0(t=SI){const e=Cu.get(t);if(!e)throw js.create("no-app",{appName:t});return e}function ML(){return Array.from(Cu.values())}function pt(t,e,n){var r;let i=(r=RL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(a.join(" "));return}sr(new Vn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="firebase-heartbeat-database",DL=1,Su="firebase-heartbeat-store";let Mm=null;function xI(){return Mm||(Mm=CI($L,DL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Su)}}}).catch(t=>{throw js.create("idb-open",{originalErrorMessage:t.message})})),Mm}async function LL(t){var e;try{return(await xI()).transaction(Su).objectStore(Su).get(TI(t))}catch(n){if(n instanceof lr)Vs.warn(n.message);else{const r=js.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});Vs.warn(r.message)}}}async function AE(t,e){var n;try{const i=(await xI()).transaction(Su,"readwrite");return await i.objectStore(Su).put(e,TI(t)),i.done}catch(r){if(r instanceof lr)Vs.warn(r.message);else{const i=js.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});Vs.warn(i.message)}}}function TI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=1024,UL=30*24*60*60*1e3;class BL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=OE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=UL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=OE(),{heartbeatsToSend:n,unsentEntries:r}=zL(this._heartbeatsCache.heartbeats),i=fI(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function OE(){return new Date().toISOString().substring(0,10)}function zL(t,e=FL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ME(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ME(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class VL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yI()?bD().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await LL(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return AE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return AE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ME(t){return fI(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t){sr(new Vn("platform-logger",e=>new nL(e),"PRIVATE")),sr(new Vn("heartbeat",e=>new BL(e),"PRIVATE")),pt(vv,NE,t),pt(vv,NE,"esm2017"),pt("fire-js","")}jL("");function S0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function II(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WL=II,kI=new oo("auth","Firebase",II());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=new lc("@firebase/auth");function Bd(t,...e){$E.logLevel<=Se.ERROR&&$E.error(`Auth (${rs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t,...e){throw x0(t,...e)}function Nr(t,...e){return x0(t,...e)}function RI(t,e,n){const r=Object.assign(Object.assign({},WL()),{[e]:n});return new oo("auth","Firebase",r).create(e,{appName:t.name})}function HL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Lr(t,"argument-error"),RI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function x0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kI.create(t,...e)}function oe(t,e,...n){if(!t)throw x0(e,...n)}function Qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bd(e),new Error(e)}function oi(t,e){t||Qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;function Yr(t){oi(t instanceof Function,"Expected a class definition");let e=DE.get(t);return e?(oi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,DE.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t,e){const n=La(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ih(s,e!=null?e:{}))return i;Lr(i,"already-initialized")}return n.initialize({options:e})}function KL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function GL(){return LE()==="http:"||LE()==="https:"}function LE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GL()||mI()||"connection"in navigator)?navigator.onLine:!0}function YL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n){this.shortDelay=e,this.longDelay=n,oi(n>e,"Short delay should be less than long delay!"),this.isMobile=Af()||E0()}get(){return QL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t,e){oi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=new uc(3e4,6e4);function ZL(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Mf(t,e,n,r,i={}){return NI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Da(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),PI.fetch()(AI(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function NI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},XL),e);try{const i=new t2(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ad(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ad(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ad(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ad(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw RI(t,c,u);Lr(t,c)}}catch(i){if(i instanceof lr)throw i;Lr(t,"network-request-failed")}}async function e2(t,e,n,r,i={}){const s=await Mf(t,e,n,r,i);return"mfaPendingCredential"in s&&Lr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function AI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?T0(t.config,i):`${t.config.apiScheme}://${i}`}class t2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Nr(this.auth,"network-request-failed")),JL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ad(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Nr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(t,e){return Mf(t,"POST","/v1/accounts:delete",e)}async function r2(t,e){return Mf(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i2(t,e=!1){const n=Ot(t),r=await n.getIdToken(e),i=I0(r);oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:zl($m(i.auth_time)),issuedAtTime:zl($m(i.iat)),expirationTime:zl($m(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function $m(t){return Number(t)*1e3}function I0(t){var e;const[n,r,i]=t.split(".");if(n===void 0||r===void 0||i===void 0)return Bd("JWT malformed, contained fewer than 3 sections"),null;try{const s=fv(r);return s?JSON.parse(s):(Bd("Failed to decode base64 JWT payload"),null)}catch(s){return Bd("Caught error parsing JWT payload as JSON",(e=s)===null||e===void 0?void 0:e.toString()),null}}function s2(t){const e=I0(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof lr&&o2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function o2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await xu(t,r2(n,{idToken:r}));oe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?c2(s.providerUserInfo):[],a=u2(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new OI(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function l2(t){const e=Ot(t);await kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function u2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function c2(t){return t.map(e=>{var{providerId:n}=e,r=S0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(t,e){const n=await NI(t,{},async()=>{const r=Da({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=AI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",PI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return oe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await d2(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Tu;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(oe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tu,this.toJSON())}_performRefresh(){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ns{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=S0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new a2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new OI(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await xu(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return i2(this,e)}reload(){return l2(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await kh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await xu(this,n2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:_,isAnonymous:C,providerData:x,stsTokenManager:S}=n;oe(y&&S,e,"internal-error");const T=Tu.fromJSON(this.name,S);oe(typeof y=="string",e,"internal-error"),_i(d,e.name),_i(h,e.name),oe(typeof _=="boolean",e,"internal-error"),oe(typeof C=="boolean",e,"internal-error"),_i(f,e.name),_i(p,e.name),_i(m,e.name),_i(E,e.name),_i(g,e.name),_i(v,e.name);const N=new Ns({uid:y,auth:e,email:h,emailVerified:_,displayName:d,isAnonymous:C,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:T,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(N.providerData=x.map(I=>Object.assign({},I))),E&&(N._redirectEventId=E),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Tu;i.updateFromServerResponse(n);const s=new Ns({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await kh(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MI.type="NONE";const FE=MI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ko{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=zd(this.userKey,i.apiKey,s),this.fullPersistenceKey=zd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ns._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ko(Yr(FE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Yr(FE);const o=zd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Ns._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ko(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ko(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($I(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UI(e))return"Blackberry";if(BI(e))return"Webos";if(k0(e))return"Safari";if((e.includes("chrome/")||DI(e))&&!e.includes("edge/"))return"Chrome";if(FI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $I(t=At()){return/firefox\//i.test(t)}function k0(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DI(t=At()){return/crios\//i.test(t)}function LI(t=At()){return/iemobile/i.test(t)}function FI(t=At()){return/android/i.test(t)}function UI(t=At()){return/blackberry/i.test(t)}function BI(t=At()){return/webos/i.test(t)}function $f(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function h2(t=At()){var e;return $f(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function f2(){return gI()&&document.documentMode===10}function zI(t=At()){return $f(t)||FI(t)||BI(t)||UI(t)||/windows phone/i.test(t)||LI(t)}function p2(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t,e=[]){let n;switch(t){case"Browser":n=UE(At());break;case"Worker":n=`${UE(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BE(this),this.idTokenSubscription=new BE(this),this.beforeStateQueue=new m2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kI,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ko.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l==null?void 0:l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await kh(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ot(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new oo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[Yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function R0(t){return Ot(t)}class BE{constructor(e){this.auth=e,this.observer=null,this.addObserver=RD(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,n){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(t,e){return e2(t,"POST","/v1/accounts:signInWithIdp",ZL(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="http://localhost";class Ws extends jI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Lr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=S0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ws(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Go(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Go(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Go(e,n)}buildRequest(){const e={requestUri:v2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Da(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends P0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends cc{constructor(){super("facebook.com")}static credential(e){return Ws._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ws._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qr.credential(n,r)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends cc{constructor(){super("github.com")}static credential(e){return Ws._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.GITHUB_SIGN_IN_METHOD="github.com";Ii.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends cc{constructor(){super("twitter.com")}static credential(e,n){return Ws._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ki.credential(n,r)}catch{return null}}}ki.TWITTER_SIGN_IN_METHOD="twitter.com";ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ns._fromIdTokenResponse(e,r,i),o=zE(r);return new da({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=zE(r);return new da({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function zE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends lr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Rh(e,n,r,i)}}function WI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(t,s,e,r):s})}async function y2(t,e,n=!1){const r=await xu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return da._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(t,e,n=!1){var r;const{auth:i}=t,s="reauthenticate";try{const o=await xu(t,WI(i,s,e,t),n);oe(o.idToken,i,"internal-error");const a=I0(o.idToken);oe(a,i,"internal-error");const{sub:l}=a;return oe(t.uid===l,i,"user-mismatch"),da._forOperation(t,s,o)}catch(o){throw((r=o)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&Lr(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(t,e,n=!1){const r="signIn",i=await WI(t,r,e),s=await da._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function E2(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function b2(t){Ot(t).useDeviceLanguage()}function C2(t){return Ot(t).signOut()}const Ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(){const t=At();return k0(t)||$f(t)}const x2=1e3,T2=10;class qI extends HI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=S2()&&p2(),this.fallbackToPolling=zI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);f2()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,T2):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},x2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qI.type="LOCAL";const I2=qI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI extends HI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KI.type="SESSION";const GI=KI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Df(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await k2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Df.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=N0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return window}function P2(t){Ar().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}async function N2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function A2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function O2(){return QI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="firebaseLocalStorageDb",M2=1,Nh="firebaseLocalStorage",XI="fbase_key";class dc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lf(t,e){return t.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function $2(){const t=indexedDB.deleteDatabase(YI);return new dc(t).toPromise()}function wv(){const t=indexedDB.open(YI,M2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Nh,{keyPath:XI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Nh)?e(r):(r.close(),await $2(),e(await wv()))})})}async function VE(t,e,n){const r=Lf(t,!0).put({[XI]:e,value:n});return new dc(r).toPromise()}async function D2(t,e){const n=Lf(t,!1).get(e),r=await new dc(n).toPromise();return r===void 0?null:r.value}function jE(t,e){const n=Lf(t,!0).delete(e);return new dc(n).toPromise()}const L2=800,F2=3;class JI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>F2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Df._getInstance(O2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await N2(),!this.activeServiceWorker)return;this.sender=new R2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||A2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wv();return await VE(e,Ph,"1"),await jE(e,Ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>VE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>D2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Lf(i,!1).getAll();return new dc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),L2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JI.type="LOCAL";const U2=JI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function z2(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Nr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",B2().appendChild(r)})}function V2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new uc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(t,e){return e?Yr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0 extends jI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function j2(t){return w2(t.auth,new A0(t),t.bypassAuthState)}function W2(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),_2(n,new A0(t),t.bypassAuthState)}async function H2(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),y2(n,new A0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return j2;case"linkViaPopup":case"linkViaRedirect":return H2;case"reauthViaPopup":case"reauthViaRedirect":return W2;default:Lr(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new uc(2e3,1e4);async function K2(t,e,n){const r=R0(t);HL(t,e,P0);const i=ZI(r,n);return new Es(r,"signInViaPopup",e,i).executeNotNull()}class Es extends ek{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Es.currentPopupAction&&Es.currentPopupAction.cancel(),Es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){oi(this.filter.length===1,"Popup operations only handle one event");const e=N0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,q2.get())};e()}}Es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="pendingRedirect",Vd=new Map;class Q2 extends ek{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vd.get(this.auth._key());if(!e){try{const r=await Y2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vd.set(this.auth._key(),e)}return this.bypassAuthState||Vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y2(t,e){const n=Z2(e),r=J2(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function X2(t,e){Vd.set(t._key(),e)}function J2(t){return Yr(t._redirectPersistence)}function Z2(t){return zd(G2,t.config.apiKey,t.name)}async function eF(t,e,n=!1){const r=R0(t),i=ZI(r,e),o=await new Q2(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=10*60*1e3;class nF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!tk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Nr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tF&&this.cachedEventUids.clear(),this.cachedEventUids.has(WE(e))}saveEventToCache(e){this.cachedEventUids.add(WE(e)),this.lastProcessedEventTime=Date.now()}}function WE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iF(t,e={}){return Mf(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oF=/^https?/;async function aF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iF(t);for(const n of e)try{if(lF(n))return}catch{}Lr(t,"unauthorized-domain")}function lF(t){const e=_v(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!oF.test(n))return!1;if(sF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF=new uc(3e4,6e4);function HE(){const t=Ar().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cF(t){return new Promise((e,n)=>{var r,i,s;function o(){HE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HE(),n(Nr(t,"network-request-failed"))},timeout:uF.get()})}if(!((i=(r=Ar().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ar().gapi)===null||s===void 0)&&s.load)o();else{const a=V2("iframefcb");return Ar()[a]=()=>{gapi.load?o():n(Nr(t,"network-request-failed"))},z2(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw jd=null,e})}let jd=null;function dF(t){return jd=jd||cF(t),jd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF=new uc(5e3,15e3),fF="__/auth/iframe",pF="emulator/auth/iframe",mF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vF(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?T0(e,pF):`https://${t.config.authDomain}/${fF}`,r={apiKey:e.apiKey,appName:t.name,v:rs},i=gF.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Da(r).slice(1)}`}async function yF(t){const e=await dF(t),n=Ar().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:vF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mF,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Nr(t,"network-request-failed"),a=Ar().setTimeout(()=>{s(o)},hF.get());function l(){Ar().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wF=500,EF=600,bF="_blank",CF="http://localhost";class qE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SF(t,e,n,r=wF,i=EF){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},_F),{width:r.toString(),height:i.toString(),top:s,left:o}),u=At().toLowerCase();n&&(a=DI(u)?bF:n),$I(u)&&(e=e||CF,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(h2(u)&&a!=="_self")return xF(e||"",a),new qE(null);const d=window.open(e||"",a,c);oe(d,t,"popup-blocked");try{d.focus()}catch{}return new qE(d)}function xF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF="__/auth/handler",IF="emulator/auth/handler";function KE(t,e,n,r,i,s){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:rs,eventId:i};if(e instanceof P0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",pv(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof cc){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${kF(t)}?${Da(a).slice(1)}`}function kF({config:t}){return t.emulator?T0(t,IF):`https://${t.authDomain}/${TF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="webStorageSupport";class RF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GI,this._completeRedirectFn=eF,this._overrideRedirectResult=X2}async _openPopup(e,n,r,i){var s;oi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=KE(e,n,r,_v(),i);return SF(e,o,N0())}async _openRedirect(e,n,r,i){return await this._originValidation(e),P2(KE(e,n,r,_v(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(oi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yF(e),r=new nF(e);return n.register("authEvent",i=>(oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dm,{type:Dm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Dm];o!==void 0&&n(!!o),Lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zI()||k0()||$f()}}const PF=RF;var GE="@firebase/auth",QE="0.20.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function OF(t){sr(new Vn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{oe(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),oe(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VI(t)},c=new g2(a,l,u);return KL(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sr(new Vn("auth-internal",e=>{const n=R0(e.getProvider("auth").getImmediate());return(r=>new NF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pt(GE,QE,AF(t)),pt(GE,QE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(t=C0()){const e=La(t,"auth");return e.isInitialized()?e.getImmediate():qL(t,{popupRedirectResolver:PF,persistence:[U2,I2,GI]})}OF("Browser");const YE="@firebase/database",XE="0.13.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nk="";function $F(t){nk=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Pt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:bu(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return fi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new DF(e)}}catch{}return new LF},bs=rk("localStorage"),Ev=rk("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new lc("@firebase/database"),FF=function(){let t=1;return function(){return t++}}(),ik=function(t){const e=AD(t),n=new kD;n.update(e);const r=n.digest();return _0.encodeByteArray(r)},hc=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=hc.apply(null,r):typeof r=="object"?e+=Pt(r):e+=r,e+=" "}return e};let As=null,JE=!0;const UF=function(t,e){D(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Qo.logLevel=Se.VERBOSE,As=Qo.log.bind(Qo),e&&Ev.set("logging_enabled",!0)):typeof t=="function"?As=t:(As=null,Ev.remove("logging_enabled"))},Zt=function(...t){if(JE===!0&&(JE=!1,As===null&&Ev.get("logging_enabled")===!0&&UF(!0)),As){const e=hc.apply(null,t);As(e)}},fc=function(t){return function(...e){Zt(t,...e)}},bv=function(...t){const e="FIREBASE INTERNAL ERROR: "+hc(...t);Qo.error(e)},Hs=function(...t){const e=`FIREBASE FATAL ERROR: ${hc(...t)}`;throw Qo.error(e),new Error(e)},Un=function(...t){const e="FIREBASE WARNING: "+hc(...t);Qo.warn(e)},BF=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Un("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},sk=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},zF=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ha="[MIN_NAME]",qs="[MAX_NAME]",Fa=function(t,e){if(t===e)return 0;if(t===ha||e===qs)return-1;if(e===ha||t===qs)return 1;{const n=ZE(t),r=ZE(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},VF=function(t,e){return t===e?0:t<e?-1:1},dl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Pt(e))},O0=function(t){if(typeof t!="object"||t===null)return Pt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Pt(e[r]),n+=":",n+=O0(t[e[r]]);return n+="}",n},ok=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Mn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const ak=function(t){D(!sk(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},jF=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},WF=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function HF(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const qF=new RegExp("^-?(0*)\\d{1,10}$"),KF=-2147483648,GF=2147483647,ZE=function(t){if(qF.test(t)){const e=Number(t);if(e>=KF&&e<=GF)return e}return null},pc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Un("Exception was thrown by user callback.",n),e},Math.floor(0))}},QF=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Vl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Un(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Zt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Un(e)}}class Cv{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Cv.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="5",lk="v",uk="s",ck="r",dk="f",hk=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,fk="ls",pk="p",Sv="ac",mk="websocket",gk="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e,n,r,i,s=!1,o="",a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=bs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&bs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function ZF(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function vk(t,e,n){D(typeof e=="string","typeof type must == string"),D(typeof n=="object","typeof params must == object");let r;if(e===mk)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===gk)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ZF(t)&&(n.ns=t.namespace);const i=[];return Mn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(){this.counters_={}}incrementCounter(e,n=1){fi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return yD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm={},Fm={};function $0(t){const e=t.toString();return Lm[e]||(Lm[e]=new eU),Lm[e]}function tU(t,e){const n=t.toString();return Fm[n]||(Fm[n]=e()),Fm[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&pc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="start",rU="close",iU="pLPCommand",sU="pRTLPCB",yk="id",_k="pw",wk="ser",oU="cb",aU="seg",lU="ts",uU="d",cU="dframe",Ek=1870,bk=30,dU=Ek-bk,hU=25e3,fU=3e4;class Lo{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=fc(e),this.stats_=$0(n),this.urlFn=l=>(this.appCheckToken&&(l[Sv]=this.appCheckToken),vk(n,gk,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new nU(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(fU)),zF(()=>{if(this.isClosed_)return;this.scriptTagHolder=new D0((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===eb)this.id=a,this.password=l;else if(o===rU)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[eb]="t",r[wk]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[oU]=this.scriptTagHolder.uniqueCallbackIdentifier),r[lk]=M0,this.transportSessionId&&(r[uk]=this.transportSessionId),this.lastSessionId&&(r[fk]=this.lastSessionId),this.applicationId&&(r[pk]=this.applicationId),this.appCheckToken&&(r[Sv]=this.appCheckToken),typeof location<"u"&&location.hostname&&hk.test(location.hostname)&&(r[ck]=dk);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Lo.forceAllow_=!0}static forceDisallow(){Lo.forceDisallow_=!0}static isAvailable(){return Lo.forceAllow_?!0:!Lo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!jF()&&!WF()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Pt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=hI(n),i=ok(r,dU);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[cU]="t",r[yk]=e,r[_k]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Pt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class D0{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=FF(),window[iU+this.uniqueCallbackIdentifier]=e,window[sU+this.uniqueCallbackIdentifier]=n,this.myIFrame=D0.createIFrame_();let s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){const a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Zt("frame writing exception"),a.stack&&Zt(a.stack),Zt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Zt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[yk]=this.myID,e[_k]=this.myPW,e[wk]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+bk+r.length<=Ek;){const o=this.pendingSegs.shift();r=r+"&"+aU+i+"="+o.seg+"&"+lU+i+"="+o.ts+"&"+uU+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(hU)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Zt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=16384,mU=45e3;let Ah=null;typeof MozWebSocket<"u"?Ah=MozWebSocket:typeof WebSocket<"u"&&(Ah=WebSocket);class gr{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=fc(this.connId),this.stats_=$0(n),this.connURL=gr.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[lk]=M0,typeof location<"u"&&location.hostname&&hk.test(location.hostname)&&(o[ck]=dk),n&&(o[uk]=n),r&&(o[fk]=r),i&&(o[Sv]=i),s&&(o[pk]=s),vk(e,mk,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,bs.set("previous_websocket_failure",!0);try{let r;vI(),this.mySock=new Ah(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){gr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ah!==null&&!gr.forceDisallow_}static previouslyFailed(){return bs.isInMemoryStorage||bs.get("previous_websocket_failure")===!0}markConnectionHealthy(){bs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=bu(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(D(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Pt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=ok(n,pU);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(mU))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}gr.responsesRequiredToBeHealthy=2;gr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Lo,gr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=gr&&gr.isAvailable();let r=n&&!gr.previouslyFailed();if(e.webSocketOnly&&(n||Un("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[gr];else{const i=this.transports_=[];for(const s of Iu.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Iu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Iu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=6e4,vU=5e3,yU=10*1024,_U=100*1024,Um="t",tb="d",wU="s",nb="r",EU="e",rb="o",ib="a",sb="n",ob="p",bU="h";class CU{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=fc("c:"+this.id+":"),this.transportManager_=new Iu(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Vl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>_U?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>yU?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Um in e){const n=e[Um];n===ib?this.upgradeIfSecondaryHealthy_():n===nb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===rb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=dl("t",e),r=dl("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ob,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ib,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:sb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=dl("t",e),r=dl("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=dl(Um,e);if(tb in e){const r=e[tb];if(n===bU)this.onHandshake_(r);else if(n===sb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===wU?this.onConnectionShutdown_(r):n===nb?this.onReset_(r):n===EU?bv("Server Error: "+r):n===rb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bv("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),M0!==r&&Un("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Vl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(gU))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(vU))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ob,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(bs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends Sk{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Af()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Oh}getInitialEvent(e){return D(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=32,lb=768;class Ve{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ke(){return new Ve("")}function pe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function qi(t){return t.pieces_.length-t.pieceNum_}function He(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ve(t.pieces_,e)}function xk(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function SU(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Tk(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Ik(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ve(e,0)}function yt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ve)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ve(n,0)}function me(t){return t.pieceNum_>=t.pieces_.length}function Sn(t,e){const n=pe(t),r=pe(e);if(n===null)return e;if(n===r)return Sn(He(t),He(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function L0(t,e){if(qi(t)!==qi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function vr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(qi(t)>qi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class xU{constructor(e,n){this.errorPrefix_=n,this.parts_=Tk(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Of(this.parts_[r]);kk(this)}}function TU(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Of(e),kk(t)}function IU(t){const e=t.parts_.pop();t.byteLength_-=Of(e),t.parts_.length>0&&(t.byteLength_-=1)}function kk(t){if(t.byteLength_>lb)throw new Error(t.errorPrefix_+"has a key path longer than "+lb+" bytes ("+t.byteLength_+").");if(t.parts_.length>ab)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ab+") or object contains a cycle "+fs(t))}function fs(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0 extends Sk{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new F0}getInitialEvent(e){return D(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=1e3,kU=60*5*1e3,ub=30*1e3,RU=1.3,PU=3e4,NU="server_kill",cb=3;class ei extends Ck{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=ei.nextPersistentConnectionId_++,this.log_=fc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=hl,this.maxReconnectDelay_=kU,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!vI())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");F0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Oh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Pt(s)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new w0,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;ei.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&fi(e,"w")){const r=ca(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Un(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||ID(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ub)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=TD(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Pt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):bv("Unrecognized action received from server: "+Pt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=hl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>PU&&(this.reconnectDelay_=hl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*RU)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ei.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){D(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Zt("getToken() completed but was canceled"):(Zt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new CU(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{Un(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(NU)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Un(d),l())}}}interrupt(e){Zt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Zt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],pv(this.interruptReasons_)&&(this.reconnectDelay_=hl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>O0(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Ve(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Zt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=cb&&(this.reconnectDelay_=ub,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Zt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=cb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+nk.replace(/\./g,"-")]=1,Af()?e["framework.cordova"]=1:E0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Oh.getInstance().currentlyOnline();return pv(this.interruptReasons_)&&e}}ei.nextPersistentConnectionId_=0;ei.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ce(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ce(ha,e),i=new ce(ha,n);return this.compare(r,i)!==0}minPost(){return ce.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld;class Rk extends Ff{static get __EMPTY_NODE(){return ld}static set __EMPTY_NODE(e){ld=e}compare(e,n){return Fa(e.name,n.name)}isDefinedOn(e){throw $a("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ce.MIN}maxPost(){return new ce(qs,ld)}makePost(e,n){return D(typeof e=="string","KeyIndex indexValue must always be a string."),new ce(e,ld)}toString(){return".key"}}const Yo=new Rk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:Rt.RED,this.left=i!=null?i:xn.EMPTY_NODE,this.right=s!=null?s:xn.EMPTY_NODE}copy(e,n,r,i,s){return new Rt(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return xn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return xn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Rt.RED=!0;Rt.BLACK=!1;class AU{copy(e,n,r,i,s){return this}insert(e,n,r){return new Rt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xn{constructor(e,n=xn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new xn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Rt.BLACK,null,null))}remove(e){return new xn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Rt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ud(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ud(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ud(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ud(this.root_,null,this.comparator_,!0,e)}}xn.EMPTY_NODE=new AU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(t,e){return Fa(t.name,e.name)}function U0(t,e){return Fa(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xv;function MU(t){xv=t}const Pk=function(t){return typeof t=="number"?"number:"+ak(t):"string:"+t},Nk=function(t){if(t.isLeafNode()){const e=t.val();D(typeof e=="string"||typeof e=="number"||typeof e=="object"&&fi(e,".sv"),"Priority must be a string or number.")}else D(t===xv||t.isEmpty(),"priority of unexpected type.");D(t===xv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let db;class Tt{constructor(e,n=Tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,D(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Nk(this.priorityNode_)}static set __childrenNodeConstructor(e){db=e}static get __childrenNodeConstructor(){return db}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Tt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return me(e)?this:pe(e)===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=pe(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(D(r!==".priority"||qi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Tt.__childrenNodeConstructor.EMPTY_NODE.updateChild(He(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Pk(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=ak(this.value_):e+=this.value_,this.lazyHash_=ik(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Tt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Tt.__childrenNodeConstructor?-1:(D(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Tt.VALUE_TYPE_ORDER.indexOf(n),s=Tt.VALUE_TYPE_ORDER.indexOf(r);return D(i>=0,"Unknown leaf type: "+n),D(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ak,Ok;function $U(t){Ak=t}function DU(t){Ok=t}class LU extends Ff{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Fa(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ce.MIN}maxPost(){return new ce(qs,new Tt("[PRIORITY-POST]",Ok))}makePost(e,n){const r=Ak(e);return new ce(n,new Tt("[PRIORITY-POST]",r))}toString(){return".priority"}}const lt=new LU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=Math.log(2);class UU{constructor(e){const n=s=>parseInt(Math.log(s)/FU,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Mh=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new Rt(h,d.node,Rt.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),m=i(f+1,u);return d=t[f],h=n?n(d):d,new Rt(h,d.node,Rt.BLACK,p,m)}},s=function(l){let u=null,c=null,d=t.length;const h=function(p,m){const E=d-p,g=d;d-=p;const v=i(E+1,g),y=t[E],_=n?n(y):y;f(new Rt(_,y.node,m,null,v))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),E=Math.pow(2,l.count-(p+1));m?h(E,Rt.BLACK):(h(E,Rt.BLACK),h(E,Rt.RED))}return c},o=new UU(t.length),a=s(o);return new xn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bm;const mo={};class Xr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return D(mo&&lt,"ChildrenNode.ts has not been loaded"),Bm=Bm||new Xr({".priority":mo},{".priority":lt}),Bm}get(e){const n=ca(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof xn?n:null}hasIndex(e){return fi(this.indexSet_,e.toString())}addIndex(e,n){D(e!==Yo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ce.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Mh(r,e.getCompare()):a=mo;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new Xr(c,u)}addToIndexes(e,n){const r=Th(this.indexes_,(i,s)=>{const o=ca(this.indexSet_,s);if(D(o,"Missing index implementation for "+s),i===mo)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ce.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Mh(a,o.getCompare())}else return mo;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new ce(e.name,a))),l.insert(e,e.node)}});return new Xr(r,this.indexSet_)}removeFromIndexes(e,n){const r=Th(this.indexes_,i=>{if(i===mo)return i;{const s=n.get(e.name);return s?i.remove(new ce(e.name,s)):i}});return new Xr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl;class re{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Nk(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return fl||(fl=new re(new xn(U0),null,Xr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fl}updatePriority(e){return this.children_.isEmpty()?this:new re(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?fl:n}}getChild(e){const n=pe(e);return n===null?this:this.getImmediateChild(n).getChild(He(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(D(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ce(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?fl:this.priorityNode_;return new re(i,o,s)}}updateChild(e,n){const r=pe(e);if(r===null)return n;{D(pe(e)!==".priority"||qi(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(He(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(lt,(o,a)=>{n[o]=a.val(e),r++,s&&re.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Pk(this.getPriority().val())+":"),this.forEachChild(lt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":ik(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ce(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ce(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ce(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ce.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ce.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===mc?-1:0}withIndex(e){if(e===Yo||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new re(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Yo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(lt),i=n.getIterator(lt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Yo?null:this.indexMap_.get(e.toString())}}re.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class BU extends re{constructor(){super(new xn(U0),re.EMPTY_NODE,Xr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return re.EMPTY_NODE}isEmpty(){return!1}}const mc=new BU;Object.defineProperties(ce,{MIN:{value:new ce(ha,re.EMPTY_NODE)},MAX:{value:new ce(qs,mc)}});Rk.__EMPTY_NODE=re.EMPTY_NODE;Tt.__childrenNodeConstructor=re;MU(mc);DU(mc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=!0;function en(t,e=null){if(t===null)return re.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),D(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Tt(n,en(e))}if(!(t instanceof Array)&&zU){const n=[];let r=!1;if(Mn(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=en(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ce(o,l)))}}),n.length===0)return re.EMPTY_NODE;const s=Mh(n,OU,o=>o.name,U0);if(r){const o=Mh(n,lt.getCompare());return new re(s,en(e),new Xr({".priority":o},{".priority":lt}))}else return new re(s,en(e),Xr.Default)}else{let n=re.EMPTY_NODE;return Mn(t,(r,i)=>{if(fi(t,r)&&r.substring(0,1)!=="."){const s=en(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(en(e))}}$U(en);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU extends Ff{constructor(e){super(),this.indexPath_=e,D(!me(e)&&pe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Fa(e.name,n.name):s}makePost(e,n){const r=en(e),i=re.EMPTY_NODE.updateChild(this.indexPath_,r);return new ce(n,i)}maxPost(){const e=re.EMPTY_NODE.updateChild(this.indexPath_,mc);return new ce(qs,e)}toString(){return Tk(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU extends Ff{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Fa(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ce.MIN}maxPost(){return ce.MAX}makePost(e,n){const r=en(e);return new ce(n,r)}toString(){return".value"}}const WU=new jU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t){return{type:"value",snapshotNode:t}}function fa(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ku(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ru(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function HU(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(ku(n,a)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(fa(n,r)):o.trackChildChange(Ru(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(lt,(i,s)=>{n.hasChild(i)||r.trackChildChange(ku(i,s))}),n.isLeafNode()||n.forEachChild(lt,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Ru(i,s,o))}else r.trackChildChange(fa(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?re.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e){this.indexedFilter_=new B0(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Pu.getStartPost_(e),this.endPost_=Pu.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,n,r,i,s,o){return this.matches(new ce(n,r))||(r=re.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=re.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(re.EMPTY_NODE);const s=this;return n.forEachChild(lt,(o,a)=>{s.matches(new ce(o,a))||(i=i.updateImmediateChild(o,re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.rangedFilter_=new Pu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ce(n,r))||(r=re.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=re.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=re.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();let l;if(this.reverse_?l=this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:l=this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,l)i=i.updateImmediateChild(a.name,a.node),o++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(re.EMPTY_NODE);let s,o,a,l;if(this.reverse_){l=i.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),o=this.rangedFilter_.getStartPost();const d=this.index_.getCompare();a=(h,f)=>d(f,h)}else l=i.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),o=this.rangedFilter_.getEndPost(),a=this.index_.getCompare();let u=0,c=!1;for(;l.hasNext();){const d=l.getNext();!c&&a(s,d)<=0&&(c=!0),c&&u<this.limit_&&a(d,o)<=0?u++:i=i.updateImmediateChild(d.name,re.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;D(a.numChildren()===this.limit_,"");const l=new ce(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=h==null?1:o(h,l);if(c&&!r.isEmpty()&&f>=0)return s!=null&&s.trackChildChange(Ru(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(ku(n,d));const m=a.updateImmediateChild(n,re.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(fa(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return r.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(ku(u.name,u.node)),s.trackChildChange(fa(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,re.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=lt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ha}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===lt}copy(){const e=new z0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function KU(t){return t.loadsAllData()?new B0(t.getIndex()):t.hasLimit()?new qU(t):new Pu(t)}function hb(t){const e={};if(t.isDefault())return e;let n;return t.index_===lt?n="$priority":t.index_===WU?n="$value":t.index_===Yo?n="$key":(D(t.index_ instanceof VU,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Pt(n),t.startSet_&&(e.startAt=Pt(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+Pt(t.indexStartName_))),t.endSet_&&(e.endAt=Pt(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+Pt(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function fb(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==lt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends Ck{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=fc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=$h.getListenId_(e,r),a={};this.listens_[o]=a;const l=hb(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),ca(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=$h.getListenId_(e,n);delete this.listens_[r]}get(e){const n=hb(e._queryParams),r=e._path.toString(),i=new w0;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Da(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=bu(a.responseText)}catch{Un("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Un("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(){this.rootNode_=re.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(){return{value:null,children:new Map}}function $k(t,e,n){if(me(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=pe(e);t.children.has(r)||t.children.set(r,Dh());const i=t.children.get(r);e=He(e),$k(i,e,n)}}function Tv(t,e,n){t.value!==null?n(e,t.value):QU(t,(r,i)=>{const s=new Ve(e.toString()+"/"+r);Tv(i,s,n)})}function QU(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Mn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=10*1e3,XU=30*1e3,JU=5*60*1e3;class ZU{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new YU(e);const r=pb+(XU-pb)*Math.random();Vl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Mn(e,(i,s)=>{s>0&&fi(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Vl(this.reportStats_.bind(this),Math.floor(Math.random()*2*JU))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(yr||(yr={}));function Dk(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function V0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function j0(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=yr.ACK_USER_WRITE,this.source=Dk()}operationForChild(e){if(me(this.path)){if(this.affectedTree.value!=null)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ve(e));return new Lh(ke(),n,this.revert)}}else return D(pe(this.path)===e,"operationForChild called for unrelated child."),new Lh(He(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n){this.source=e,this.path=n,this.type=yr.LISTEN_COMPLETE}operationForChild(e){return me(this.path)?new Nu(this.source,ke()):new Nu(this.source,He(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=yr.OVERWRITE}operationForChild(e){return me(this.path)?new Ks(this.source,ke(),this.snap.getImmediateChild(e)):new Ks(this.source,He(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=yr.MERGE}operationForChild(e){if(me(this.path)){const n=this.children.subtree(new Ve(e));return n.isEmpty()?null:n.value?new Ks(this.source,ke(),n.value):new Au(this.source,ke(),n)}else return D(pe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Au(this.source,He(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(me(e))return this.isFullyInitialized()&&!this.filtered_;const n=pe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function tB(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(HU(o.childName,o.snapshotNode))}),pl(t,i,"child_removed",e,r,n),pl(t,i,"child_added",e,r,n),pl(t,i,"child_moved",s,r,n),pl(t,i,"child_changed",e,r,n),pl(t,i,"value",e,r,n),i}function pl(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>rB(t,a,l)),o.forEach(a=>{const l=nB(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function nB(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function rB(t,e,n){if(e.childName==null||n.childName==null)throw $a("Should only compare child_ events.");const r=new ce(e.childName,e.snapshotNode),i=new ce(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(t,e){return{eventCache:t,serverCache:e}}function jl(t,e,n,r){return Uf(new Gs(e,n,r),t.serverCache)}function Lk(t,e,n,r){return Uf(t.eventCache,new Gs(e,n,r))}function Iv(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Qs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zm;const iB=()=>(zm||(zm=new xn(VF)),zm);class Ye{constructor(e,n=iB()){this.value=e,this.children=n}static fromObject(e){let n=new Ye(null);return Mn(e,(r,i)=>{n=n.set(new Ve(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ke(),value:this.value};if(me(e))return null;{const r=pe(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(He(e),n);return s!=null?{path:yt(new Ve(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(me(e))return this;{const n=pe(e),r=this.children.get(n);return r!==null?r.subtree(He(e)):new Ye(null)}}set(e,n){if(me(e))return new Ye(n,this.children);{const r=pe(e),s=(this.children.get(r)||new Ye(null)).set(He(e),n),o=this.children.insert(r,s);return new Ye(this.value,o)}}remove(e){if(me(e))return this.children.isEmpty()?new Ye(null):new Ye(null,this.children);{const n=pe(e),r=this.children.get(n);if(r){const i=r.remove(He(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Ye(null):new Ye(this.value,s)}else return this}}get(e){if(me(e))return this.value;{const n=pe(e),r=this.children.get(n);return r?r.get(He(e)):null}}setTree(e,n){if(me(e))return n;{const r=pe(e),s=(this.children.get(r)||new Ye(null)).setTree(He(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Ye(this.value,o)}}fold(e){return this.fold_(ke(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(yt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ke(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(me(e))return null;{const s=pe(e),o=this.children.get(s);return o?o.findOnPath_(He(e),yt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ke(),n)}foreachOnPath_(e,n,r){if(me(e))return this;{this.value&&r(n,this.value);const i=pe(e),s=this.children.get(i);return s?s.foreachOnPath_(He(e),yt(n,i),r):new Ye(null)}}foreach(e){this.foreach_(ke(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(yt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.writeTree_=e}static empty(){return new br(new Ye(null))}}function Wl(t,e,n){if(me(e))return new br(new Ye(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Sn(i,e);return s=s.updateChild(o,n),new br(t.writeTree_.set(i,s))}else{const i=new Ye(n),s=t.writeTree_.setTree(e,i);return new br(s)}}}function mb(t,e,n){let r=t;return Mn(n,(i,s)=>{r=Wl(r,yt(e,i),s)}),r}function gb(t,e){if(me(e))return br.empty();{const n=t.writeTree_.setTree(e,new Ye(null));return new br(n)}}function kv(t,e){return ao(t,e)!=null}function ao(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Sn(n.path,e)):null}function vb(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(lt,(r,i)=>{e.push(new ce(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ce(r,i.value))}),e}function Vi(t,e){if(me(e))return t;{const n=ao(t,e);return n!=null?new br(new Ye(n)):new br(t.writeTree_.subtree(e))}}function Rv(t){return t.writeTree_.isEmpty()}function pa(t,e){return Fk(ke(),t.writeTree_,e)}function Fk(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(D(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Fk(yt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(yt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(t,e){return Vk(e,t)}function sB(t,e,n,r,i){D(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Wl(t.visibleWrites,e,n)),t.lastWriteId=r}function oB(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function aB(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&lB(a,r.path)?i=!1:vr(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return uB(t),!0;if(r.snap)t.visibleWrites=gb(t.visibleWrites,r.path);else{const a=r.children;Mn(a,l=>{t.visibleWrites=gb(t.visibleWrites,yt(r.path,l))})}return!0}else return!1}function lB(t,e){if(t.snap)return vr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&vr(yt(t.path,n),e))return!0;return!1}function uB(t){t.visibleWrites=Uk(t.allWrites,cB,ke()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function cB(t){return t.visible}function Uk(t,e,n){let r=br.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)vr(n,o)?(a=Sn(n,o),r=Wl(r,a,s.snap)):vr(o,n)&&(a=Sn(o,n),r=Wl(r,ke(),s.snap.getChild(a)));else if(s.children){if(vr(n,o))a=Sn(n,o),r=mb(r,a,s.children);else if(vr(o,n))if(a=Sn(o,n),me(a))r=mb(r,ke(),s.children);else{const l=ca(s.children,pe(a));if(l){const u=l.getChild(He(a));r=Wl(r,ke(),u)}}}else throw $a("WriteRecord should have .snap or .children")}}return r}function Bk(t,e,n,r,i){if(!r&&!i){const s=ao(t.visibleWrites,e);if(s!=null)return s;{const o=Vi(t.visibleWrites,e);if(Rv(o))return n;if(n==null&&!kv(o,ke()))return null;{const a=n||re.EMPTY_NODE;return pa(o,a)}}}else{const s=Vi(t.visibleWrites,e);if(!i&&Rv(s))return n;if(!i&&n==null&&!kv(s,ke()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(vr(u.path,e)||vr(e,u.path))},a=Uk(t.allWrites,o,e),l=n||re.EMPTY_NODE;return pa(a,l)}}}function dB(t,e,n){let r=re.EMPTY_NODE;const i=ao(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(lt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Vi(t.visibleWrites,e);return n.forEachChild(lt,(o,a)=>{const l=pa(Vi(s,new Ve(o)),a);r=r.updateImmediateChild(o,l)}),vb(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Vi(t.visibleWrites,e);return vb(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function hB(t,e,n,r,i){D(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=yt(e,n);if(kv(t.visibleWrites,s))return null;{const o=Vi(t.visibleWrites,s);return Rv(o)?i.getChild(n):pa(o,i.getChild(n))}}function fB(t,e,n,r){const i=yt(e,n),s=ao(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Vi(t.visibleWrites,i);return pa(o,r.getNode().getImmediateChild(n))}else return null}function pB(t,e){return ao(t.visibleWrites,e)}function mB(t,e,n,r,i,s,o){let a;const l=Vi(t.visibleWrites,e),u=ao(l,ke());if(u!=null)a=u;else if(n!=null)a=pa(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)d(f,r)!==0&&c.push(f),f=h.getNext();return c}else return[]}function gB(){return{visibleWrites:br.empty(),allWrites:[],lastWriteId:-1}}function Fh(t,e,n,r){return Bk(t.writeTree,t.treePath,e,n,r)}function H0(t,e){return dB(t.writeTree,t.treePath,e)}function yb(t,e,n,r){return hB(t.writeTree,t.treePath,e,n,r)}function Uh(t,e){return pB(t.writeTree,yt(t.treePath,e))}function vB(t,e,n,r,i,s){return mB(t.writeTree,t.treePath,e,n,r,i,s)}function q0(t,e,n){return fB(t.writeTree,t.treePath,e,n)}function zk(t,e){return Vk(yt(t.treePath,e),t.writeTree)}function Vk(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;D(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),D(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Ru(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,ku(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,fa(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Ru(r,e.snapshotNode,i.oldSnap));else throw $a("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const jk=new _B;class K0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Gs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return q0(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Qs(this.viewCache_),s=vB(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(t){return{filter:t}}function EB(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function bB(t,e,n,r,i){const s=new yB;let o,a;if(n.type===yr.OVERWRITE){const u=n;u.source.fromUser?o=Pv(t,e,u.path,u.snap,r,i,s):(D(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!me(u.path),o=Bh(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===yr.MERGE){const u=n;u.source.fromUser?o=SB(t,e,u.path,u.children,r,i,s):(D(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=Nv(t,e,u.path,u.children,r,i,a,s))}else if(n.type===yr.ACK_USER_WRITE){const u=n;u.revert?o=IB(t,e,u.path,r,i,s):o=xB(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===yr.LISTEN_COMPLETE)o=TB(t,e,n.path,r,s);else throw $a("Unknown operation type: "+n.type);const l=s.getChanges();return CB(e,o,l),{viewCache:o,changes:l}}function CB(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Iv(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Mk(Iv(e)))}}function Wk(t,e,n,r,i,s){const o=e.eventCache;if(Uh(r,n)!=null)return e;{let a,l;if(me(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Qs(e),c=u instanceof re?u:re.EMPTY_NODE,d=H0(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=Fh(r,Qs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=pe(n);if(u===".priority"){D(qi(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=yb(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=He(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=yb(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=q0(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return jl(e,a,o.isFullyInitialized()||me(n),t.filter.filtersNodes())}}function Bh(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(me(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=pe(n);if(!l.isCompleteForPath(n)&&qi(n)>1)return e;const p=He(n),E=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?u=c.updatePriority(l.getNode(),E):u=c.updateChild(l.getNode(),f,E,p,jk,null)}const d=Lk(e,u,l.isFullyInitialized()||me(n),c.filtersNodes()),h=new K0(i,d,s);return Wk(t,d,n,i,h,a)}function Pv(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new K0(i,e,s);if(me(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=jl(e,u,!0,t.filter.filtersNodes());else{const d=pe(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=jl(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=He(n),f=a.getNode().getImmediateChild(d);let p;if(me(h))p=r;else{const m=c.getCompleteChild(d);m!=null?xk(h)===".priority"&&m.getChild(Ik(h)).isEmpty()?p=m:p=m.updateChild(h,r):p=re.EMPTY_NODE}if(f.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,h,c,o);l=jl(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function _b(t,e){return t.eventCache.isCompleteForChild(e)}function SB(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=yt(n,l);_b(e,pe(c))&&(a=Pv(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=yt(n,l);_b(e,pe(c))||(a=Pv(t,a,c,u,i,s,o))}),a}function wb(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Nv(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;me(n)?u=r:u=new Ye(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=wb(t,f,h);l=Bh(t,l,new Ve(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),m=wb(t,p,h);l=Bh(t,l,new Ve(d),m,i,s,o,a)}}),l}function xB(t,e,n,r,i,s,o){if(Uh(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(me(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Bh(t,e,n,l.getNode().getChild(n),i,s,a,o);if(me(n)){let u=new Ye(null);return l.getNode().forEachChild(Yo,(c,d)=>{u=u.set(new Ve(c),d)}),Nv(t,e,n,u,i,s,a,o)}else return e}else{let u=new Ye(null);return r.foreach((c,d)=>{const h=yt(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),Nv(t,e,n,u,i,s,a,o)}}function TB(t,e,n,r,i){const s=e.serverCache,o=Lk(e,s.getNode(),s.isFullyInitialized()||me(n),s.isFiltered());return Wk(t,o,n,r,jk,i)}function IB(t,e,n,r,i,s){let o;if(Uh(r,n)!=null)return e;{const a=new K0(r,e,i),l=e.eventCache.getNode();let u;if(me(n)||pe(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Fh(r,Qs(e));else{const d=e.serverCache.getNode();D(d instanceof re,"serverChildren would be complete if leaf node"),c=H0(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=pe(n);let d=q0(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,He(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,re.EMPTY_NODE,He(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Fh(r,Qs(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Uh(r,ke())!=null,jl(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new B0(r.getIndex()),s=KU(r);this.processor_=wB(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(re.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(re.EMPTY_NODE,a.getNode(),null),c=new Gs(l,o.isFullyInitialized(),i.filtersNodes()),d=new Gs(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Uf(d,c),this.eventGenerator_=new eB(this.query_)}get query(){return this.query_}}function RB(t){return t.viewCache_.serverCache.getNode()}function PB(t,e){const n=Qs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!me(e)&&!n.getImmediateChild(pe(e)).isEmpty())?n.getChild(e):null}function Eb(t){return t.eventRegistrations_.length===0}function NB(t,e){t.eventRegistrations_.push(e)}function bb(t,e,n){const r=[];if(n){D(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Cb(t,e,n,r){e.type===yr.MERGE&&e.source.queryId!==null&&(D(Qs(t.viewCache_),"We should always have a full cache before handling merges"),D(Iv(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=bB(t.processor_,i,e,n,r);return EB(t.processor_,s.viewCache),D(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Hk(t,s.changes,s.viewCache.eventCache.getNode(),null)}function AB(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(lt,(s,o)=>{r.push(fa(s,o))}),n.isFullyInitialized()&&r.push(Mk(n.getNode())),Hk(t,r,n.getNode(),e)}function Hk(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return tB(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh;class OB{constructor(){this.views=new Map}}function MB(t){D(!zh,"__referenceConstructor has already been defined"),zh=t}function $B(){return D(zh,"Reference.ts has not been loaded"),zh}function DB(t){return t.views.size===0}function G0(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return D(s!=null,"SyncTree gave us an op for an invalid query."),Cb(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Cb(o,e,n,r));return s}}function LB(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Fh(n,i?r:null),l=!1;a?l=!0:r instanceof re?(a=H0(n,r),l=!1):(a=re.EMPTY_NODE,l=!1);const u=Uf(new Gs(a,l,!1),new Gs(r,i,!1));return new kB(e,u)}return o}function FB(t,e,n,r,i,s){const o=LB(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),NB(o,n),AB(o,n)}function UB(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Ki(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(bb(u,n,r)),Eb(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(bb(l,n,r)),Eb(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Ki(t)&&s.push(new($B())(e._repo,e._path)),{removed:s,events:o}}function qk(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Xo(t,e){let n=null;for(const r of t.views.values())n=n||PB(r,e);return n}function Kk(t,e){if(e._queryParams.loadsAllData())return Bf(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Gk(t,e){return Kk(t,e)!=null}function Ki(t){return Bf(t)!=null}function Bf(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh;function BB(t){D(!Vh,"__referenceConstructor has already been defined"),Vh=t}function zB(){return D(Vh,"Reference.ts has not been loaded"),Vh}let VB=1;class Sb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ye(null),this.pendingWriteTree_=gB(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jB(t,e,n,r,i){return sB(t.pendingWriteTree_,e,n,r,i),i?gc(t,new Ks(Dk(),e,n)):[]}function Fo(t,e,n=!1){const r=oB(t.pendingWriteTree_,e);if(aB(t.pendingWriteTree_,e)){let s=new Ye(null);return r.snap!=null?s=s.set(ke(),!0):Mn(r.children,o=>{s=s.set(new Ve(o),!0)}),gc(t,new Lh(r.path,s,n))}else return[]}function zf(t,e,n){return gc(t,new Ks(V0(),e,n))}function WB(t,e,n){const r=Ye.fromObject(n);return gc(t,new Au(V0(),e,r))}function HB(t,e){return gc(t,new Nu(V0(),e))}function qB(t,e,n){const r=Q0(t,n);if(r){const i=Y0(r),s=i.path,o=i.queryId,a=Sn(s,e),l=new Nu(j0(o),a);return X0(t,s,l)}else return[]}function Av(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||Gk(o,e))){const l=UB(o,e,n,r);DB(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,f)=>Ki(f));if(c&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const f=QB(h);for(let p=0;p<f.length;++p){const m=f[p],E=m.query,g=Jk(t,m);t.listenProvider_.startListening(Hl(E),jh(t,E),g.hashFn,g.onComplete)}}}!d&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(Hl(e),null):u.forEach(h=>{const f=t.queryToTagMap.get(Vf(h));t.listenProvider_.stopListening(Hl(h),f)}))}YB(t,u)}return a}function KB(t,e,n,r){const i=Q0(t,r);if(i!=null){const s=Y0(i),o=s.path,a=s.queryId,l=Sn(o,e),u=new Ks(j0(a),l,n);return X0(t,o,u)}else return[]}function GB(t,e,n,r){const i=Q0(t,r);if(i){const s=Y0(i),o=s.path,a=s.queryId,l=Sn(o,e),u=Ye.fromObject(n),c=new Au(j0(a),l,u);return X0(t,o,c)}else return[]}function xb(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{const p=Sn(h,i);s=s||Xo(f,p),o=o||Ki(f)});let a=t.syncPointTree_.get(i);a?(o=o||Ki(a),s=s||Xo(a,ke())):(a=new OB,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=re.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,p)=>{const m=Xo(p,ke());m&&(s=s.updateImmediateChild(f,m))}));const u=Gk(a,e);if(!u&&!e._queryParams.loadsAllData()){const h=Vf(e);D(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=XB();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}const c=W0(t.pendingWriteTree_,i);let d=FB(a,e,n,c,s,l);if(!u&&!o&&!r){const h=Kk(a,e);d=d.concat(JB(t,e,h))}return d}function Qk(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Sn(o,e),u=Xo(a,l);if(u)return u});return Bk(i,e,s,n,!0)}function gc(t,e){return Yk(e,t.syncPointTree_,null,W0(t.pendingWriteTree_,ke()))}function Yk(t,e,n,r){if(me(t.path))return Xk(t,e,n,r);{const i=e.get(ke());n==null&&i!=null&&(n=Xo(i,ke()));let s=[];const o=pe(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=zk(r,o);s=s.concat(Yk(a,l,u,c))}return i&&(s=s.concat(G0(i,t,r,n))),s}}function Xk(t,e,n,r){const i=e.get(ke());n==null&&i!=null&&(n=Xo(i,ke()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=zk(r,o),c=t.operationForChild(o);c&&(s=s.concat(Xk(c,a,l,u)))}),i&&(s=s.concat(G0(i,t,r,n))),s}function Jk(t,e){const n=e.query,r=jh(t,n);return{hashFn:()=>(RB(e)||re.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?qB(t,n._path,r):HB(t,n._path);{const s=HF(i,n);return Av(t,n,null,s)}}}}function jh(t,e){const n=Vf(e);return t.queryToTagMap.get(n)}function Vf(t){return t._path.toString()+"$"+t._queryIdentifier}function Q0(t,e){return t.tagToQueryMap.get(e)}function Y0(t){const e=t.indexOf("$");return D(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ve(t.substr(0,e))}}function X0(t,e,n){const r=t.syncPointTree_.get(e);D(r,"Missing sync point for query tag that we're tracking");const i=W0(t.pendingWriteTree_,e);return G0(r,n,i,null)}function QB(t){return t.fold((e,n,r)=>{if(n&&Ki(n))return[Bf(n)];{let i=[];return n&&(i=qk(n)),Mn(r,(s,o)=>{i=i.concat(o)}),i}})}function Hl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(zB())(t._repo,t._path):t}function YB(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Vf(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function XB(){return VB++}function JB(t,e,n){const r=e._path,i=jh(t,e),s=Jk(t,n),o=t.listenProvider_.startListening(Hl(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)D(!Ki(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!me(u)&&c&&Ki(c))return[Bf(c).query];{let h=[];return c&&(h=h.concat(qk(c).map(f=>f.query))),Mn(d,(f,p)=>{h=h.concat(p)}),h}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(Hl(c),jh(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new J0(n)}node(){return this.node_}}class Z0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=yt(this.path_,e);return new Z0(this.syncTree_,n)}node(){return Qk(this.syncTree_,this.path_)}}const ZB=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Tb=function(t,e,n){if(!t||typeof t!="object")return t;if(D(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return e4(t[".sv"],e,n);if(typeof t[".sv"]=="object")return t4(t[".sv"],e);D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},e4=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:D(!1,"Unexpected server value: "+t)}},t4=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&D(!1,"Unexpected increment value: "+r);const i=e.node();if(D(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},n4=function(t,e,n,r){return e_(e,new Z0(n,t),r)},r4=function(t,e,n){return e_(t,new J0(e),n)};function e_(t,e,n){const r=t.getPriority().val(),i=Tb(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=Tb(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Tt(a,en(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Tt(i))),o.forEachChild(lt,(a,l)=>{const u=e_(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function n_(t,e){let n=e instanceof Ve?e:new Ve(e),r=t,i=pe(n);for(;i!==null;){const s=ca(r.node.children,i)||{children:{},childCount:0};r=new t_(i,r,s),n=He(n),i=pe(n)}return r}function Ua(t){return t.node.value}function Zk(t,e){t.node.value=e,Ov(t)}function eR(t){return t.node.childCount>0}function i4(t){return Ua(t)===void 0&&!eR(t)}function jf(t,e){Mn(t.node.children,(n,r)=>{e(new t_(n,t,r))})}function tR(t,e,n,r){n&&!r&&e(t),jf(t,i=>{tR(i,e,!0,r)}),n&&r&&e(t)}function s4(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function vc(t){return new Ve(t.parent===null?t.name:vc(t.parent)+"/"+t.name)}function Ov(t){t.parent!==null&&o4(t.parent,t.name,t)}function o4(t,e,n){const r=i4(n),i=fi(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ov(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Ov(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=/[\[\].#$\/\u0000-\u001F\u007F]/,l4=/[\[\].#$\u0000-\u001F\u007F]/,Vm=10*1024*1024,nR=function(t){return typeof t=="string"&&t.length!==0&&!a4.test(t)},rR=function(t){return typeof t=="string"&&t.length!==0&&!l4.test(t)},u4=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),rR(t)},iR=function(t,e,n){const r=n instanceof Ve?new xU(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+fs(r));if(typeof e=="function")throw new Error(t+"contains a function "+fs(r)+" with contents = "+e.toString());if(sk(e))throw new Error(t+"contains "+e.toString()+" "+fs(r));if(typeof e=="string"&&e.length>Vm/3&&Of(e)>Vm)throw new Error(t+"contains a string greater than "+Vm+" utf8 bytes "+fs(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Mn(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!nR(o)))throw new Error(t+" contains an invalid key ("+o+") "+fs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);TU(r,o),iR(t,a,r),IU(r)}),i&&s)throw new Error(t+' contains ".value" child '+fs(r)+" in addition to actual children.")}},sR=function(t,e,n,r){if(!(r&&n===void 0)&&!rR(n))throw new Error(wI(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},c4=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),sR(t,e,n,r)},d4=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!nR(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!u4(n))throw new Error(wI(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function oR(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!L0(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function aR(t,e,n){oR(t,n),lR(t,r=>L0(r,e))}function lo(t,e,n){oR(t,n),lR(t,r=>vr(r,e)||vr(e,r))}function lR(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(f4(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function f4(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();As&&Zt("event: "+n.toString()),pc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="repo_interrupt",m4=25;class g4{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new h4,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Dh(),this.transactionQueueTree_=new t_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function v4(t,e,n){if(t.stats_=$0(t.repoInfo_),t.forceRestClient_||QF())t.server_=new $h(t.repoInfo_,(r,i,s,o)=>{Ib(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>kb(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Pt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ei(t.repoInfo_,e,(r,i,s,o)=>{Ib(t,r,i,s,o)},r=>{kb(t,r)},r=>{_4(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=tU(t.repoInfo_,()=>new ZU(t.stats_,t.server_)),t.infoData_=new GU,t.infoSyncTree_=new Sb({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=zf(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),r_(t,"connected",!1),t.serverSyncTree_=new Sb({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);lo(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function y4(t){const n=t.infoData_.getNode(new Ve(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function uR(t){return ZB({timestamp:y4(t)})}function Ib(t,e,n,r,i){t.dataUpdateCount++;const s=new Ve(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Th(n,u=>en(u));o=GB(t.serverSyncTree_,s,l,i)}else{const l=en(n);o=KB(t.serverSyncTree_,s,l,i)}else if(r){const l=Th(n,u=>en(u));o=WB(t.serverSyncTree_,s,l)}else{const l=en(n);o=zf(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=s_(t,s)),lo(t.eventQueue_,a,o)}function kb(t,e){r_(t,"connected",e),e===!1&&E4(t)}function _4(t,e){Mn(e,(n,r)=>{r_(t,n,r)})}function r_(t,e,n){const r=new Ve("/.info/"+e),i=en(n);t.infoData_.updateSnapshot(r,i);const s=zf(t.infoSyncTree_,r,i);lo(t.eventQueue_,r,s)}function w4(t){return t.nextWriteId_++}function E4(t){cR(t,"onDisconnectEvents");const e=uR(t),n=Dh();Tv(t.onDisconnect_,ke(),(i,s)=>{const o=n4(i,s,t.serverSyncTree_,e);$k(n,i,o)});let r=[];Tv(n,ke(),(i,s)=>{r=r.concat(zf(t.serverSyncTree_,i,s));const o=T4(t,i);s_(t,o)}),t.onDisconnect_=Dh(),lo(t.eventQueue_,ke(),r)}function b4(t,e,n){let r;pe(e._path)===".info"?r=xb(t.infoSyncTree_,e,n):r=xb(t.serverSyncTree_,e,n),aR(t.eventQueue_,e._path,r)}function Rb(t,e,n){let r;pe(e._path)===".info"?r=Av(t.infoSyncTree_,e,n):r=Av(t.serverSyncTree_,e,n),aR(t.eventQueue_,e._path,r)}function C4(t){t.persistentConnection_&&t.persistentConnection_.interrupt(p4)}function cR(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Zt(n,...e)}function dR(t,e,n){return Qk(t.serverSyncTree_,e,n)||re.EMPTY_NODE}function i_(t,e=t.transactionQueueTree_){if(e||Wf(t,e),Ua(e)){const n=fR(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&S4(t,vc(e),n)}else eR(e)&&jf(e,n=>{i_(t,n)})}function S4(t,e,n){const r=n.map(u=>u.currentWriteId),i=dR(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];D(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Sn(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{cR(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(Fo(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Wf(t,n_(t.transactionQueueTree_,e)),i_(t,t.transactionQueueTree_),lo(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)pc(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Un("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}s_(t,e)}},o)}function s_(t,e){const n=hR(t,e),r=vc(n),i=fR(t,n);return x4(t,i,r),r}function x4(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Sn(n,l.path);let c=!1,d;if(D(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(Fo(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=m4)c=!0,d="maxretry",i=i.concat(Fo(t.serverSyncTree_,l.currentWriteId,!0));else{const h=dR(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){iR("transaction failed: Data returned ",f,l.path);let p=en(f);typeof f=="object"&&f!=null&&fi(f,".priority")||(p=p.updatePriority(h.getPriority()));const E=l.currentWriteId,g=uR(t),v=r4(p,h,g);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=w4(t),o.splice(o.indexOf(E),1),i=i.concat(jB(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),i=i.concat(Fo(t.serverSyncTree_,E,!0))}else c=!0,d="nodata",i=i.concat(Fo(t.serverSyncTree_,l.currentWriteId,!0))}lo(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Wf(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)pc(r[a]);i_(t,t.transactionQueueTree_)}function hR(t,e){let n,r=t.transactionQueueTree_;for(n=pe(e);n!==null&&Ua(r)===void 0;)r=n_(r,n),e=He(e),n=pe(e);return r}function fR(t,e){const n=[];return pR(t,e,n),n.sort((r,i)=>r.order-i.order),n}function pR(t,e,n){const r=Ua(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);jf(e,i=>{pR(t,i,n)})}function Wf(t,e){const n=Ua(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Zk(e,n.length>0?n:void 0)}jf(e,r=>{Wf(t,r)})}function T4(t,e){const n=vc(hR(t,e)),r=n_(t.transactionQueueTree_,e);return s4(r,i=>{jm(t,i)}),jm(t,r),tR(r,i=>{jm(t,i)}),n}function jm(t,e){const n=Ua(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(D(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(D(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Fo(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Zk(e,void 0):n.length=s+1,lo(t.eventQueue_,vc(e),i);for(let o=0;o<r.length;o++)pc(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function k4(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Un(`Invalid query segment '${n}' in query '${t}'`)}return e}const Pb=function(t,e){const n=R4(t),r=n.namespace;n.domain==="firebase.com"&&Hs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Hs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||BF();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new JF(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Ve(n.pathString)}},R4=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=I4(t.substring(c,d)));const h=k4(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Pt(this.snapshot.exportVal())}}class gR{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return me(this._path)?null:xk(this._path)}get ref(){return new pi(this._repo,this._path)}get _queryIdentifier(){const e=fb(this._queryParams),n=O0(e);return n==="{}"?"default":n}get _queryObject(){return fb(this._queryParams)}isEqual(e){if(e=Ot(e),!(e instanceof o_))return!1;const n=this._repo===e._repo,r=L0(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+SU(this._path)}}class pi extends o_{constructor(e,n){super(e,n,new z0,!1)}get parent(){const e=Ik(this._path);return e===null?null:new pi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ou{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ve(e),r=Mv(this.ref,e);return new Ou(this._node.getChild(n),r,lt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Ou(i,Mv(this.ref,r),lt)))}hasChild(e){const n=new Ve(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Mv(t,e){return t=Ot(t),pe(t._path)===null?c4("child","path",e,!1):sR("child","path",e,!1),new pi(t._repo,yt(t._path,e))}class a_{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new mR("value",this,new Ou(e.snapshotNode,new pi(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new gR(this,e,n):null}matches(e){return e instanceof a_?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class l_{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new gR(this,e,n):null}createEvent(e,n){D(e.childName!=null,"Child events should have a childName.");const r=Mv(new pi(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new mR(e.type,this,new Ou(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof l_?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function yc(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,u=(c,d)=>{Rb(t._repo,t,a),l(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new P4(n,s||void 0),a=e==="value"?new a_(o):new l_(e,o);return b4(t._repo,t,a),()=>Rb(t._repo,t,a)}function N4(t,e,n,r){return yc(t,"value",e,n,r)}function A4(t,e,n,r){return yc(t,"child_added",e,n,r)}function O4(t,e,n,r){return yc(t,"child_changed",e,n,r)}function M4(t,e,n,r){return yc(t,"child_moved",e,n,r)}function $4(t,e,n,r){return yc(t,"child_removed",e,n,r)}MB(pi);BB(pi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="FIREBASE_DATABASE_EMULATOR_HOST",$v={};let L4=!1;function F4(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Hs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Zt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Pb(s,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[D4]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=Pb(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new Cv(Cv.OWNER):new XF(t.name,t.options,e);d4("Invalid Firebase Database URL",o),me(o.path)||Hs("Database URL must point to the root of a Firebase Database (not including a child path).");const d=B4(a,t,c,new YF(t.name,n));return new z4(d,t)}function U4(t,e){const n=$v[e];(!n||n[t.key]!==t)&&Hs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),C4(t),delete n[t.key]}function B4(t,e,n,r){let i=$v[e.name];i||(i={},$v[e.name]=i);let s=i[t.toURLString()];return s&&Hs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new g4(t,L4,n,r),i[t.toURLString()]=s,s}class z4{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(v4(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new pi(this._repo,ke())),this._rootInternal}_delete(){return this._rootInternal!==null&&(U4(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Hs("Cannot call "+e+" on a deleted database.")}}function V4(t=C0(),e){return La(t,"database").getImmediate({identifier:e})}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(t){$F(rs),sr(new Vn("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return F4(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),pt(YE,XE,t),pt(YE,XE,"esm2017")}ei.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ei.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};j4();var W4="firebase",H4="9.9.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pt(W4,H4,"app");var q4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W,u_=u_||{},se=q4||self;function Wh(){}function Dv(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function _c(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function K4(t){return Object.prototype.hasOwnProperty.call(t,Wm)&&t[Wm]||(t[Wm]=++G4)}var Wm="closure_uid_"+(1e9*Math.random()>>>0),G4=0;function Q4(t,e,n){return t.call.apply(t.bind,arguments)}function Y4(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Vt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Vt=Q4:Vt=Y4,Vt.apply(null,arguments)}function cd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function qt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function is(){this.s=this.s,this.o=this.o}var X4=0;is.prototype.s=!1;is.prototype.na=function(){!this.s&&(this.s=!0,this.M(),X4!=0)&&K4(this)};is.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},yR=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i=typeof t=="string"?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function J4(t){e:{var e=jz;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function Nb(t){return Array.prototype.concat.apply([],arguments)}function c_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Hh(t){return/^[\s\xa0]*$/.test(t)}var Ab=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function cn(t,e){return t.indexOf(e)!=-1}function Hm(t,e){return t<e?-1:t>e?1:0}var dn;e:{var Ob=se.navigator;if(Ob){var Mb=Ob.userAgent;if(Mb){dn=Mb;break e}}dn=""}function d_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function _R(t){const e={};for(const n in t)e[n]=t[n];return e}var $b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wR(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<$b.length;s++)n=$b[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function h_(t){return h_[" "](t),t}h_[" "]=Wh;function Z4(t){var e=nz;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var ez=cn(dn,"Opera"),ma=cn(dn,"Trident")||cn(dn,"MSIE"),ER=cn(dn,"Edge"),Lv=ER||ma,bR=cn(dn,"Gecko")&&!(cn(dn.toLowerCase(),"webkit")&&!cn(dn,"Edge"))&&!(cn(dn,"Trident")||cn(dn,"MSIE"))&&!cn(dn,"Edge"),tz=cn(dn.toLowerCase(),"webkit")&&!cn(dn,"Edge");function CR(){var t=se.document;return t?t.documentMode:void 0}var qh;e:{var qm="",Km=function(){var t=dn;if(bR)return/rv:([^\);]+)(\)|;)/.exec(t);if(ER)return/Edge\/([\d\.]+)/.exec(t);if(ma)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(tz)return/WebKit\/(\S+)/.exec(t);if(ez)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Km&&(qm=Km?Km[1]:""),ma){var Gm=CR();if(Gm!=null&&Gm>parseFloat(qm)){qh=String(Gm);break e}}qh=qm}var nz={};function rz(){return Z4(function(){let t=0;const e=Ab(String(qh)).split("."),n=Ab("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Hm(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Hm(i[2].length==0,s[2].length==0)||Hm(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Fv;if(se.document&&ma){var Db=CR();Fv=Db||parseInt(qh,10)||void 0}else Fv=void 0;var iz=Fv,sz=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{se.addEventListener("test",Wh,e),se.removeEventListener("test",Wh,e)}catch{}return t}();function nn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}nn.prototype.h=function(){this.defaultPrevented=!0};function Mu(t,e){if(nn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(bR){e:{try{h_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:oz[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Mu.Z.h.call(this)}}qt(Mu,nn);var oz={2:"touch",3:"pen",4:"mouse"};Mu.prototype.h=function(){Mu.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var wc="closure_listenable_"+(1e6*Math.random()|0),az=0;function lz(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++az,this.ca=this.fa=!1}function Hf(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function qf(t){this.src=t,this.g={},this.h=0}qf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Bv(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new lz(e,this.src,s,!!r,i),e.fa=n,t.push(e)),e};function Uv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=vR(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Hf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Bv(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}var f_="closure_lm_"+(1e6*Math.random()|0),Qm={};function SR(t,e,n,r,i){if(r&&r.once)return TR(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)SR(t,e[s],n,r,i);return null}return n=g_(n),t&&t[wc]?t.N(e,n,_c(r)?!!r.capture:!!r,i):xR(t,e,n,!1,r,i)}function xR(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=_c(i)?!!i.capture:!!i,a=m_(t);if(a||(t[f_]=a=new qf(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=uz(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)sz||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(kR(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function uz(){function t(n){return e.call(t.src,t.listener,n)}var e=cz;return t}function TR(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)TR(t,e[s],n,r,i);return null}return n=g_(n),t&&t[wc]?t.O(e,n,_c(r)?!!r.capture:!!r,i):xR(t,e,n,!0,r,i)}function IR(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)IR(t,e[s],n,r,i);else r=_c(r)?!!r.capture:!!r,n=g_(n),t&&t[wc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Bv(s,n,r,i),-1<n&&(Hf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=m_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Bv(e,n,r,i)),(n=-1<t?e[t]:null)&&p_(n))}function p_(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[wc])Uv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(kR(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=m_(e))?(Uv(n,t),n.h==0&&(n.src=null,e[f_]=null)):Hf(t)}}}function kR(t){return t in Qm?Qm[t]:Qm[t]="on"+t}function cz(t,e){if(t.ca)t=!0;else{e=new Mu(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&p_(t),t=n.call(r,e)}return t}function m_(t){return t=t[f_],t instanceof qf?t:null}var Ym="__closure_events_fn_"+(1e9*Math.random()>>>0);function g_(t){return typeof t=="function"?t:(t[Ym]||(t[Ym]=function(e){return t.handleEvent(e)}),t[Ym])}function Mt(){is.call(this),this.i=new qf(this),this.P=this,this.I=null}qt(Mt,is);Mt.prototype[wc]=!0;Mt.prototype.removeEventListener=function(t,e,n,r){IR(this,t,e,n,r)};function jt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new nn(e,t);else if(e instanceof nn)e.target=e.target||t;else{var i=e;e=new nn(r,t),wR(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=dd(o,r,!0,e)&&i}if(o=e.g=t,i=dd(o,r,!0,e)&&i,i=dd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=dd(o,r,!1,e)&&i}Mt.prototype.M=function(){if(Mt.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Hf(n[r]);delete t.g[e],t.h--}}this.I=null};Mt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Mt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function dd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&Uv(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var v_=se.JSON.stringify;function dz(){var t=PR;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class hz{constructor(){this.h=this.g=null}add(e,n){const r=RR.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var RR=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new fz,t=>t.reset());class fz{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function pz(t){se.setTimeout(()=>{throw t},0)}function y_(t,e){zv||mz(),Vv||(zv(),Vv=!0),PR.add(t,e)}var zv;function mz(){var t=se.Promise.resolve(void 0);zv=function(){t.then(gz)}}var Vv=!1,PR=new hz;function gz(){for(var t;t=dz();){try{t.h.call(t.g)}catch(n){pz(n)}var e=RR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Vv=!1}function Kf(t,e){Mt.call(this),this.h=t||1,this.g=e||se,this.j=Vt(this.kb,this),this.l=Date.now()}qt(Kf,Mt);W=Kf.prototype;W.da=!1;W.S=null;W.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),jt(this,"tick"),this.da&&(__(this),this.start()))}};W.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function __(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}W.M=function(){Kf.Z.M.call(this),__(this),delete this.g};function w_(t,e,n){if(typeof t=="function")n&&(t=Vt(t,n));else if(t&&typeof t.handleEvent=="function")t=Vt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:se.setTimeout(t,e||0)}function NR(t){t.g=w_(()=>{t.g=null,t.i&&(t.i=!1,NR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class vz extends is{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:NR(this)}M(){super.M(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $u(t){is.call(this),this.h=t,this.g={}}qt($u,is);var Lb=[];function AR(t,e,n,r){Array.isArray(n)||(n&&(Lb[0]=n.toString()),n=Lb);for(var i=0;i<n.length;i++){var s=SR(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function OR(t){d_(t.g,function(e,n){this.g.hasOwnProperty(n)&&p_(e)},t),t.g={}}$u.prototype.M=function(){$u.Z.M.call(this),OR(this)};$u.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Gf(){this.g=!0}Gf.prototype.Aa=function(){this.g=!1};function yz(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function _z(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Uo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Ez(t,n)+(r?" "+r:"")})}function wz(t,e){t.info(function(){return"TIMEOUT: "+e})}Gf.prototype.info=function(){};function Ez(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return v_(n)}catch{return e}}var uo={},Fb=null;function Qf(){return Fb=Fb||new Mt}uo.Ma="serverreachability";function MR(t){nn.call(this,uo.Ma,t)}qt(MR,nn);function Du(t){const e=Qf();jt(e,new MR(e))}uo.STAT_EVENT="statevent";function $R(t,e){nn.call(this,uo.STAT_EVENT,t),this.stat=e}qt($R,nn);function hn(t){const e=Qf();jt(e,new $R(e,t))}uo.Na="timingevent";function DR(t,e){nn.call(this,uo.Na,t),this.size=e}qt(DR,nn);function Ec(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){t()},e)}var Yf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},LR={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function E_(){}E_.prototype.h=null;function Ub(t){return t.h||(t.h=t.i())}function FR(){}var bc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function b_(){nn.call(this,"d")}qt(b_,nn);function C_(){nn.call(this,"c")}qt(C_,nn);var jv;function Xf(){}qt(Xf,E_);Xf.prototype.g=function(){return new XMLHttpRequest};Xf.prototype.i=function(){return{}};jv=new Xf;function Cc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new $u(this),this.P=bz,t=Lv?125:void 0,this.W=new Kf(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new UR}function UR(){this.i=null,this.g="",this.h=!1}var bz=45e3,Wv={},Kh={};W=Cc.prototype;W.setTimeout=function(t){this.P=t};function Hv(t,e,n){t.K=1,t.v=Zf(ai(e)),t.s=n,t.U=!0,BR(t,null)}function BR(t,e){t.F=Date.now(),Sc(t),t.A=ai(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),KR(n.h,"t",r),t.C=0,n=t.l.H,t.h=new UR,t.g=fP(t.l,n?e:null,!t.s),0<t.O&&(t.L=new vz(Vt(t.Ia,t,t.g),t.O)),AR(t.V,t.g,"readystatechange",t.gb),e=t.H?_R(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Du(),yz(t.j,t.u,t.A,t.m,t.X,t.s)}W.gb=function(t){t=t.target;const e=this.L;e&&Jr(t)==3?e.l():this.Ia(t)};W.Ia=function(t){try{if(t==this.g)e:{const c=Jr(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>c)&&(c!=3||Lv||this.g&&(this.h.h||this.g.ga()||jb(this.g)))){this.I||c!=4||e==7||(e==8||0>=d?Du(3):Du(2)),Jf(this);var n=this.g.ba();this.N=n;t:if(zR(this)){var r=jb(this.g);t="";var i=r.length,s=Jr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cs(this),ql(this);var o="";break t}this.h.i=new se.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,_z(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hh(a)){var u=a;break t}}u=null}if(n=u)Uo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qv(this,n);else{this.i=!1,this.o=3,hn(12),Cs(this),ql(this);break e}}this.U?(VR(this,c,o),Lv&&this.i&&c==3&&(AR(this.V,this.W,"tick",this.fb),this.W.start())):(Uo(this.j,this.m,o,null),qv(this,o)),c==4&&Cs(this),this.i&&!this.I&&(c==4?uP(this.l,this):(this.i=!1,Sc(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,hn(12)):(this.o=0,hn(13)),Cs(this),ql(this)}}}catch{}finally{}};function zR(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function VR(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=Cz(t,n),i==Kh){e==4&&(t.o=4,hn(14),r=!1),Uo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Wv){t.o=4,hn(15),Uo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Uo(t.j,t.m,i,null),qv(t,i);zR(t)&&i!=Kh&&i!=Wv&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,hn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),A_(e),e.L=!0,hn(11))):(Uo(t.j,t.m,n,"[Invalid Chunked Response]"),Cs(t),ql(t))}W.fb=function(){if(this.g){var t=Jr(this.g),e=this.g.ga();this.C<e.length&&(Jf(this),VR(this,t,e),this.i&&t!=4&&Sc(this))}};function Cz(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Kh:(n=Number(e.substring(n,r)),isNaN(n)?Wv:(r+=1,r+n>e.length?Kh:(e=e.substr(r,n),t.C=r+n,e)))}W.cancel=function(){this.I=!0,Cs(this)};function Sc(t){t.Y=Date.now()+t.P,jR(t,t.P)}function jR(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ec(Vt(t.eb,t),e)}function Jf(t){t.B&&(se.clearTimeout(t.B),t.B=null)}W.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(wz(this.j,this.A),this.K!=2&&(Du(),hn(17)),Cs(this),this.o=2,ql(this)):jR(this,this.Y-t)};function ql(t){t.l.G==0||t.I||uP(t.l,t)}function Cs(t){Jf(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,__(t.W),OR(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function qv(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Kv(n.i,t))){if(n.I=t.N,!t.J&&Kv(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Xh(n),np(n);else break e;N_(n),hn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Ec(Vt(n.ab,n),6e3));if(1>=YR(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Ss(n,11)}else if((t.J||n.g==t)&&Xh(n),!Hh(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];const c=u[3];c!=null&&(n.ma=c,n.h.info("VER="+n.ma));const d=u[4];d!=null&&(n.za=d,n.h.info("SVER="+n.za));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(cn(p,"spdy")||cn(p,"quic")||cn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(T_(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,et(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var o=t;if(r.oa=hP(r,r.H?r.la:null,r.W),o.J){XR(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(Jf(a),Sc(a)),r.g=o}else aP(r);0<n.l.length&&rp(n)}else u[0]!="stop"&&u[0]!="close"||Ss(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ss(n,7):P_(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}Du(4)}catch{}}function Sz(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Dv(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function S_(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Dv(t)||typeof t=="string")yR(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Dv(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=Sz(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Ba(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ba)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}W=Ba.prototype;W.R=function(){x_(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};W.T=function(){return x_(this),this.g.concat()};function x_(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ys(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],Ys(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}W.get=function(t,e){return Ys(this.h,t)?this.h[t]:e};W.set=function(t,e){Ys(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};W.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};function Ys(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var WR=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xz(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Xs(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Xs){this.g=e!==void 0?e:t.g,Gh(this,t.j),this.s=t.s,Qh(this,t.i),Yh(this,t.m),this.l=t.l,e=t.h;var n=new Lu;n.i=e.i,e.g&&(n.g=new Ba(e.g),n.h=e.h),Bb(this,n),this.o=t.o}else t&&(n=String(t).match(WR))?(this.g=!!e,Gh(this,n[1]||"",!0),this.s=Kl(n[2]||""),Qh(this,n[3]||"",!0),Yh(this,n[4]),this.l=Kl(n[5]||"",!0),Bb(this,n[6]||"",!0),this.o=Kl(n[7]||"")):(this.g=!!e,this.h=new Lu(null,this.g))}Xs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Tl(e,zb,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Tl(e,zb,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Tl(n,n.charAt(0)=="/"?Pz:Rz,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Tl(n,Az)),t.join("")};function ai(t){return new Xs(t)}function Gh(t,e,n){t.j=n?Kl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Qh(t,e,n){t.i=n?Kl(e,!0):e}function Yh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Bb(t,e,n){e instanceof Lu?(t.h=e,Oz(t.h,t.g)):(n||(e=Tl(e,Nz)),t.h=new Lu(e,t.g))}function et(t,e,n){t.h.set(e,n)}function Zf(t){return et(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Tz(t){return t instanceof Xs?ai(t):new Xs(t,void 0)}function Iz(t,e,n,r){var i=new Xs(null,void 0);return t&&Gh(i,t),e&&Qh(i,e),n&&Yh(i,n),r&&(i.l=r),i}function Kl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Tl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,kz),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function kz(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var zb=/[#\/\?@]/g,Rz=/[#\?:]/g,Pz=/[#\?]/g,Nz=/[#\?@]/g,Az=/#/g;function Lu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ss(t){t.g||(t.g=new Ba,t.h=0,t.i&&xz(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}W=Lu.prototype;W.add=function(t,e){ss(this),this.i=null,t=za(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function HR(t,e){ss(t),e=za(t,e),Ys(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Ys(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&x_(t)))}function qR(t,e){return ss(t),e=za(t,e),Ys(t.g.h,e)}W.forEach=function(t,e){ss(this),this.g.forEach(function(n,r){yR(n,function(i){t.call(e,i,r,this)},this)},this)};W.T=function(){ss(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n};W.R=function(t){ss(this);var e=[];if(typeof t=="string")qR(this,t)&&(e=Nb(e,this.g.get(za(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Nb(e,t[n])}return e};W.set=function(t,e){return ss(this),this.i=null,t=za(this,t),qR(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};W.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function KR(t,e,n){HR(t,e),0<n.length&&(t.i=null,t.g.set(za(t,e),c_(n)),t.h+=n.length)}W.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;r[s]!==""&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};function za(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Oz(t,e){e&&!t.j&&(ss(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(HR(this,r),KR(this,i,n))},t)),t.j=e}var Mz=class{constructor(t,e){this.h=t,this.g=e}};function GR(t){this.l=t||$z,se.PerformanceNavigationTiming?(t=se.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(se.g&&se.g.Ea&&se.g.Ea()&&se.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var $z=10;function QR(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function YR(t){return t.h?1:t.g?t.g.size:0}function Kv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function T_(t,e){t.g?t.g.add(e):t.h=e}function XR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}GR.prototype.cancel=function(){if(this.i=JR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function JR(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return c_(t.i)}function I_(){}I_.prototype.stringify=function(t){return se.JSON.stringify(t,void 0)};I_.prototype.parse=function(t){return se.JSON.parse(t,void 0)};function Dz(){this.g=new I_}function Lz(t,e,n){const r=n||"";try{S_(t,function(i,s){let o=i;_c(i)&&(o=v_(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Fz(t,e){const n=new Gf;if(se.Image){const r=new Image;r.onload=cd(hd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=cd(hd,n,r,"TestLoadImage: error",!1,e),r.onabort=cd(hd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=cd(hd,n,r,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function hd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function xc(t){this.l=t.$b||null,this.j=t.ib||!1}qt(xc,E_);xc.prototype.g=function(){return new ep(this.l,this.j)};xc.prototype.i=function(t){return function(){return t}}({});function ep(t,e){Mt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=k_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qt(ep,Mt);var k_=0;W=ep.prototype;W.open=function(t,e){if(this.readyState!=k_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Fu(this)};W.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||se).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tc(this)),this.readyState=k_};W.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Fu(this)),this.g&&(this.readyState=3,Fu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ZR(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function ZR(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}W.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Tc(this):Fu(this),this.readyState==3&&ZR(this)}};W.Ua=function(t){this.g&&(this.response=this.responseText=t,Tc(this))};W.Ta=function(t){this.g&&(this.response=t,Tc(this))};W.ha=function(){this.g&&Tc(this)};function Tc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Fu(t)}W.setRequestHeader=function(t,e){this.v.append(t,e)};W.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};W.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Fu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ep.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Uz=se.JSON.parse;function mt(t){Mt.call(this),this.headers=new Ba,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=eP,this.K=this.L=!1}qt(mt,Mt);var eP="",Bz=/^https?$/i,zz=["POST","PUT"];W=mt.prototype;W.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():jv.g(),this.C=this.u?Ub(this.u):Ub(jv),this.g.onreadystatechange=Vt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){Vb(this,s);return}t=n||"";const i=new Ba(this.headers);r&&S_(r,function(s,o){i.set(o,s)}),r=J4(i.T()),n=se.FormData&&t instanceof se.FormData,!(0<=vR(zz,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{rP(this),0<this.B&&((this.K=Vz(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vt(this.pa,this)):this.A=w_(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Vb(this,s)}};function Vz(t){return ma&&rz()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function jz(t){return t.toLowerCase()=="content-type"}W.pa=function(){typeof u_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jt(this,"timeout"),this.abort(8))};function Vb(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,tP(t),tp(t)}function tP(t){t.D||(t.D=!0,jt(t,"complete"),jt(t,"error"))}W.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,jt(this,"complete"),jt(this,"abort"),tp(this))};W.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tp(this,!0)),mt.Z.M.call(this)};W.Fa=function(){this.s||(this.F||this.v||this.l?nP(this):this.cb())};W.cb=function(){nP(this)};function nP(t){if(t.h&&typeof u_<"u"&&(!t.C[1]||Jr(t)!=4||t.ba()!=2)){if(t.v&&Jr(t)==4)w_(t.Fa,0,t);else if(jt(t,"readystatechange"),Jr(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(WR)[1]||null;if(!i&&se.self&&se.self.location){var s=se.self.location.protocol;i=s.substr(0,s.length-1)}r=!Bz.test(i?i.toLowerCase():"")}n=r}if(n)jt(t,"complete"),jt(t,"success");else{t.m=6;try{var o=2<Jr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",tP(t)}}finally{tp(t)}}}}function tp(t,e){if(t.g){rP(t);const n=t.g,r=t.C[0]?Wh:null;t.g=null,t.C=null,e||jt(t,"ready");try{n.onreadystatechange=r}catch{}}}function rP(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(se.clearTimeout(t.A),t.A=null)}function Jr(t){return t.g?t.g.readyState:0}W.ba=function(){try{return 2<Jr(this)?this.g.status:-1}catch{return-1}};W.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};W.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Uz(e)}};function jb(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case eP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}W.Da=function(){return this.m};W.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function Wz(t){let e="";return d_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function R_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Wz(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):et(t,e,n))}function ml(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function iP(t){this.za=0,this.l=[],this.h=new Gf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ml("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ml("baseRetryDelayMs",5e3,t),this.$a=ml("retryDelaySeedMs",1e4,t),this.Ya=ml("forwardChannelMaxRetries",2,t),this.ra=ml("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new GR(t&&t.concurrentRequestLimit),this.Ca=new Dz,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}W=iP.prototype;W.ma=8;W.G=1;function P_(t){if(sP(t),t.G==3){var e=t.V++,n=ai(t.F);et(n,"SID",t.J),et(n,"RID",e),et(n,"TYPE","terminate"),Ic(t,n),e=new Cc(t,t.h,e,void 0),e.K=2,e.v=Zf(ai(n)),n=!1,se.navigator&&se.navigator.sendBeacon&&(n=se.navigator.sendBeacon(e.v.toString(),"")),!n&&se.Image&&(new Image().src=e.v,n=!0),n||(e.g=fP(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Sc(e)}dP(t)}W.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function np(t){t.g&&(A_(t),t.g.cancel(),t.g=null)}function sP(t){np(t),t.u&&(se.clearTimeout(t.u),t.u=null),Xh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&se.clearTimeout(t.m),t.m=null)}function Xm(t,e){t.l.push(new Mz(t.Za++,e)),t.G==3&&rp(t)}function rp(t){QR(t.i)||t.m||(t.m=!0,y_(t.Ha,t),t.C=0)}function Hz(t,e){return YR(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Ec(Vt(t.Ha,t,e),cP(t,t.C)),t.C++,!0)}W.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Cc(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=_R(s),wR(s,this.P)):s=this.P),this.o===null&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=oP(this,i,e),n=ai(this.F),et(n,"RID",t),et(n,"CVER",22),this.D&&et(n,"X-HTTP-Session-Id",this.D),Ic(this,n),this.o&&s&&R_(n,this.o,s),T_(this.i,i),this.Ra&&et(n,"TYPE","init"),this.ja?(et(n,"$req",e),et(n,"SID","null"),i.$=!0,Hv(i,n,null)):Hv(i,n,e),this.G=2}}else this.G==3&&(t?Wb(this,t):this.l.length==0||QR(this.i)||Wb(this))};function Wb(t,e){var n;e?n=e.m:n=t.V++;const r=ai(t.F);et(r,"SID",t.J),et(r,"RID",n),et(r,"AID",t.U),Ic(t,r),t.o&&t.s&&R_(r,t.o,t.s),n=new Cc(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=oP(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),T_(t.i,n),Hv(n,r,e)}function Ic(t,e){t.j&&S_({},function(n,r){et(e,r,n)})}function oP(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Vt(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{Lz(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function aP(t){t.g||t.u||(t.Y=1,y_(t.Ga,t),t.A=0)}function N_(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Ec(Vt(t.Ga,t),cP(t,t.A)),t.A++,!0)}W.Ga=function(){if(this.u=null,lP(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ec(Vt(this.bb,this),t)}};W.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,hn(10),np(this),lP(this))};function A_(t){t.B!=null&&(se.clearTimeout(t.B),t.B=null)}function lP(t){t.g=new Cc(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=ai(t.oa);et(e,"RID","rpc"),et(e,"SID",t.J),et(e,"CI",t.N?"0":"1"),et(e,"AID",t.U),Ic(t,e),et(e,"TYPE","xmlhttp"),t.o&&t.s&&R_(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Zf(ai(e)),n.s=null,n.U=!0,BR(n,t)}W.ab=function(){this.v!=null&&(this.v=null,np(this),N_(this),hn(19))};function Xh(t){t.v!=null&&(se.clearTimeout(t.v),t.v=null)}function uP(t,e){var n=null;if(t.g==e){Xh(t),A_(t),t.g=null;var r=2}else if(Kv(t.i,e))n=e.D,XR(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Qf(),jt(r,new DR(r,n)),rp(t)}else aP(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&Hz(t,e)||r==2&&N_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ss(t,5);break;case 4:Ss(t,10);break;case 3:Ss(t,6);break;default:Ss(t,2)}}}function cP(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Ss(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=Vt(t.jb,t);n||(n=new Xs("//www.google.com/images/cleardot.gif"),se.location&&se.location.protocol=="http"||Gh(n,"https"),Zf(n)),Fz(n.toString(),r)}else hn(2);t.G=0,t.j&&t.j.va(e),dP(t),sP(t)}W.jb=function(t){t?(this.h.info("Successfully pinged google.com"),hn(2)):(this.h.info("Failed to ping google.com"),hn(1))};function dP(t){t.G=0,t.I=-1,t.j&&((JR(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,c_(t.l),t.l.length=0),t.j.ua())}function hP(t,e,n){let r=Tz(n);if(r.i!="")e&&Qh(r,e+"."+r.i),Yh(r,r.m);else{const i=se.location;r=Iz(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&d_(t.aa,function(i,s){et(r,s,i)}),e=t.D,n=t.sa,e&&n&&et(r,e,n),et(r,"VER",t.ma),Ic(t,r),r}function fP(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new mt(new xc({ib:!0})):new mt(t.qa),e.L=t.H,e}function pP(){}W=pP.prototype;W.xa=function(){};W.wa=function(){};W.va=function(){};W.ua=function(){};W.Oa=function(){};function Jh(){if(ma&&!(10<=Number(iz)))throw Error("Environmental error: no available transport.")}Jh.prototype.g=function(t,e){return new jn(t,e)};function jn(t,e){Mt.call(this),this.g=new iP(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Hh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hh(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Va(this)}qt(jn,Mt);jn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),y_(Vt(t.hb,t,e))),hn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=hP(t,null,t.W),rp(t)};jn.prototype.close=function(){P_(this.g)};jn.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,Xm(this.g,e)}else this.v?(e={},e.__data__=v_(t),Xm(this.g,e)):Xm(this.g,t)};jn.prototype.M=function(){this.g.j=null,delete this.j,P_(this.g),delete this.g,jn.Z.M.call(this)};function mP(t){b_.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}qt(mP,b_);function gP(){C_.call(this),this.status=1}qt(gP,C_);function Va(t){this.g=t}qt(Va,pP);Va.prototype.xa=function(){jt(this.g,"a")};Va.prototype.wa=function(t){jt(this.g,new mP(t))};Va.prototype.va=function(t){jt(this.g,new gP)};Va.prototype.ua=function(){jt(this.g,"b")};Jh.prototype.createWebChannel=Jh.prototype.g;jn.prototype.send=jn.prototype.u;jn.prototype.open=jn.prototype.m;jn.prototype.close=jn.prototype.close;Yf.NO_ERROR=0;Yf.TIMEOUT=8;Yf.HTTP_ERROR=6;LR.COMPLETE="complete";FR.EventType=bc;bc.OPEN="a";bc.CLOSE="b";bc.ERROR="c";bc.MESSAGE="d";Mt.prototype.listen=Mt.prototype.N;mt.prototype.listenOnce=mt.prototype.O;mt.prototype.getLastError=mt.prototype.La;mt.prototype.getLastErrorCode=mt.prototype.Da;mt.prototype.getStatus=mt.prototype.ba;mt.prototype.getResponseJson=mt.prototype.Qa;mt.prototype.getResponseText=mt.prototype.ga;mt.prototype.send=mt.prototype.ea;var qz=function(){return new Jh},Kz=function(){return Qf()},Jm=Yf,Gz=LR,Qz=uo,Hb={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Yz=xc,fd=FR,Xz=mt;const qb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ja="9.9.4";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new lc("@firebase/firestore");function Kb(){return Js.logLevel}function Z(t,...e){if(Js.logLevel<=Se.DEBUG){const n=e.map(O_);Js.debug(`Firestore (${ja}): ${t}`,...n)}}function li(t,...e){if(Js.logLevel<=Se.ERROR){const n=e.map(O_);Js.error(`Firestore (${ja}): ${t}`,...n)}}function Gb(t,...e){if(Js.logLevel<=Se.WARN){const n=e.map(O_);Js.warn(`Firestore (${ja}): ${t}`,...n)}}function O_(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${ja}) INTERNAL ASSERTION FAILED: `+t;throw li(e),new Error(e)}function Ke(t,e){t||le()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_n.UNAUTHENTICATED))}shutdown(){}}class e3{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Os,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Os)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new Jz(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new _n(e)}}class t3{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ke(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class n3{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new t3(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i3{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.A=n.token,new r3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=s3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function ga(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new wt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new wt(0,0))}static max(){return new de(new wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Uu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Uu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class tt extends Uu{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const o3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Uu{construct(e,n,r){return new tn(e,n,r)}static isValidIdentifier(e){return o3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ee(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ee(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ee(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(tt.fromString(e))}static fromName(e){return new te(tt.fromString(e).popFirst(5))}static empty(){return new te(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new tt(e.slice()))}}function a3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new wt(n+1,0):new wt(n,r));return new Gi(i,te.empty(),e)}function l3(t){return new Gi(t.readTime,t.key,-1)}class Gi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gi(de.min(),te.empty(),-1)}static max(){return new Gi(de.max(),te.empty(),-1)}}function u3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(t){if(t.code!==A.FAILED_PRECONDITION||t.message!==c3)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Rc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */M_.at=-1;class Ct{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pd(this.root,e,this.comparator,!0)}}class pd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:Ut.RED,this.left=i!=null?i:Ut.EMPTY,this.right=s!=null?s:Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ut(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ut(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yb(this.data.getIterator())}getIteratorFrom(e){return new Yb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class Yb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Or([])}unionWith(e){let n=new Et(tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ga(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Ht(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const h3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(t){if(Ke(!!t),typeof t=="string"){let e=0;const n=h3.exec(t);if(Ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function va(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function wP(t){const e=t.mapValue.fields.__previous_value__;return _P(e)?wP(e):e}function Bu(t){const e=Qi(t.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class zu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zu&&e.projectId===this.projectId&&e.database===this.database}}function ip(t){return t==null}function Zh(t){return t===0&&1/t==-1/0}function p3(t){return typeof t=="number"&&Number.isInteger(t)&&!Zh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_P(t)?4:m3(t)?9007199254740991:10:le()}function Fr(t,e){if(t===e)return!0;const n=Zs(t);if(n!==Zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bu(t).isEqual(Bu(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Qi(r.timestampValue),o=Qi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return va(r.bytesValue).isEqual(va(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return dt(r.geoPointValue.latitude)===dt(i.geoPointValue.latitude)&&dt(r.geoPointValue.longitude)===dt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return dt(r.integerValue)===dt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=dt(r.doubleValue),o=dt(i.doubleValue);return s===o?Zh(s)===Zh(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ga(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Qb(s)!==Qb(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Fr(s[a],o[a])))return!1;return!0}(t,e);default:return le()}}function Vu(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function ya(t,e){if(t===e)return 0;const n=Zs(t),r=Zs(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=dt(i.integerValue||i.doubleValue),a=dt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Xb(t.timestampValue,e.timestampValue);case 4:return Xb(Bu(t),Bu(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(i,s){const o=va(i),a=va(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Oe(o[l],a[l]);if(u!==0)return u}return Oe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Oe(dt(i.latitude),dt(s.latitude));return o!==0?o:Oe(dt(i.longitude),dt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=ya(o[l],a[l]);if(u)return u}return Oe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===md.mapValue&&s===md.mapValue)return 0;if(i===md.mapValue)return 1;if(s===md.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Oe(a[c],u[c]);if(d!==0)return d;const h=ya(o[a[c]],l[u[c]]);if(h!==0)return h}return Oe(a.length,u.length)}(t.mapValue,e.mapValue);default:throw le()}}function Xb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Qi(t),r=Qi(e),i=Oe(n.seconds,r.seconds);return i!==0?i:Oe(n.nanos,r.nanos)}function Jo(t){return Gv(t)}function Gv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Qi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?va(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,te.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Gv(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Gv(r.fields[a])}`;return s+"}"}(t.mapValue):le();var e,n}function Qv(t){return!!t&&"integerValue"in t}function $_(t){return!!t&&"arrayValue"in t}function Jb(t){return!!t&&"nullValue"in t}function Zb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wd(t){return!!t&&"mapValue"in t}function Gl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Gl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function m3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(n)}setAll(e){let n=tn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Gl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Wd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Jn(Gl(this.value))}}function EP(t){const e=[];return Wa(t.fields,(n,r)=>{const i=new tn([n]);if(Wd(r)){const s=EP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Bt(e,0,de.min(),de.min(),Jn.empty(),0)}static newFoundDocument(e,n,r){return new Bt(e,1,n,de.min(),r,0)}static newNoDocument(e,n){return new Bt(e,2,n,de.min(),Jn.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,de.min(),Jn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function eC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new g3(t,e,n,r,i,s,o)}function D_(t){const e=ue(t);if(e.ht===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Jo(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ip(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Jo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Jo(r)).join(",")),e.ht=n}return e.ht}function v3(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Jo(r.value)}`;var r}).join(", ")}]`),ip(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Jo(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Jo(n)).join(",")),`Target(${e})`}function L_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!x3(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Fr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nC(t.startAt,e.startAt)&&nC(t.endAt,e.endAt)}function Yv(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Tn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.lt(e,n,r):new y3(e,n,r):n==="array-contains"?new E3(e,r):n==="in"?new b3(e,r):n==="not-in"?new C3(e,r):n==="array-contains-any"?new S3(e,r):new Tn(e,n,r)}static lt(e,n,r){return n==="in"?new _3(e,r):new w3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.ft(ya(n,this.value)):n!==null&&Zs(this.value)===Zs(n)&&this.ft(ya(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class y3 extends Tn{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.ft(n)}}class _3 extends Tn{constructor(e,n){super(e,"in",n),this.keys=bP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class w3 extends Tn{constructor(e,n){super(e,"not-in",n),this.keys=bP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class E3 extends Tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $_(n)&&Vu(n.arrayValue,this.value)}}class b3 extends Tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vu(this.value.arrayValue,n)}}class C3 extends Tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Vu(this.value.arrayValue,n)}}class S3 extends Tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vu(this.value.arrayValue,r))}}class ef{constructor(e,n){this.position=e,this.inclusive=n}}class Zo{constructor(e,n="asc"){this.field=e,this.dir=n}}function x3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function tC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=ya(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function nC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this._t=null,this.wt=null,this.startAt,this.endAt}}function T3(t,e,n,r,i,s,o,a){return new Pc(t,e,n,r,i,s,o,a)}function F_(t){return new Pc(t)}function rC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function CP(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function SP(t){for(const e of t.filters)if(e.dt())return e.field;return null}function I3(t){return t.collectionGroup!==null}function ju(t){const e=ue(t);if(e._t===null){e._t=[];const n=SP(e),r=CP(e);if(n!==null&&r===null)n.isKeyField()||e._t.push(new Zo(n)),e._t.push(new Zo(tn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Zo(tn.keyField(),s))}}}return e._t}function ui(t){const e=ue(t);if(!e.wt)if(e.limitType==="F")e.wt=eC(e.path,e.collectionGroup,ju(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ju(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Zo(s.field,o))}const r=e.endAt?new ef(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ef(e.startAt.position,e.startAt.inclusive):null;e.wt=eC(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function tf(t,e,n){return new Pc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nc(t,e){return L_(ui(t),ui(e))&&t.limitType===e.limitType}function xP(t){return`${D_(ui(t))}|lt:${t.limitType}`}function Xv(t){return`Query(target=${v3(ui(t))}; limitType=${t.limitType})`}function U_(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):te.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=tC(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,ju(n),r)||n.endAt&&!function(i,s,o){const a=tC(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,ju(n),r))}(t,e)}function k3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TP(t){return(e,n)=>{let r=!1;for(const i of ju(t)){const s=R3(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function R3(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?ya(a,l):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zh(e)?"-0":e}}function kP(t){return{integerValue:""+t}}function P3(t,e){return p3(e)?kP(e):IP(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(){this._=void 0}}function N3(t,e,n){return t instanceof Wu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Hu?PP(t,e):t instanceof qu?NP(t,e):function(r,i){const s=RP(r,i),o=iC(s)+iC(r.yt);return Qv(s)&&Qv(r.yt)?kP(o):IP(r.It,o)}(t,e)}function A3(t,e,n){return t instanceof Hu?PP(t,e):t instanceof qu?NP(t,e):n}function RP(t,e){return t instanceof nf?Qv(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Wu extends sp{}class Hu extends sp{constructor(e){super(),this.elements=e}}function PP(t,e){const n=AP(e);for(const r of t.elements)n.some(i=>Fr(i,r))||n.push(r);return{arrayValue:{values:n}}}class qu extends sp{constructor(e){super(),this.elements=e}}function NP(t,e){let n=AP(e);for(const r of t.elements)n=n.filter(i=>!Fr(i,r));return{arrayValue:{values:n}}}class nf extends sp{constructor(e,n){super(),this.It=e,this.yt=n}}function iC(t){return dt(t.integerValue||t.doubleValue)}function AP(t){return $_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,n){this.field=e,this.transform=n}}function M3(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Hu&&r instanceof Hu||n instanceof qu&&r instanceof qu?ga(n.elements,r.elements,Fr):n instanceof nf&&r instanceof nf?Fr(n.yt,r.yt):n instanceof Wu&&r instanceof Wu}(t.transform,e.transform)}class $3{constructor(e,n){this.version=e,this.transformResults=n}}class Mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mr}static exists(e){return new Mr(void 0,e)}static updateTime(e){return new Mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class op{}function OP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new B_(t.key,Mr.none()):new Ac(t.key,t.data,Mr.none());{const n=t.data,r=Jn.empty();let i=new Et(tn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new co(t.key,r,new Or(i.toArray()),Mr.none())}}function D3(t,e,n){t instanceof Ac?function(r,i,s){const o=r.value.clone(),a=oC(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof co?function(r,i,s){if(!Hd(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=oC(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(MP(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ql(t,e,n,r){return t instanceof Ac?function(i,s,o,a){if(!Hd(i.precondition,s))return o;const l=i.value.clone(),u=aC(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof co?function(i,s,o,a){if(!Hd(i.precondition,s))return o;const l=aC(i.fieldTransforms,a,s),u=s.data;return u.setAll(MP(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Hd(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function L3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=RP(r.transform,i||null);s!=null&&(n===null&&(n=Jn.empty()),n.set(r.field,s))}return n||null}function sC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ga(n,r,(i,s)=>M3(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ac extends op{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class co extends op{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function MP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function oC(t,e,n){const r=new Map;Ke(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,A3(o,a,n[i]))}return r}function aC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,N3(s,o,e))}return r}class B_ extends op{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F3 extends op{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,be;function B3(t){switch(t){default:return le();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function $P(t){if(t===void 0)return li("GRPC error has no .code"),A.UNKNOWN;switch(t){case ct.OK:return A.OK;case ct.CANCELLED:return A.CANCELLED;case ct.UNKNOWN:return A.UNKNOWN;case ct.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case ct.INTERNAL:return A.INTERNAL;case ct.UNAVAILABLE:return A.UNAVAILABLE;case ct.UNAUTHENTICATED:return A.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case ct.NOT_FOUND:return A.NOT_FOUND;case ct.ALREADY_EXISTS:return A.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return A.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case ct.ABORTED:return A.ABORTED;case ct.OUT_OF_RANGE:return A.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return A.UNIMPLEMENTED;case ct.DATA_LOSS:return A.DATA_LOSS;default:return le()}}(be=ct||(ct={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return yP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=new Ct(te.comparator);function ci(){return z3}const DP=new Ct(te.comparator);function Il(...t){let e=DP;for(const n of t)e=e.insert(n.key,n);return e}function LP(t){let e=DP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xs(){return Yl()}function FP(){return Yl()}function Yl(){return new Ha(t=>t.toString(),(t,e)=>t.isEqual(e))}const V3=new Ct(te.comparator),j3=new Et(te.comparator);function _e(...t){let e=j3;for(const n of t)e=e.add(n);return e}const W3=new Et(Oe);function UP(){return W3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,n)),new ap(de.min(),r,UP(),ci(),_e())}}class Oc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Oc(Ht.EMPTY_BYTE_STRING,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n,r,i){this.Tt=e,this.removedTargetIds=n,this.key=r,this.Et=i}}class BP{constructor(e,n){this.targetId=e,this.At=n}}class zP{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class lC{constructor(){this.Rt=0,this.bt=cC(),this.Pt=Ht.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=_e(),n=_e(),r=_e();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new Oc(this.Pt,this.vt,e,n,r)}Nt(){this.Vt=!1,this.bt=cC()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class H3{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=ci(),this.qt=uC(),this.Kt=new Et(Oe)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const r=this.zt(n);switch(e.state){case 0:this.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),r.Ct(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((r,i)=>{this.Ht(i)&&n(i)})}Yt(e){const n=e.targetId,r=e.At.count,i=this.Xt(n);if(i){const s=i.target;if(Yv(s))if(r===0){const o=new te(s.path);this.jt(n,o,Bt.newNoDocument(o,de.min()))}else Ke(r===1);else this.Zt(n)!==r&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&Yv(a.target)){const l=new te(a.target.path);this.Ut.get(l)!==null||this.ee(o,l)||this.jt(o,l,Bt.newNoDocument(l,e))}s.Dt&&(n.set(o,s.xt()),s.Nt())}});let r=_e();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new ap(e,n,this.Kt,this.Ut,r);return this.Ut=ci(),this.qt=uC(),this.Kt=new Et(Oe),i}Qt(e,n){if(!this.Ht(e))return;const r=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,n)?i.kt(n,1):i.Mt(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let n=this.Lt.get(e);return n||(n=new lC,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new Et(Oe),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=this.Xt(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new lC),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function uC(){return new Ct(te.comparator)}function cC(){return new Ct(te.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),K3=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class G3{constructor(e,n){this.databaseId=e,this.gt=n}}function rf(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VP(t,e){return t.gt?e.toBase64():e.toUint8Array()}function Q3(t,e){return rf(t,e.toTimestamp())}function ti(t){return Ke(!!t),de.fromTimestamp(function(e){const n=Qi(e);return new wt(n.seconds,n.nanos)}(t))}function z_(t,e){return function(n){return new tt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function jP(t){const e=tt.fromString(t);return Ke(qP(e)),e}function Jv(t,e){return z_(t.databaseId,e.path)}function Zm(t,e){const n=jP(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(WP(n))}function Zv(t,e){return z_(t.databaseId,e)}function Y3(t){const e=jP(t);return e.length===4?tt.emptyPath():WP(e)}function ey(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WP(t){return Ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function dC(t,e,n){return{name:Jv(t,e),fields:n.value.mapValue.fields}}function X3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.gt?(Ke(u===void 0||typeof u=="string"),Ht.fromBase64String(u||"")):(Ke(u===void 0||u instanceof Uint8Array),Ht.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?A.UNKNOWN:$P(l.code);return new ee(u,l.message||"")}(o);n=new zP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Zm(t,r.document.name),s=ti(r.document.updateTime),o=new Jn({mapValue:{fields:r.document.fields}}),a=Bt.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new qd(l,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Zm(t,r.document),s=r.readTime?ti(r.readTime):de.min(),o=Bt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new qd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Zm(t,r.document),s=r.removedTargetIds||[];n=new qd([],s,i,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new U3(i),o=r.targetId;n=new BP(o,s)}}return n}function J3(t,e){let n;if(e instanceof Ac)n={update:dC(t,e.key,e.value)};else if(e instanceof B_)n={delete:Jv(t,e.key)};else if(e instanceof co)n={update:dC(t,e.key,e.data),updateMask:lV(e.fieldMask)};else{if(!(e instanceof F3))return le();n={verify:Jv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Wu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Hu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof qu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof nf)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Q3(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:le()}(t,e.precondition)),n}function Z3(t,e){return t&&t.length>0?(Ke(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?ti(r.updateTime):ti(i);return s.isEqual(de.min())&&(s=ti(i)),new $3(s,r.transformResults||[])}(n,e))):[]}function eV(t,e){return{documents:[Zv(t,e.path)]}}function tV(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Zv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Zv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length===0)return;const u=l.map(c=>function(d){if(d.op==="=="){if(Zb(d.value))return{unaryFilter:{field:go(d.field),op:"IS_NAN"}};if(Jb(d.value))return{unaryFilter:{field:go(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(Zb(d.value))return{unaryFilter:{field:go(d.field),op:"IS_NOT_NAN"}};if(Jb(d.value))return{unaryFilter:{field:go(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(d.field),op:sV(d.op),value:d.value}}}(c));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:go(c.field),direction:iV(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.gt||ip(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function nV(t){let e=Y3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ke(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=HP(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new Zo(Bo(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,ip(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new ef(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new ef(h,d)}(n.endAt)),T3(e,i,o,s,a,"F",l,u)}function rV(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return le()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function HP(t){return t?t.unaryFilter!==void 0?[aV(t)]:t.fieldFilter!==void 0?[oV(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>HP(e)).reduce((e,n)=>e.concat(n)):le():[]}function iV(t){return q3[t]}function sV(t){return K3[t]}function go(t){return{fieldPath:t.canonicalString()}}function Bo(t){return tn.fromServerFormat(t.fieldPath)}function oV(t){return Tn.create(Bo(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(t.fieldFilter.op),t.fieldFilter.value)}function aV(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Bo(t.unaryFilter.field);return Tn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Bo(t.unaryFilter.field);return Tn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Bo(t.unaryFilter.field);return Tn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Bo(t.unaryFilter.field);return Tn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return le()}}function lV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&D3(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=FP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=OP(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&ga(this.mutations,e.mutations,(n,r)=>sC(n,r))&&ga(this.baseMutations,e.baseMutations,(n,r)=>sC(n,r))}}class V_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ke(e.mutations.length===r.length);let i=V3;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new V_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,r,i,s=de.min(),o=de.min(),a=Ht.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.re=e}}function hV(t){const e=nV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(){this.Ye=new pV}addToCollectionParentIndex(e,n){return this.Ye.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Gi.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Gi.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class pV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Et(tt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Et(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new _a(0)}static vn(){return new _a(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this.changes=new Ha(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(r!==null&&Ql(r.mutation,i,Or.empty(),wt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=xs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Il();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ci();const o=Yl(),a=Yl();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof co)?s=s.insert(u.key,u):c!==void 0&&(o.set(u.key,c.mutation.getFieldMask()),Ql(c.mutation,u,c.mutation.getFieldMask(),wt.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new gV(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Yl();let i=new Ct((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Or.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||_e()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=FP();c.forEach(h=>{if(!s.has(h)){const f=OP(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):I3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(xs());let a=-1,l=s;return o.next(u=>$.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?$.resolve():this.getBaseDocument(e,c,d).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,_e())).next(c=>({batchId:a,changes:LP(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=Il();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Il();return this.indexManager.getCollectionParents(e,i).next(o=>$.forEach(o,a=>{const l=function(u,c){return new Pc(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,Bt.newInvalidDocument(u)))});let o=Il();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&Ql(u.mutation,l,Or.empty(),wt.now()),U_(n,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):$.resolve(Bt.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return $.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:ti(r.createTime)}),$.resolve()}getNamedQuery(e,n){return $.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:hV(r.bundledQuery),readTime:ti(r.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(){this.overlays=new Ct(te.comparator),this.es=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xs();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ue(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=xs(),s=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ct((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=xs(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=xs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return $.resolve(a)}ue(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cV(n,r));let s=this.es.get(n);s===void 0&&(s=_e(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(){this.ns=new Et(It.ss),this.rs=new Et(It.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new It(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new It(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new te(new tt([])),r=new It(n,e),i=new It(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new te(new tt([])),r=new It(n,e),i=new It(n,e+1);let s=_e();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new It(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return te.comparator(e.key,n.key)||Oe(e._s,n._s)}static os(e,n){return Oe(e._s,n._s)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Et(It.ss)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new uV(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new It(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),i=new It(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(Oe);return n.forEach(i=>{const s=new It(i,0),o=new It(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),$.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;te.isDocumentKey(s)||(s=s.child(""));const o=new It(new te(s),0);let a=new Et(Oe);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},o),$.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ke(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return $.forEach(n.mutations,i=>{const s=new It(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new It(n,0),i=this.gs.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e){this.Es=e,this.docs=new Ct(te.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=ci();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Bt.newInvalidDocument(i))}),$.resolve(r)}getAllFromCollection(e,n,r){let i=ci();const s=new te(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||u3(l3(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,i){le()}As(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new bV(this)}getSize(e){return $.resolve(this.size)}}class bV extends mV{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.persistence=e,this.Rs=new Ha(n=>D_(n),L_),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.bs=0,this.Ps=new j_,this.targetCount=0,this.vs=_a.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),$.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new _a(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Dn(n),$.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new M_(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new CV(this),this.indexManager=new fV,this.remoteDocumentCache=function(r){return new EV(r)}(r=>this.referenceDelegate.xs(r)),this.It=new dV(n),this.Ns=new yV(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _V,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new wV(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const i=new xV(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Ms(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return $.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class xV extends d3{constructor(e){super(),this.currentSequenceNumber=e}}class W_{constructor(e){this.persistence=e,this.Fs=new j_,this.$s=null}static Bs(e){return new W_(e)}get Ls(){if(this.$s)return this.$s;throw le()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),$.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Ms(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Ls,r=>{const i=te.fromPath(r);return this.Us(e,i).next(s=>{s||n.removeEntry(i,de.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return $.or([()=>$.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new H_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Mi(e,n,i,r)).next(s=>s||this.Oi(e,n))}ki(e,n){if(rC(n))return $.resolve(null);let r=ui(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tf(n,null,"F"),r=ui(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(e,tf(n,null,"F")):this.Bi(e,u,n,l)}))})))}Mi(e,n,r,i){return rC(n)||i.isEqual(de.min())?this.Oi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Oi(e,n):(Kb()<=Se.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xv(n)),this.Bi(e,o,n,a3(i,-1)))})}Fi(e,n){let r=new Et(TP(e));return n.forEach((i,s)=>{U_(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return Kb()<=Se.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",Xv(n)),this.Ni.getDocumentsMatchingQuery(e,n,Gi.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.It=i,this.Ui=new Ct(Oe),this.qi=new Ha(s=>D_(s),L_),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vV(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function kV(t,e,n,r){return new IV(t,e,n,r)}async function KP(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=_e();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function RV(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=$.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(p=>{const m=l.docVersions.get(f);Ke(m!==null),p.version.compareTo(m)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=_e();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function GP(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function PV(t,e){const n=ue(t),r=e.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(d)?f=f.withResumeToken(Ht.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(p,m,E){return p.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(h,f,c)&&a.push(n.Cs.updateTargetData(s,f))});let l=ci(),u=_e();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(NV(s,o,e.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!r.isEqual(de.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(d=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ui=i,s))}function NV(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ci();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(de.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function AV(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function OV(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new Ms(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ui.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function ty(t,e,n){const r=ue(t),i=r.Ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Rc(o))throw o;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}function hC(t,e,n){const r=ue(t);let i=de.min(),s=_e();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=ue(a),d=c.qi.get(u);return d!==void 0?$.resolve(c.Ui.get(d)):c.Cs.getTargetData(l,u)}(r,o,ui(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:de.min(),n?s:_e())).next(a=>(MV(r,k3(e),a),{documents:a,Hi:s})))}function MV(t,e,n){let r=de.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}class fC{constructor(){this.activeTargetIds=UP()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $V{constructor(){this.Lr=new fC,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,r){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new fC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,r,i,s){const o=this.ao(e,n);Z("RestConnection","Sending: ",o,r);const a={};return this.ho(a,i,s),this.lo(e,o,a,r).then(l=>(Z("RestConnection","Received: ",l),l),l=>{throw Gb("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}fo(e,n,r,i,s,o){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ja,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){const r=LV[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){return new Promise((s,o)=>{const a=new Xz;a.listenOnce(Gz.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Jm.NO_ERROR:const u=a.getResponseJson();Z("Connection","XHR received:",JSON.stringify(u)),s(u);break;case Jm.TIMEOUT:Z("Connection",'RPC "'+e+'" timed out'),o(new ee(A.DEADLINE_EXCEEDED,"Request time out"));break;case Jm.HTTP_ERROR:const c=a.getStatus();if(Z("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(p)>=0?p:A.UNKNOWN}(d.status);o(new ee(h,d.message))}else o(new ee(A.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ee(A.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{Z("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}_o(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=qz(),o=Kz(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Yz({})),this.ho(a.initMessageHeaders,n,r),Af()||E0()||wD()||gI()||ED()||mI()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=i.join("");Z("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,d=!1;const h=new FV({Hr:p=>{d?Z("Connection","Not sending because WebChannel is closed:",p):(c||(Z("Connection","Opening WebChannel transport."),u.open(),c=!0),Z("Connection","WebChannel sending:",p),u.send(p))},Jr:()=>u.close()}),f=(p,m,E)=>{p.listen(m,g=>{try{E(g)}catch(v){setTimeout(()=>{throw v},0)}})};return f(u,fd.EventType.OPEN,()=>{d||Z("Connection","WebChannel transport opened.")}),f(u,fd.EventType.CLOSE,()=>{d||(d=!0,Z("Connection","WebChannel transport closed"),h.io())}),f(u,fd.EventType.ERROR,p=>{d||(d=!0,Gb("Connection","WebChannel transport errored:",p),h.io(new ee(A.UNAVAILABLE,"The operation could not be completed")))}),f(u,fd.EventType.MESSAGE,p=>{var m;if(!d){const E=p.data[0];Ke(!!E);const g=E,v=g.error||((m=g[0])===null||m===void 0?void 0:m.error);if(v){Z("Connection","WebChannel received error:",v);const y=v.status;let _=function(x){const S=ct[x];if(S!==void 0)return $P(S)}(y),C=v.message;_===void 0&&(_=A.INTERNAL,C="Unknown error status: "+y+" with message "+v.message),d=!0,h.io(new ee(_,C)),u.close()}else Z("Connection","WebChannel received:",E),h.ro(E)}}),f(o,Qz.STAT_EVENT,p=>{p.stat===Hb.PROXY?Z("Connection","Detected buffering proxy"):p.stat===Hb.NOPROXY&&Z("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function eg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(t){return new G3(t,!0)}class QP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.wo=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,n,r,i,s,o,a,l){this.Hs=e,this.Po=r,this.vo=i,this.Vo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new QP(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Mo()}async stop(){this.No()&&await this.close(0)}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(li(n.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new ee(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){this.state=5,this.xo.Ao(async()=>{this.state=0,this.start()})}Qo(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BV extends YP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.It=s}jo(e,n){return this.Vo._o("Listen",e,n)}onMessage(e){this.xo.reset();const n=X3(this.It,e),r=function(i){if(!("targetChange"in i))return de.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?de.min():s.readTime?ti(s.readTime):de.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=ey(this.It),n.addTarget=function(i,s){let o;const a=s.target;return o=Yv(a)?{documents:eV(i,a)}:{query:tV(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=VP(i,s.resumeToken):s.snapshotVersion.compareTo(de.min())>0&&(o.readTime=rf(i,s.snapshotVersion.toTimestamp())),o}(this.It,e);const r=rV(this.It,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=ey(this.It),n.removeTarget=e,this.Bo(n)}}class zV extends YP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.Vo._o("Write",e,n)}onMessage(e){if(Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=Z3(e.writeResults,e.commitTime),r=ti(e.commitTime);return this.listener.Zo(r,n)}return Ke(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=ey(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>J3(this.It,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new ee(A.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.Vo.co(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ee(A.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.Vo.fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(A.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class jV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(li(n),this.ou=!1):Z("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(o=>{r.enqueueAndForget(async()=>{ho(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ue(a);l._u.add(4),await Mc(l),l.gu.set("Unknown"),l._u.delete(4),await up(l)}(this))})}),this.gu=new jV(r,i)}}async function up(t){if(ho(t))for(const e of t.wu)await e(!0)}async function Mc(t){for(const e of t.wu)await e(!1)}function XP(t,e){const n=ue(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),G_(n)?K_(n):qa(n).ko()&&q_(n,e))}function JP(t,e){const n=ue(t),r=qa(n);n.du.delete(e),r.ko()&&ZP(n,e),n.du.size===0&&(r.ko()?r.Fo():ho(n)&&n.gu.set("Unknown"))}function q_(t,e){t.yu.Ot(e.targetId),qa(t).zo(e)}function ZP(t,e){t.yu.Ot(e),qa(t).Ho(e)}function K_(t){t.yu=new H3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t.du.get(e)||null}),qa(t).start(),t.gu.uu()}function G_(t){return ho(t)&&!qa(t).No()&&t.du.size>0}function ho(t){return ue(t)._u.size===0}function eN(t){t.yu=void 0}async function HV(t){t.du.forEach((e,n)=>{q_(t,e)})}async function qV(t,e){eN(t),G_(t)?(t.gu.hu(e),K_(t)):t.gu.set("Unknown")}async function KV(t,e,n){if(t.gu.set("Online"),e instanceof zP&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.du.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.du.delete(o),r.yu.removeTarget(o))}(t,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sf(t,r)}else if(e instanceof qd?t.yu.Gt(e):e instanceof BP?t.yu.Yt(e):t.yu.Wt(e),!n.isEqual(de.min()))try{const r=await GP(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.yu.te(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.du.get(l);u&&i.du.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(Ht.EMPTY_BYTE_STRING,l.snapshotVersion)),ZP(i,a);const u=new Ms(l.target,a,1,l.sequenceNumber);q_(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await sf(t,r)}}async function sf(t,e,n){if(!Rc(e))throw e;t._u.add(1),await Mc(t),t.gu.set("Offline"),n||(n=()=>GP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await up(t)})}function tN(t,e){return e().catch(n=>sf(t,n,e))}async function cp(t){const e=ue(t),n=Yi(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;GV(e);)try{const i=await AV(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,QV(e,i)}catch(i){await sf(e,i)}nN(e)&&rN(e)}function GV(t){return ho(t)&&t.fu.length<10}function QV(t,e){t.fu.push(e);const n=Yi(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function nN(t){return ho(t)&&!Yi(t).No()&&t.fu.length>0}function rN(t){Yi(t).start()}async function YV(t){Yi(t).eu()}async function XV(t){const e=Yi(t);for(const n of t.fu)e.Xo(n.mutations)}async function JV(t,e,n){const r=t.fu.shift(),i=V_.from(r,e,n);await tN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await cp(t)}async function ZV(t,e){e&&Yi(t).Yo&&await async function(n,r){if(i=r.code,B3(i)&&i!==A.ABORTED){const s=n.fu.shift();Yi(n).Oo(),await tN(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await cp(n)}var i}(t,e),nN(t)&&rN(t)}async function mC(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=ho(n);n._u.add(3),await Mc(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await up(n)}async function e5(t,e){const n=ue(t);e?(n._u.delete(2),await up(n)):e||(n._u.add(2),await Mc(n),n.gu.set("Unknown"))}function qa(t){return t.pu||(t.pu=function(e,n,r){const i=ue(e);return i.su(),new BV(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:HV.bind(null,t),Zr:qV.bind(null,t),Wo:KV.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),G_(t)?K_(t):t.gu.set("Unknown")):(await t.pu.stop(),eN(t))})),t.pu}function Yi(t){return t.Iu||(t.Iu=function(e,n,r){const i=ue(e);return i.su(),new zV(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:YV.bind(null,t),Zr:ZV.bind(null,t),tu:XV.bind(null,t),Zo:JV.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Oo(),await cp(t)):(await t.Iu.stop(),t.fu.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Q_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Y_(t,e){if(li("AsyncQueue",`${e}: ${t}`),Rc(t))return new ee(A.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=Il(),this.sortedSet=new Ct(this.comparator)}static emptySet(e){return new ea(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ea)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ea;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.Tu=new Ct(te.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):le():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class wa{constructor(e,n,r,i,s,o,a,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new wa(e,n,ea.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(){this.Au=void 0,this.listeners=[]}}class n5{constructor(){this.queries=new Ha(e=>xP(e),Nc),this.onlineState="Unknown",this.Ru=new Set}}async function r5(t,e){const n=ue(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new t5),i)try{s.Au=await n.onListen(r)}catch(o){const a=Y_(o,`Initialization of query '${Xv(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&X_(n)}async function i5(t,e){const n=ue(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function s5(t,e){const n=ue(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&X_(n)}function o5(t,e,n){const r=ue(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function X_(t){t.Ru.forEach(e=>{e.next()})}class a5{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.key=e}}class sN{constructor(e){this.key=e}}class l5{constructor(e,n){this.query=e,this.Lu=n,this.Uu=null,this.current=!1,this.qu=_e(),this.mutatedKeys=_e(),this.Ku=TP(e),this.Gu=new ea(this.Ku)}get Qu(){return this.Lu}ju(e,n){const r=n?n.Wu:new gC,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=U_(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let E=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),E=!0):this.zu(h,f)||(r.track({type:2,doc:f}),E=!0,(l&&this.Ku(f,l)>0||u&&this.Ku(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),E=!0):h&&!f&&(r.track({type:1,doc:h}),E=!0,(l||u)&&(a=!0)),E&&(f?(o=o.add(f),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,Wu:r,$i:a,mutatedKeys:s}}zu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.Wu.Eu();s.sort((u,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return f(d)-f(h)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const o=n?this.Ju():[],a=this.qu.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new wa(this.query,e.Gu,i,s,e.mutatedKeys,a===0,l,!1),Yu:o}:{Yu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new gC,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=_e(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const n=[];return e.forEach(r=>{this.qu.has(r)||n.push(new sN(r))}),this.qu.forEach(r=>{e.has(r)||n.push(new iN(r))}),n}Zu(e){this.Lu=e.Hi,this.qu=_e();const n=this.ju(e.documents);return this.applyChanges(n,!0)}tc(){return wa.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.Uu===0)}}class u5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class c5{constructor(e){this.key=e,this.ec=!1}}class d5{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Ha(a=>xP(a),Nc),this.ic=new Map,this.rc=new Set,this.oc=new Ct(te.comparator),this.uc=new Map,this.cc=new j_,this.ac={},this.hc=new Map,this.lc=_a.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function h5(t,e){const n=b5(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await OV(n.localStore,ui(e));n.isPrimaryClient&&XP(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await f5(n,e,r,a==="current")}return i}async function f5(t,e,n,r){t.dc=(c,d,h)=>async function(f,p,m,E){let g=p.view.ju(m);g.$i&&(g=await hC(f.localStore,p.query,!1).then(({documents:_})=>p.view.ju(_,g)));const v=E&&E.targetChanges.get(p.targetId),y=p.view.applyChanges(g,f.isPrimaryClient,v);return yC(f,p.targetId,y.Yu),y.snapshot}(t,c,d,h);const i=await hC(t.localStore,e,!0),s=new l5(e,i.Hi),o=s.ju(i.documents),a=Oc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),l=s.applyChanges(o,t.isPrimaryClient,a);yC(t,n,l.Yu);const u=new u5(e,n,s);return t.sc.set(e,u),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),l.snapshot}async function p5(t,e){const n=ue(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!Nc(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ty(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),JP(n.remoteStore,r.targetId),ny(n,r.targetId)}).catch(kc)):(ny(n,r.targetId),await ty(n.localStore,r.targetId,!0))}async function m5(t,e,n){const r=C5(t);try{const i=await function(s,o){const a=ue(s),l=wt.now(),u=o.reduce((h,f)=>h.add(f.key),_e());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=ci(),p=_e();return a.Gi.getEntries(h,u).next(m=>{f=m,f.forEach((E,g)=>{g.isValidDocument()||(p=p.add(E))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{c=m;const E=[];for(const g of o){const v=L3(g,c.get(g.key).overlayedDocument);v!=null&&E.push(new co(g.key,v,EP(v.value.mapValue),Mr.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,E,o)}).next(m=>{d=m;const E=m.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,E)})}).then(()=>({batchId:d.batchId,changes:LP(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new Ct(Oe)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),await $c(r,i.changes),await cp(r.remoteStore)}catch(i){const s=Y_(i,"Failed to persist write");n.reject(s)}}async function oN(t,e){const n=ue(t);try{const r=await PV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(Ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?Ke(o.ec):i.removedDocuments.size>0&&(Ke(o.ec),o.ec=!1))}),await $c(n,r,e)}catch(r){await kc(r)}}function vC(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=ue(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.bu(o)&&(l=!0)}),l&&X_(a)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function g5(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new Ct(te.comparator);o=o.insert(s,Bt.newNoDocument(s,de.min()));const a=_e().add(s),l=new ap(de.min(),new Map,new Et(Oe),o,a);await oN(r,l),r.oc=r.oc.remove(s),r.uc.delete(e),J_(r)}else await ty(r.localStore,e,!1).then(()=>ny(r,e,n)).catch(kc)}async function v5(t,e){const n=ue(t),r=e.batch.batchId;try{const i=await RV(n.localStore,e);lN(n,r,null),aN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $c(n,i)}catch(i){await kc(i)}}async function y5(t,e,n){const r=ue(t);try{const i=await function(s,o){const a=ue(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(Ke(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);lN(r,e,n),aN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $c(r,i)}catch(i){await kc(i)}}function aN(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function lN(t,e,n){const r=ue(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function ny(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc._c(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.ls(e).forEach(r=>{t.cc.containsKey(r)||uN(t,r)})}function uN(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(JP(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),J_(t))}function yC(t,e,n){for(const r of n)r instanceof iN?(t.cc.addReference(r.key,e),_5(t,r)):r instanceof sN?(Z("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||uN(t,r.key)):le()}function _5(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(Z("SyncEngine","New document in limbo: "+n),t.rc.add(r),J_(t))}function J_(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new te(tt.fromString(e)),r=t.lc.next();t.uc.set(r,new c5(n)),t.oc=t.oc.insert(n,r),XP(t.remoteStore,new Ms(ui(F_(n.path)),r,2,M_.at))}}async function $c(t,e,n){const r=ue(t),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,e,n).then(u=>{if(u){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u.fromCache?"not-current":"current"),i.push(u);const c=H_.Ci(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.nc.Wo(i),await async function(a,l){const u=ue(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>$.forEach(l,d=>$.forEach(d.Si,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>$.forEach(d.Di,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!Rc(c))throw c;Z("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Ui.get(d),f=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(f);u.Ui=u.Ui.insert(d,p)}}}(r.localStore,s))}async function w5(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await KP(n.localStore,e);n.currentUser=e,function(i,s){i.hc.forEach(o=>{o.forEach(a=>{a.reject(new ee(A.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $c(n,r.ji)}}function E5(t,e){const n=ue(t),r=n.uc.get(e);if(r&&r.ec)return _e().add(r.key);{let i=_e();const s=n.ic.get(e);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}function b5(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g5.bind(null,e),e.nc.Wo=s5.bind(null,e.eventManager),e.nc._c=o5.bind(null,e.eventManager),e}function C5(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y5.bind(null,e),e}class S5{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=lp(e.databaseInfo.databaseId),this.sharedClientState=this.mc(e),this.persistence=this.gc(e),await this.persistence.start(),this.localStore=this.yc(e),this.gcScheduler=this.Ic(e,this.localStore),this.indexBackfillerScheduler=this.Tc(e,this.localStore)}Ic(e,n){return null}Tc(e,n){return null}yc(e){return kV(this.persistence,new TV,e.initialUser,this.It)}gc(e){return new SV(W_.Bs,this.It)}mc(e){return new $V}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class x5{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=w5.bind(null,this.syncEngine),await e5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new n5}createDatastore(e){const n=lp(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new UV(i));var i;return function(s,o,a,l){return new VV(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>vC(this.syncEngine,a,0),o=pC.C()?new pC:new DV,new WV(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new d5(r,i,s,o,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ue(e);Z("RemoteStore","RemoteStore shutting down."),n._u.add(5),await Mc(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):li("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_n.UNAUTHENTICATED,this.clientId=vP.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Z("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ee(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Y_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function k5(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await KP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function R5(t,e){t.asyncQueue.verifyOperationInProgress();const n=await P5(t);Z("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>mC(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>mC(e.remoteStore,s)),t.onlineComponents=e}async function P5(t){return t.offlineComponents||(Z("FirestoreClient","Using default OfflineComponentProvider"),await k5(t,new S5)),t.offlineComponents}async function cN(t){return t.onlineComponents||(Z("FirestoreClient","Using default OnlineComponentProvider"),await R5(t,new x5)),t.onlineComponents}function N5(t){return cN(t).then(e=>e.syncEngine)}async function _C(t){const e=await cN(t),n=e.eventManager;return n.onListen=h5.bind(null,e.syncEngine),n.onUnlisten=p5.bind(null,e.syncEngine),n}const wC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t,e,n){if(!n)throw new ee(A.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function A5(t,e,n,r){if(e===!0&&r===!0)throw new ee(A.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function EC(t){if(!te.isDocumentKey(t))throw new ee(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bC(t){if(te.isDocumentKey(t))throw new ee(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Z_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function Xl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Z_(t);throw new ee(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function O5(t,e){if(e<=0)throw new ee(A.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,A5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ee(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ee(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CC(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Zz;switch(n.type){case"gapi":const r=n.client;return new n3(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ee(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=wC.get(e);n&&(Z("ComponentProvider","Removing Datastore"),wC.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tr(this.firestore,e,this._key)}}class Xi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xi(this.firestore,e,this._query)}}class ji extends Xi{constructor(e,n,r){super(e,n,F_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new te(e))}withConverter(e){return new ji(this.firestore,e,this._path)}}function M5(t,e,...n){if(t=Ot(t),dN("collection","path",e),t instanceof ew){const r=tt.fromString(e,...n);return bC(r),new ji(t,null,r)}{if(!(t instanceof tr||t instanceof ji))throw new ee(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return bC(r),new ji(t.firestore,null,r)}}function hN(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=vP.R()),dN("doc","path",e),t instanceof ew){const r=tt.fromString(e,...n);return EC(r),new tr(t,null,new te(r))}{if(!(t instanceof tr||t instanceof ji))throw new ee(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return EC(r),new tr(t.firestore,t instanceof ji?t.converter:null,new te(r))}}function $5(t,e){return t=Ot(t),e=Ot(e),t instanceof Xi&&e instanceof Xi&&t.firestore===e.firestore&&Nc(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new QP(this,"async_queue_retry"),this.jc=()=>{const n=eg();n&&Z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.bo()};const e=eg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const n=eg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const n=new Os;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}async Hc(){if(this.Bc.length!==0){try{await this.Bc[0](),this.Bc.shift(),this.xo.reset()}catch(e){if(!Rc(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.Bc.length>0&&this.xo.Ao(()=>this.Hc())}}zc(e){const n=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{this.qc=r,this.Kc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw li("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Kc=!1,r))));return this.$c=n,n}enqueueAfterDelay(e,n,r){this.Wc(),this.Qc.indexOf(e)>-1&&(n=0);const i=Q_.createAndSchedule(this,e,n,r,s=>this.Jc(s));return this.Uc.push(i),i}Wc(){this.qc&&le()}verifyOperationInProgress(){}async Yc(){let e;do e=this.$c,await e;while(e!==this.$c)}Xc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function SC(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ku extends ew{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new D5,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||pN(this),this._firestoreClient.terminate()}}function L5(t,e){const n=typeof t=="object"?t:C0(),r=typeof t=="string"?t:e||"(default)";return La(n,"firestore").getImmediate({identifier:r})}function fN(t){return t._firestoreClient||pN(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function pN(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new f3(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new I5(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ea(Ht.fromBase64String(e))}catch(n){throw new ee(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ea(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=/^__.*__$/;class U5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ac(e,this.data,n,this.fieldTransforms)}}function mN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class iw{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ea(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new iw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return of(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(e.length===0)throw this.aa("Document fields must not be empty");if(mN(this.na)&&F5.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class B5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=r||lp(e)}fa(e,n,r,i=!1){return new iw({na:e,methodName:n,la:r,path:tn.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function z5(t){const e=t._freezeSettings(),n=lp(t._databaseId);return new B5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function V5(t,e,n,r,i,s={}){const o=t.fa(s.merge||s.mergeFields?2:0,e,n,i);_N("Data must be an object, but it was:",o,r);const a=vN(r,o);let l,u;if(s.merge)l=new Or(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=j5(e,d,n);if(!o.contains(h))throw new ee(A.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);H5(c,h)||c.push(h)}l=new Or(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new U5(new Jn(a),l,u)}class sw extends nw{_toFieldTransform(e){return new O3(e.path,new Wu)}isEqual(e){return e instanceof sw}}function gN(t,e){if(yN(t=Ot(t)))return _N("Unsupported field value:",e,t),vN(t,e);if(t instanceof nw)return function(n,r){if(!mN(r.na))throw r.aa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ra&&e.na!==4)throw e.aa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=gN(o,r.ca(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Ot(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return P3(r.It,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=wt.fromDate(n);return{timestampValue:rf(r.It,i)}}if(n instanceof wt){const i=new wt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:rf(r.It,i)}}if(n instanceof rw)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ea)return{bytesValue:VP(r.It,n._byteString)};if(n instanceof tr){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.aa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:z_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.aa(`Unsupported field value: ${Z_(n)}`)}(t,e)}function vN(t,e){const n={};return yP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wa(t,(r,i)=>{const s=gN(i,e.ia(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function yN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof rw||t instanceof Ea||t instanceof tr||t instanceof nw)}function _N(t,e,n){if(!yN(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Z_(n);throw r==="an object"?e.aa(t+" a custom object"):e.aa(t+" "+r)}}function j5(t,e,n){if((e=Ot(e))instanceof tw)return e._internalPath;if(typeof e=="string")return wN(t,e);throw of("Field path arguments must be of type string or ",t,!1,void 0,n)}const W5=new RegExp("[~\\*/\\[\\]]");function wN(t,e,n){if(e.search(W5)>=0)throw of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tw(...e.split("."))._internalPath}catch{throw of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function of(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ee(A.INVALID_ARGUMENT,a+t+l)}function H5(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new q5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ow("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class q5 extends EN{data(){return super.data()}}function ow(t,e){return typeof e=="string"?wN(t,e):e instanceof tw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bN extends EN{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ow("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Kd extends bN{data(e={}){return super.data(e)}}class K5{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new kl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Kd(this._firestore,this._userDataWriter,r.key,r,new kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Kd(r._firestore,r._userDataWriter,o.doc.key,o.doc,new kl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Kd(r._firestore,r._userDataWriter,o.doc.key,o.doc,new kl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:G5(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function G5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class CN{}function Y5(t,...e){for(const n of e)t=n._apply(t);return t}class X5 extends CN{constructor(e,n){super(),this.wa=e,this.ya=n,this.type="orderBy"}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new ee(A.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ee(A.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Zo(i,s);return function(a,l){if(CP(a)===null){const u=SP(a);u!==null&&tj(a,u,l.field)}}(r,o),o}(e._query,this.wa,this.ya);return new Xi(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Pc(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function J5(t,e="asc"){const n=e,r=ow("orderBy",t);return new X5(r,n)}class Z5 extends CN{constructor(e,n,r){super(),this.type=e,this.pa=n,this.Ia=r}_apply(e){return new Xi(e.firestore,e.converter,tf(e._query,this.pa,this.Ia))}}function ej(t){return O5("limit",t),new Z5("limit",t,"F")}function tj(t,e,n){if(!n.isEqual(e))throw new ee(A.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{convertValue(e,n="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw le()}}convertObject(e,n){const r={};return Wa(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new rw(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wP(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bu(e));default:return null}}convertTimestamp(e){const n=Qi(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);Ke(qP(r));const i=new zu(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||li(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class SN extends nj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ea(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,n)}}function ij(t){return xN(Xl(t.firestore,Ku),[new B_(t._key,Mr.none())])}function sj(t,e){const n=Xl(t.firestore,Ku),r=hN(t),i=rj(t.converter,e);return xN(n,[V5(z5(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Mr.exists(!1))]).then(()=>r)}function oj(t,...e){var n,r,i;t=Ot(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||SC(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(SC(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof tr)u=Xl(t.firestore,Ku),c=F_(t._key.path),l={next:d=>{e[o]&&e[o](aj(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Xl(t,Xi);u=Xl(d.firestore,Ku),c=d._query;const h=new SN(u);l={next:f=>{e[o]&&e[o](new K5(u,h,d,f))},error:e[o+1],complete:e[o+2]},Q5(t._query)}return function(d,h,f,p){const m=new T5(p),E=new a5(h,m,f);return d.asyncQueue.enqueueAndForget(async()=>r5(await _C(d),E)),()=>{m.Rc(),d.asyncQueue.enqueueAndForget(async()=>i5(await _C(d),E))}}(fN(u),c,a,l)}function xN(t,e){return function(n,r){const i=new Os;return n.asyncQueue.enqueueAndForget(async()=>m5(await N5(n),r,i)),i.promise}(fN(t),e)}function aj(t,e,n){const r=n.docs.get(e._key),i=new SN(t);return new bN(t,i,e._key,r,new kl(n.hasPendingWrites,n.fromCache),e.converter)}function lj(){return new sw("serverTimestamp")}(function(t,e=!0){(function(n){ja=n})(rs),sr(new Vn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ku(new e3(n.getProvider("auth-internal")),new i3(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ee(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zu(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),pt(qb,"3.4.15",t),pt(qb,"3.4.15","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(!!this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(){if(this.appCheck){const e=await this.appCheck.getToken();return e.error?null:e.token}return null}async getContext(){const e=await this.getAuthToken(),n=await this.getMessagingToken(),r=await this.getAppCheckToken();return{authToken:e,messagingToken:n,appCheckToken:r}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="us-central1";class dj{constructor(e,n,r,i,s=xC,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new cj(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=xC}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}const TC="@firebase/functions",IC="0.8.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj="auth-internal",fj="app-check-internal",pj="messaging-internal";function mj(t,e){const n=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider(hj),a=r.getProvider(pj),l=r.getProvider(fj);return new dj(s,o,a,l,i,t)};sr(new Vn(uj,n,"PUBLIC").setMultipleInstances(!0)),pt(TC,IC,e),pt(TC,IC,"esm2017")}mj(fetch.bind(self));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN="firebasestorage.googleapis.com",gj="storageBucket",vj=2*60*1e3,yj=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends lr{constructor(e,n){super(tg(e),`Firebase Storage: ${n} (${tg(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vr.prototype)}_codeEquals(e){return tg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function tg(t){return"storage/"+t}function _j(){const t="An unknown error occurred, please check the error payload for server response.";return new Vr("unknown",t)}function wj(){return new Vr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Ej(){return new Vr("canceled","User canceled the upload/download.")}function bj(t){return new Vr("invalid-url","Invalid URL '"+t+"'.")}function Cj(t){return new Vr("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function kC(t){return new Vr("invalid-argument",t)}function IN(){return new Vr("app-deleted","The Firebase app was deleted.")}function Sj(t){return new Vr("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=_r.makeFromUrl(e,n)}catch{return new _r(e,"")}if(r.path==="")return r;throw Cj(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(_){_.path_=decodeURIComponent(_.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),p={bucket:1,path:3},m=n===TN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",g=new RegExp(`^https?://${m}/${i}/${E}`,"i"),y=[{regex:a,indices:l,postModify:s},{regex:f,indices:p,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let _=0;_<y.length;_++){const C=y[_],x=C.regex.exec(e);if(x){const S=x[C.indices.bucket];let T=x[C.indices.path];T||(T=""),r=new _r(S,T),C.postModify(r);break}}if(r==null)throw bj(e);return r}}class xj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...E){u||(u=!0,e.apply(null,E))}function d(E){i=setTimeout(()=>{i=null,t(f,l())},E)}function h(){s&&clearTimeout(s)}function f(E,...g){if(u){h();return}if(E){h(),c.call(null,E,...g);return}if(l()||o){h(),c.call(null,E,...g);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,d(y)}let p=!1;function m(E){p||(p=!0,h(),!u&&(i!==null?(E||(a=2),clearTimeout(i),d(0)):E||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function Ij(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t){return t!==void 0}function RC(t,e,n,r){if(r<e)throw kC(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw kC(`Invalid value for '${t}'. Expected ${n} or less.`)}function Rj(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var af;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(af||(af={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n,r,i,s,o,a,l,u,c,d){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,f)=>{this.resolve_=h,this.reject_=f,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new gd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===af.NO_ERROR,l=s.getStatus();if(!a||this.isRetryStatusCode_(l)){const c=s.getErrorCode()===af.ABORT;r(!1,new gd(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new gd(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());kj(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=_j();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?IN():Ej();o(l)}else{const l=wj();o(l)}};this.canceled_?n(!1,new gd(!1,null,!0)):this.backoffId_=Tj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Ij(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||s}}class gd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Nj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Aj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function Oj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Mj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $j(t,e,n,r,i,s){const o=Rj(t.urlParams),a=t.url+o,l=Object.assign({},t.headers);return Oj(l,e),Nj(l,n),Aj(l,s),Mj(l,r),new Pj(a,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Lj(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n){this._service=e,n instanceof _r?this._location=n:this._location=_r.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new lf(e,n)}get root(){const e=new _r(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Lj(this._location.path)}get storage(){return this._service}get parent(){const e=Dj(this._location.path);if(e===null)return null;const n=new _r(this._location.bucket,e);return new lf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Sj(e)}}function PC(t,e){const n=e==null?void 0:e[gj];return n==null?null:_r.makeFromBucketSpec(n,t)}class Fj{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=TN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vj,this._maxUploadRetryTime=yj,this._requests=new Set,i!=null?this._bucket=_r.makeFromBucketSpec(i,this._host):this._bucket=PC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_r.makeFromBucketSpec(this._url,e):this._bucket=PC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){RC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){RC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lf(this,e)}_makeRequest(e,n,r,i){if(this._deleted)return new xj(IN());{const s=$j(e,this._appId,r,i,n,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const NC="@firebase/storage",AC="0.9.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="storage";function Bj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Fj(n,r,i,e,rs)}function zj(){sr(new Vn(Uj,Bj,"PUBLIC").setMultipleInstances(!0)),pt(NC,AC,""),pt(NC,AC,"esm2017")}zj();const kN="@firebase/installations",aw="0.5.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=1e4,PN=`w:${aw}`,NN="FIS_v2",Vj="https://firebaseinstallations.googleapis.com/v1",jj=60*60*1e3,Wj="installations",Hj="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},eo=new oo(Wj,Hj,qj);function AN(t){return t instanceof lr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON({projectId:t}){return`${Vj}/projects/${t}/installations`}function MN(t){return{token:t.token,requestStatus:2,expiresIn:Gj(t.expiresIn),creationTime:Date.now()}}async function $N(t,e){const r=(await e.json()).error;return eo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function DN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Kj(t,{refreshToken:e}){const n=DN(t);return n.append("Authorization",Qj(e)),n}async function LN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Gj(t){return Number(t.replace("s","000"))}function Qj(t){return`${NN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yj({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=ON(t),i=DN(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:NN,appId:t.appId,sdkVersion:PN},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await LN(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:MN(u.authToken)}}else throw await $N("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=/^[cdef][\w-]{21}$/,ry="";function Zj(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=eW(t);return Jj.test(n)?n:ry}catch{return ry}}function eW(t){return Xj(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=new Map;function BN(t,e){const n=dp(t);zN(n,e),tW(n,e)}function zN(t,e){const n=UN.get(t);if(!!n)for(const r of n)r(e)}function tW(t,e){const n=nW();n&&n.postMessage({key:t,fid:e}),rW()}let Ts=null;function nW(){return!Ts&&"BroadcastChannel"in self&&(Ts=new BroadcastChannel("[Firebase] FID Change"),Ts.onmessage=t=>{zN(t.data.key,t.data.fid)}),Ts}function rW(){UN.size===0&&Ts&&(Ts.close(),Ts=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW="firebase-installations-database",sW=1,to="firebase-installations-store";let ng=null;function lw(){return ng||(ng=CI(iW,sW,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(to)}}})),ng}async function uf(t,e){const n=dp(t),i=(await lw()).transaction(to,"readwrite"),s=i.objectStore(to),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&BN(t,e.fid),e}async function VN(t){const e=dp(t),r=(await lw()).transaction(to,"readwrite");await r.objectStore(to).delete(e),await r.done}async function hp(t,e){const n=dp(t),i=(await lw()).transaction(to,"readwrite"),s=i.objectStore(to),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&BN(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uw(t){let e;const n=await hp(t.appConfig,r=>{const i=oW(r),s=aW(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===ry?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function oW(t){const e=t||{fid:Zj(),registrationStatus:0};return jN(e)}function aW(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(eo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=lW(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:uW(t)}:{installationEntry:e}}async function lW(t,e){try{const n=await Yj(t,e);return uf(t.appConfig,n)}catch(n){throw AN(n)&&n.customData.serverCode===409?await VN(t.appConfig):await uf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function uW(t){let e=await OC(t.appConfig);for(;e.registrationStatus===1;)await FN(100),e=await OC(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await uw(t);return r||n}return e}function OC(t){return hp(t,e=>{if(!e)throw eo.create("installation-not-found");return jN(e)})}function jN(t){return cW(t)?{fid:t.fid,registrationStatus:0}:t}function cW(t){return t.registrationStatus===1&&t.registrationTime+RN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dW({appConfig:t,heartbeatServiceProvider:e},n){const r=hW(t,n),i=Kj(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:PN,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await LN(()=>fetch(r,a));if(l.ok){const u=await l.json();return MN(u)}else throw await $N("Generate Auth Token",l)}function hW(t,{fid:e}){return`${ON(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cw(t,e=!1){let n;const r=await hp(t.appConfig,s=>{if(!WN(s))throw eo.create("not-registered");const o=s.authToken;if(!e&&mW(o))return s;if(o.requestStatus===1)return n=fW(t,e),s;{if(!navigator.onLine)throw eo.create("app-offline");const a=vW(s);return n=pW(t,a),a}});return n?await n:r.authToken}async function fW(t,e){let n=await MC(t.appConfig);for(;n.authToken.requestStatus===1;)await FN(100),n=await MC(t.appConfig);const r=n.authToken;return r.requestStatus===0?cw(t,e):r}function MC(t){return hp(t,e=>{if(!WN(e))throw eo.create("not-registered");const n=e.authToken;return yW(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function pW(t,e){try{const n=await dW(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await uf(t.appConfig,r),n}catch(n){if(AN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await VN(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await uf(t.appConfig,r)}throw n}}function WN(t){return t!==void 0&&t.registrationStatus===2}function mW(t){return t.requestStatus===2&&!gW(t)}function gW(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+jj}function vW(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function yW(t){return t.requestStatus===1&&t.requestTime+RN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _W(t){const e=t,{installationEntry:n,registrationPromise:r}=await uw(e);return r?r.catch(console.error):cw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wW(t,e=!1){const n=t;return await EW(n),(await cw(n,e)).token}async function EW(t){const{registrationPromise:e}=await uw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bW(t){if(!t||!t.options)throw rg("App Configuration");if(!t.name)throw rg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw rg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function rg(t){return eo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="installations",CW="installations-internal",SW=t=>{const e=t.getProvider("app").getImmediate(),n=bW(e),r=La(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},xW=t=>{const e=t.getProvider("app").getImmediate(),n=La(e,HN).getImmediate();return{getId:()=>_W(n),getToken:i=>wW(n,i)}};function TW(){sr(new Vn(HN,SW,"PUBLIC")),sr(new Vn(CW,xW,"PRIVATE"))}TW();pt(kN,aw);pt(kN,aw,"esm2017");const ig="@firebase/remote-config",$C="0.3.11";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW="remote-config";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kW={["registration-window"]:"Undefined window object. This SDK only supports usage in a browser environment.",["registration-project-id"]:"Undefined project identifier. Check Firebase app initialization.",["registration-api-key"]:"Undefined API key. Check Firebase app initialization.",["registration-app-id"]:"Undefined app identifier. Check Firebase app initialization.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",["fetch-client-network"]:"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",["fetch-timeout"]:'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',["fetch-throttle"]:'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',["fetch-client-parse"]:"Fetch client could not parse response. Original error: {$originalErrorMessage}.",["fetch-status"]:"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",["indexed-db-unavailable"]:"Indexed DB is not supported by current browser"},bn=new oo("remoteconfig","Remote Config",kW);function RW(t){const e=Ot(t);return e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0})),e._initializePromise}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}async fetch(e){const[n,r]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(r&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;const i=await this.client.fetch(e),s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return i.status===200&&s.push(this.storage.setLastSuccessfulFetchResponse(i)),await Promise.all(s),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NW(t=navigator){return t.languages&&t.languages[0]||t.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}async fetch(e){var n,r,i;const[s,o]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,u={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:s,app_instance_id_token:o,app_id:this.appId,language_code:NW()},d={method:"POST",headers:u,body:JSON.stringify(c)},h=fetch(l,d),f=new Promise((y,_)=>{e.signal.addEventListener(()=>{const C=new Error("The operation was aborted.");C.name="AbortError",_(C)})});let p;try{await Promise.race([h,f]),p=await h}catch(y){let _="fetch-client-network";throw((n=y)===null||n===void 0?void 0:n.name)==="AbortError"&&(_="fetch-timeout"),bn.create(_,{originalErrorMessage:(r=y)===null||r===void 0?void 0:r.message})}let m=p.status;const E=p.headers.get("ETag")||void 0;let g,v;if(p.status===200){let y;try{y=await p.json()}catch(_){throw bn.create("fetch-client-parse",{originalErrorMessage:(i=_)===null||i===void 0?void 0:i.message})}g=y.entries,v=y.state}if(v==="INSTANCE_STATE_UNSPECIFIED"?m=500:v==="NO_CHANGE"?m=304:(v==="NO_TEMPLATE"||v==="EMPTY_CONFIG")&&(g={}),m!==304&&m!==200)throw bn.create("fetch-status",{httpStatus:m});return{status:m,eTag:E,config:g}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OW(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function MW(t){if(!(t instanceof lr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class $W{constructor(e,n){this.client=e,this.storage=n}async fetch(e){const n=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,n)}async attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){await OW(e.signal,n);try{const i=await this.client.fetch(e);return await this.storage.deleteThrottleMetadata(),i}catch(i){if(!MW(i))throw i;const s={throttleEndTimeMillis:Date.now()+LD(r),backoffCount:r+1};return await this.storage.setThrottleMetadata(s),this.attemptFetch(e,s)}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DW=60*1e3,LW=12*60*60*1e3;class FW{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:DW,minimumFetchIntervalMillis:LW},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t,e){var n;const r=t.target.error||void 0;return bn.create(e,{originalErrorMessage:r&&((n=r)===null||n===void 0?void 0:n.message)})}const ps="app_namespace_store",UW="firebase_remote_config",BW=1;function zW(){return new Promise((t,e)=>{var n;try{const r=indexedDB.open(UW,BW);r.onerror=i=>{e(Gd(i,"storage-open"))},r.onsuccess=i=>{t(i.target.result)},r.onupgradeneeded=i=>{const s=i.target.result;switch(i.oldVersion){case 0:s.createObjectStore(ps,{keyPath:"compositeKey"})}}}catch(r){e(bn.create("storage-open",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message}))}})}class VW{constructor(e,n,r,i=zW()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}async get(e){const n=await this.openDbPromise;return new Promise((r,i)=>{var s;const a=n.transaction([ps],"readonly").objectStore(ps),l=this.createCompositeKey(e);try{const u=a.get(l);u.onerror=c=>{i(Gd(c,"storage-get"))},u.onsuccess=c=>{const d=c.target.result;r(d?d.value:void 0)}}catch(u){i(bn.create("storage-get",{originalErrorMessage:(s=u)===null||s===void 0?void 0:s.message}))}})}async set(e,n){const r=await this.openDbPromise;return new Promise((i,s)=>{var o;const l=r.transaction([ps],"readwrite").objectStore(ps),u=this.createCompositeKey(e);try{const c=l.put({compositeKey:u,value:n});c.onerror=d=>{s(Gd(d,"storage-set"))},c.onsuccess=()=>{i()}}catch(c){s(bn.create("storage-set",{originalErrorMessage:(o=c)===null||o===void 0?void 0:o.message}))}})}async delete(e){const n=await this.openDbPromise;return new Promise((r,i)=>{var s;const a=n.transaction([ps],"readwrite").objectStore(ps),l=this.createCompositeKey(e);try{const u=a.delete(l);u.onerror=c=>{i(Gd(c,"storage-delete"))},u.onsuccess=()=>{r()}}catch(u){i(bn.create("storage-delete",{originalErrorMessage:(s=u)===null||s===void 0?void 0:s.message}))}})}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}async loadFromStorage(){const e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),i=await e;i&&(this.lastFetchStatus=i);const s=await n;s&&(this.lastSuccessfulFetchTimestampMillis=s);const o=await r;o&&(this.activeConfig=o)}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WW(){sr(new Vn(IW,t,"PUBLIC").setMultipleInstances(!0)),pt(ig,$C),pt(ig,$C,"esm2017");function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw bn.create("registration-window");if(!yI())throw bn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw bn.create("registration-project-id");if(!o)throw bn.create("registration-api-key");if(!a)throw bn.create("registration-app-id");n=n||"firebase";const l=new VW(a,r.name,n),u=new jW(l),c=new lc(ig);c.logLevel=Se.ERROR;const d=new AW(i,rs,n,s,o,a),h=new $W(d,l),f=new PW(h,l,u,c),p=new FW(r,f,u,l,c);return RW(p),p}}WW();var fp={exports:{}},pp={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HW=w.exports,qW=Symbol.for("react.element"),KW=Symbol.for("react.fragment"),GW=Object.prototype.hasOwnProperty,QW=HW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YW={key:!0,ref:!0,__self:!0,__source:!0};function qN(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)GW.call(e,r)&&!YW.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:qW,type:t,key:s,ref:o,props:i,_owner:QW.current}}pp.Fragment=KW;pp.jsx=qN;pp.jsxs=qN;(function(t){t.exports=pp})(fp);const mp=fp.exports.Fragment,k=fp.exports.jsx,Be=fp.exports.jsxs,XW=Object.freeze(Object.defineProperty({__proto__:null,Fragment:mp,jsx:k,jsxs:Be},Symbol.toStringTag,{value:"Module"}));var iy=function(t,e){return iy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},iy(t,e)};function mi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");iy(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function JW(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function KN(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ba(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ca(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Sa(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function ta(t){return this instanceof ta?(this.v=t,this):new ta(t)}function ZW(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{l(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){h.value instanceof ta?Promise.resolve(h.value.v).then(u,c):d(s[0][2],h)}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function e6(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ba=="function"?ba(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function bt(t){return typeof t=="function"}function dw(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var sg=dw(function(t){return function(e){t(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function cf(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Dc=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=ba(o),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(m){e={error:m}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(bt(c))try{c()}catch(m){s=m instanceof sg?m.errors:[m]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=ba(d),f=h.next();!f.done;f=h.next()){var p=f.value;try{DC(p)}catch(m){s=s!=null?s:[],m instanceof sg?s=Sa(Sa([],Ca(s)),Ca(m.errors)):s.push(m)}}}catch(m){r={error:m}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(s)throw new sg(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)DC(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&cf(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&cf(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),GN=Dc.EMPTY;function QN(t){return t instanceof Dc||t&&"closed"in t&&bt(t.remove)&&bt(t.add)&&bt(t.unsubscribe)}function DC(t){bt(t)?t():t.unsubscribe()}var YN={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},t6={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Sa([t,e],Ca(n)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function XN(t){t6.setTimeout(function(){throw t})}function LC(){}function Qd(t){t()}var hw=function(t){mi(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,QN(n)&&n.add(r)):r.destination=s6,r}return e.create=function(n,r,i){return new Gu(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Dc),n6=Function.prototype.bind;function og(t,e){return n6.call(t,e)}var r6=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){vd(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){vd(r)}else vd(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){vd(n)}},t}(),Gu=function(t){mi(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(bt(n)||!n)o={next:n!=null?n:void 0,error:r!=null?r:void 0,complete:i!=null?i:void 0};else{var a;s&&YN.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&og(n.next,a),error:n.error&&og(n.error,a),complete:n.complete&&og(n.complete,a)}):o=n}return s.destination=new r6(o),s}return e}(hw);function vd(t){XN(t)}function i6(t){throw t}var s6={closed:!0,next:LC,error:i6,complete:LC},fw=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function JN(t){return t}function o6(t){return t.length===0?JN:t.length===1?t[0]:function(e){return t.reduce(function(n,r){return r(n)},e)}}var mn=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=l6(e)?e:new Gu(e,n,r);return Qd(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=FC(n),new n(function(i,s){var o=new Gu({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[fw]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return o6(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=FC(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function FC(t){var e;return(e=t!=null?t:YN.Promise)!==null&&e!==void 0?e:Promise}function a6(t){return t&&bt(t.next)&&bt(t.error)&&bt(t.complete)}function l6(t){return t&&t instanceof hw||a6(t)&&QN(t)}function u6(t){return bt(t==null?void 0:t.lift)}function fo(t){return function(e){if(u6(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function xa(t,e,n,r,i){return new c6(t,e,n,r,i)}var c6=function(t){mi(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n)||this;return l.onFinalize=o,l.shouldUnsubscribe=a,l._next=r?function(u){try{r(u)}catch(c){n.error(c)}}:t.prototype._next,l._error=s?function(u){try{s(u)}catch(c){n.error(c)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=i?function(){try{i()}catch(u){n.error(u)}finally{this.unsubscribe()}}:t.prototype._complete,l}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(hw),d6=dw(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),gp=function(t){mi(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new UC(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new d6},e.prototype.next=function(n){var r=this;Qd(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=ba(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;Qd(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;Qd(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?GN:(this.currentObservers=null,a.push(n),new Dc(function(){r.currentObservers=null,cf(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new mn;return n.source=this,n},e.create=function(n,r){return new UC(n,r)},e}(mn),UC=function(t){mi(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:GN},e}(gp),pw={now:function(){return(pw.delegate||Date).now()},delegate:void 0},h6=function(t){mi(e,t);function e(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=pw);var s=t.call(this)||this;return s._bufferSize=n,s._windowTime=r,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=r===1/0,s._bufferSize=Math.max(1,n),s._windowTime=Math.max(1,r),s}return e.prototype.next=function(n){var r=this,i=r.isStopped,s=r._buffer,o=r._infiniteTimeWindow,a=r._timestampProvider,l=r._windowTime;i||(s.push(n),!o&&s.push(a.now()+l)),this._trimBuffer(),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,s=i._infiniteTimeWindow,o=i._buffer,a=o.slice(),l=0;l<a.length&&!n.closed;l+=s?1:2)n.next(a[l]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,s=n._buffer,o=n._infiniteTimeWindow,a=(o?1:2)*r;if(r<1/0&&a<s.length&&s.splice(0,s.length-a),!o){for(var l=i.now(),u=0,c=1;c<s.length&&s[c]<=l;c+=2)u=c;u&&s.splice(0,u+1)}},e}(gp),f6=function(t){mi(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(Dc),sy={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=sy.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,Sa([t,e],Ca(n))):setInterval.apply(void 0,Sa([t,e],Ca(n)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},p6=function(t){mi(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(s,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),sy.setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;sy.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,s;try{this.work(n)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,cf(s,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(f6),BC=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=pw.now,t}(),m6=function(t){mi(e,t);function e(n,r){r===void 0&&(r=BC.now);var i=t.call(this,n,r)||this;return i.actions=[],i._active=!1,i._scheduled=void 0,i}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(BC);new m6(p6);var g6=new mn(function(t){return t.complete()});function v6(t){return t?y6(t):g6}function y6(t){return new mn(function(e){return t.schedule(function(){return e.complete()})})}function _6(t){return t&&bt(t.schedule)}function w6(t){return t[t.length-1]}function E6(t){return _6(w6(t))?t.pop():void 0}var ZN=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function eA(t){return bt(t==null?void 0:t.then)}function tA(t){return bt(t[fw])}function nA(t){return Symbol.asyncIterator&&bt(t==null?void 0:t[Symbol.asyncIterator])}function rA(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function b6(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iA=b6();function sA(t){return bt(t==null?void 0:t[iA])}function oA(t){return ZW(this,arguments,function(){var e,n,r,i;return KN(this,function(s){switch(s.label){case 0:e=t.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,ta(e.read())];case 3:return n=s.sent(),r=n.value,i=n.done,i?[4,ta(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,ta(r)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function aA(t){return bt(t==null?void 0:t.getReader)}function Ka(t){if(t instanceof mn)return t;if(t!=null){if(tA(t))return C6(t);if(ZN(t))return S6(t);if(eA(t))return x6(t);if(nA(t))return lA(t);if(sA(t))return T6(t);if(aA(t))return I6(t)}throw rA(t)}function C6(t){return new mn(function(e){var n=t[fw]();if(bt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function S6(t){return new mn(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function x6(t){return new mn(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,XN)})}function T6(t){return new mn(function(e){var n,r;try{for(var i=ba(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function lA(t){return new mn(function(e){k6(t,e).catch(function(n){return e.error(n)})})}function I6(t){return lA(oA(t))}function k6(t,e){var n,r,i,s;return JW(this,void 0,void 0,function(){var o,a;return KN(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=e6(t),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(o=r.value,e.next(o),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),i={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function $s(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function uA(t,e){return e===void 0&&(e=0),fo(function(n,r){n.subscribe(xa(r,function(i){return $s(r,t,function(){return r.next(i)},e)},function(){return $s(r,t,function(){return r.complete()},e)},function(i){return $s(r,t,function(){return r.error(i)},e)}))})}function cA(t,e){return e===void 0&&(e=0),fo(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function R6(t,e){return Ka(t).pipe(cA(e),uA(e))}function P6(t,e){return Ka(t).pipe(cA(e),uA(e))}function N6(t,e){return new mn(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function A6(t,e){return new mn(function(n){var r;return $s(n,e,function(){r=t[iA](),$s(n,e,function(){var i,s,o;try{i=r.next(),s=i.value,o=i.done}catch(a){n.error(a);return}o?n.complete():n.next(s)},0,!0)}),function(){return bt(r==null?void 0:r.return)&&r.return()}})}function dA(t,e){if(!t)throw new Error("Iterable cannot be null");return new mn(function(n){$s(n,e,function(){var r=t[Symbol.asyncIterator]();$s(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function O6(t,e){return dA(oA(t),e)}function M6(t,e){if(t!=null){if(tA(t))return R6(t,e);if(ZN(t))return N6(t,e);if(eA(t))return P6(t,e);if(nA(t))return dA(t,e);if(sA(t))return A6(t,e);if(aA(t))return O6(t,e)}throw rA(t)}function hA(t,e){return e?M6(t,e):Ka(t)}function zC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=E6(t);return hA(t,n)}dw(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function mw(t,e){return fo(function(n,r){var i=0;n.subscribe(xa(r,function(s){r.next(t.call(e,s,i++))}))})}function fA(t){return fo(function(e,n){var r=null,i=!1,s;r=e.subscribe(xa(n,void 0,void 0,function(o){s=Ka(t(o,fA(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function $6(t){t===void 0&&(t={});var e=t.connector,n=e===void 0?function(){return new gp}:e,r=t.resetOnError,i=r===void 0?!0:r,s=t.resetOnComplete,o=s===void 0?!0:s,a=t.resetOnRefCountZero,l=a===void 0?!0:a;return function(u){var c,d,h,f=0,p=!1,m=!1,E=function(){d==null||d.unsubscribe(),d=void 0},g=function(){E(),c=h=void 0,p=m=!1},v=function(){var y=c;g(),y==null||y.unsubscribe()};return fo(function(y,_){f++,!m&&!p&&E();var C=h=h!=null?h:n();_.add(function(){f--,f===0&&!m&&!p&&(d=ag(v,l))}),C.subscribe(_),!c&&f>0&&(c=new Gu({next:function(x){return C.next(x)},error:function(x){m=!0,E(),d=ag(g,i,x),C.error(x)},complete:function(){p=!0,E(),d=ag(g,o),C.complete()}}),Ka(y).subscribe(c))})(u)}}function ag(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e===!0){t();return}if(e!==!1){var i=new Gu({next:function(){i.unsubscribe(),t()}});return e.apply(void 0,Sa([],Ca(n))).subscribe(i)}}function D6(t,e,n){var r,i,s,o,a=!1;return t&&typeof t=="object"?(r=t.bufferSize,o=r===void 0?1/0:r,i=t.windowTime,e=i===void 0?1/0:i,s=t.refCount,a=s===void 0?!1:s,n=t.scheduler):o=t!=null?t:1/0,$6({connector:function(){return new h6(o,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function L6(t,e){return fo(function(n,r){var i=null,s=0,o=!1,a=function(){return o&&!i&&r.complete()};n.subscribe(xa(r,function(l){i==null||i.unsubscribe();var u=0,c=s++;Ka(t(l,c)).subscribe(i=xa(r,function(d){return r.next(e?e(l,d,c,u++):d)},function(){i=null,a()}))},function(){o=!0,a()}))})}function F6(t,e,n){var r=bt(t)||e||n?{next:t,error:e,complete:n}:t;return r?fo(function(i,s){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var a=!0;i.subscribe(xa(s,function(l){var u;(u=r.next)===null||u===void 0||u.call(r,l),s.next(l)},function(){var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},function(l){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),s.error(l)},function(){var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):JN}function pA(t){return new mn(function(e){var n=E2(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}const U6="[DEFAULT]",mA=w.exports.createContext(void 0),gA=w.exports.createContext(!1),B6="4.2.2",z6=(t,e)=>t===e||[...Object.keys(t),...Object.keys(e)].every(n=>t[n]===e[n]);function V6(t){const{firebaseConfig:e,appName:n,suspense:r}=t,i=w.exports.useMemo(()=>{if(t.firebaseApp)return t.firebaseApp;const s=ML().find(o=>o.name===(n||U6));if(s){if(e&&z6(s.options,e))return s;throw new Error(`Does not match the options already provided to the ${n||"default"} firebase app instance, give this new instance a different appName.`)}else{if(!e)throw new Error("No firebaseConfig provided");const o=w.exports.version||"unknown";return pt("react",o),pt("reactfire",B6),OL(e,n)}},[t.firebaseApp,e,n]);return w.exports.createElement(mA.Provider,{value:i},k(gA.Provider,{...Object.assign({value:r!=null?r:!1},t)}))}function j6(t){let e=w.exports.useContext(gA);return t!==void 0?t:e}function vA(){const t=w.exports.useContext(mA);if(!t)throw new Error("Cannot call useFirebaseApp unless your component is within a FirebaseAppProvider");return t}function gw(t){var e;const n=_w(),r=`auth:user:${n.name}`,i=pA(n),s=(e=Object.assign({},t))!==null&&e!==void 0?e:{};return n.currentUser!==void 0&&(s.initialData=n.currentUser,s.startWithValue=n.currentUser),vw(r,i,s)}function yA(t){if((t==null?void 0:t.hasOwnProperty("requiredClaims"))&&(t==null?void 0:t.hasOwnProperty("validateCustomClaims")))throw new Error('Cannot have both "requiredClaims" and "validateCustomClaims". Use one or the other.');const e=_w();let n=`auth:signInCheck:${e.name}::forceRefresh:${!!(t!=null&&t.forceRefresh)}`;t!=null&&t.forceRefresh&&(n=`${n}:forceRefresh:${t.forceRefresh}`),t!=null&&t.hasOwnProperty("requiredClaims")?n=`${n}:requiredClaims:${JSON.stringify(t.requiredClaims)}`:t!=null&&t.hasOwnProperty("validateCustomClaims")&&(n=`${n}:validateCustomClaims:${JSON.stringify(t.validateCustomClaims)}`);const r=pA(e).pipe(L6(i=>{var s;return i?t&&(t.hasOwnProperty("requiredClaims")||t.hasOwnProperty("validateCustomClaims"))?hA(i.getIdTokenResult((s=t==null?void 0:t.forceRefresh)!==null&&s!==void 0?s:!1)).pipe(mw(o=>{let a;t.hasOwnProperty("requiredClaims")?a=W6(t.requiredClaims):a=t.validateCustomClaims;const{hasRequiredClaims:l,errors:u}=a(o.claims);return{signedIn:!0,hasRequiredClaims:l,errors:u,user:i}})):zC({signedIn:!0,hasRequiredClaims:!0,errors:{},user:i}):zC({signedIn:!1,hasRequiredClaims:!1,errors:{},user:null})}));return vw(n,r)}function W6(t){return function(e){const n={};return Object.keys(t).forEach(r=>{t[r]!==e[r]&&(n[r]=[new ww("auth/missing-claim",`Expected "${t[r]}", but user has "${e[r]}" instead`)])}),{hasRequiredClaims:Object.keys(n).length===0,errors:n}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var us,vs;(function(t){t.added="child_added",t.removed="child_removed",t.changed="child_changed",t.moved="child_moved",t.value="value"})(vs||(vs={}));Object.freeze((us={},us[vs.added]=A4,us[vs.removed]=$4,us[vs.changed]=O4,us[vs.moved]=M4,us[vs.value]=N4,us));const H6=globalThis._reactFireDatabaseCachedQueries||[];globalThis._reactFireDatabaseCachedQueries||(globalThis._reactFireDatabaseCachedQueries=H6);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q6={includeMetadataChanges:!1};function K6(t,e){return e===void 0&&(e=q6),new mn(function(n){var r=oj(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function G6(t,e){e===void 0&&(e={});var n=t.data();return!t.exists()||typeof n!="object"||n===null||e.idField&&(n[e.idField]=t.id),n}function Q6(t){return K6(t,{includeMetadataChanges:!0}).pipe(mw(function(e){return e.docs}))}function Y6(t,e){return e===void 0&&(e={}),Q6(t).pipe(mw(function(n){return n.map(function(r){return G6(r,e)})}))}class X6 extends gp{constructor(e,n){super(),this._timeoutWindow=n,this._hasValue=!1,this._error=void 0,this._firstEmission=new Promise(r=>this._resolveFirstEmission=r),this._innerObservable=e.pipe(F6({next:r=>{this._next(r)},error:r=>{this._error=r,this._resolveFirstEmission()}}),fA(()=>v6()),D6(1)),this._warmupSubscription=this._innerObservable.subscribe(),this._timeoutHandler=setTimeout(this._reset.bind(this),this._timeoutWindow)}get hasValue(){return this._hasValue||!!this._error}get value(){if(this._error)throw this._error;if(!this.hasValue)throw Error("Can only get value if SuspenseSubject has a value");return this._value}get firstEmission(){return this._firstEmission}_next(e){this._hasValue=!0,this._value=e,this._resolveFirstEmission()}_reset(){this._warmupSubscription&&this._warmupSubscription.unsubscribe(),this._hasValue=!1,this._value=void 0,this._error=void 0,this._firstEmission=new Promise(e=>this._resolveFirstEmission=e)}_subscribe(e){return this._timeoutHandler&&clearTimeout(this._timeoutHandler),this._innerSubscriber=this._innerObservable.subscribe(e),this._innerSubscriber}get ourError(){return this._error}}const J6=3e4,Yd=globalThis._reactFirePreloadedObservables||new Map;globalThis._reactFirePreloadedObservables||(globalThis._reactFirePreloadedObservables=Yd);function Z6(t,e){if(Yd.has(e))return Yd.get(e);{const n=new X6(t,J6);return Yd.set(e,n),n}}function eH(t){return function(e,n){const r=Object.assign(Object.assign({},e),{hasEmitted:e.hasEmitted||t.hasValue,error:t.ourError,firstValuePromise:t.firstEmission});switch(t.hasValue&&(r.data=t.value),n){case"value":return r.status="success",r;case"error":return r.status="error",r;case"complete":return r.isComplete=!0,r;default:throw new Error(`invalid action "${n}"`)}}}function vw(t,e,n={}){var r;if(!t)throw new Error("cannot call useObservable without an observableId");const i=Z6(e,t),s=n.hasOwnProperty("initialData")||n.hasOwnProperty("startWithValue"),o=i.hasValue||s;if(j6(n.suspense)===!0&&!o)throw i.firstEmission;const a={status:o?"success":"loading",hasEmitted:o,isComplete:!1,data:i.hasValue?i.value:(r=n==null?void 0:n.initialData)!==null&&r!==void 0?r:n==null?void 0:n.startWithValue,error:i.ourError,firstValuePromise:i.firstEmission},[l,u]=w.exports.useReducer(eH(i),a);return w.exports.useEffect(()=>{const c=i.subscribe({next:()=>{u("value")},error:d=>{throw u("error"),d},complete:()=>{u("complete")}});return()=>c.unsubscribe()},[i]),l}const oy=globalThis._reactFireFirestoreQueryCache||[];globalThis._reactFireFirestoreQueryCache||(globalThis._reactFireFirestoreQueryCache=oy);function tH(t){const e=oy.findIndex(n=>$5(n,t));return e>-1?e:oy.push(t)-1}function nH(t,e){const n=e?lH(e):"NO_ID_FIELD",r=`firestore:collectionData:${tH(t)}:idField=${n}`,i=Y6(t,{idField:n});return vw(r,i,e)}w.exports.createContext(void 0);const _A=w.exports.createContext(void 0);w.exports.createContext(void 0);const rH=w.exports.createContext(void 0),wA=w.exports.createContext(void 0);w.exports.createContext(void 0);w.exports.createContext(void 0);w.exports.createContext(void 0);w.exports.createContext(void 0);function yw(t){return function(e){var n,r;if(!e.sdk)throw new Error("no sdk provided");const i=vA().name;if(((r=(n=e==null?void 0:e.sdk)===null||n===void 0?void 0:n.app)===null||r===void 0?void 0:r.name)!==i)throw new Error("sdk was initialized with a different firebase app");return w.exports.createElement(t.Provider,Object.assign({value:e.sdk},e))}}function EA(t){const e=w.exports.useContext(t);if(!e)throw new Error("SDK not found. useSdk must be called from within a provider");return e}const iH=yw(_A),sH=yw(rH),oH=yw(wA),_w=()=>EA(_A),bA=()=>EA(wA);class ww extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="ReactFireError",Object.setPrototypeOf(this,ww.prototype)}}function aH(t,e){if(e==="idField"||e==="initialData"||e==="suspense")return t?t[e]:void 0;throw new Error(`Field "${e}" is not a valid key in ReactFireOptions`)}function lH(t){return aH(t,"idField")}function X(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function b(){return b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b.apply(this,arguments)}function CA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=CA(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function ae(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=CA(t))&&(r&&(r+=" "),r+=e);return r}function Rl(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function Nn(t,e,n={clone:!0}){const r=n.clone?b({},t):t;return Rl(t)&&Rl(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Rl(e[i])&&i in t&&Rl(t[i])?r[i]=Nn(t[i],e[i],n):r[i]=e[i])}),r}function Ji(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}var uH={exports:{}},Le={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew=Symbol.for("react.element"),bw=Symbol.for("react.portal"),vp=Symbol.for("react.fragment"),yp=Symbol.for("react.strict_mode"),_p=Symbol.for("react.profiler"),wp=Symbol.for("react.provider"),Ep=Symbol.for("react.context"),cH=Symbol.for("react.server_context"),bp=Symbol.for("react.forward_ref"),Cp=Symbol.for("react.suspense"),Sp=Symbol.for("react.suspense_list"),xp=Symbol.for("react.memo"),Tp=Symbol.for("react.lazy"),dH=Symbol.for("react.offscreen"),SA;SA=Symbol.for("react.module.reference");function ur(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ew:switch(t=t.type,t){case vp:case _p:case yp:case Cp:case Sp:return t;default:switch(t=t&&t.$$typeof,t){case cH:case Ep:case bp:case Tp:case xp:case wp:return t;default:return e}}case bw:return e}}}Le.ContextConsumer=Ep;Le.ContextProvider=wp;Le.Element=Ew;Le.ForwardRef=bp;Le.Fragment=vp;Le.Lazy=Tp;Le.Memo=xp;Le.Portal=bw;Le.Profiler=_p;Le.StrictMode=yp;Le.Suspense=Cp;Le.SuspenseList=Sp;Le.isAsyncMode=function(){return!1};Le.isConcurrentMode=function(){return!1};Le.isContextConsumer=function(t){return ur(t)===Ep};Le.isContextProvider=function(t){return ur(t)===wp};Le.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ew};Le.isForwardRef=function(t){return ur(t)===bp};Le.isFragment=function(t){return ur(t)===vp};Le.isLazy=function(t){return ur(t)===Tp};Le.isMemo=function(t){return ur(t)===xp};Le.isPortal=function(t){return ur(t)===bw};Le.isProfiler=function(t){return ur(t)===_p};Le.isStrictMode=function(t){return ur(t)===yp};Le.isSuspense=function(t){return ur(t)===Cp};Le.isSuspenseList=function(t){return ur(t)===Sp};Le.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===vp||t===_p||t===yp||t===Cp||t===Sp||t===dH||typeof t=="object"&&t!==null&&(t.$$typeof===Tp||t.$$typeof===xp||t.$$typeof===wp||t.$$typeof===Ep||t.$$typeof===bp||t.$$typeof===SA||t.getModuleId!==void 0)};Le.typeOf=ur;(function(t){t.exports=Le})(uH);function ne(t){if(typeof t!="string")throw new Error(Ji(7));return t.charAt(0).toUpperCase()+t.slice(1)}function ay(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function Cw(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function hH(t,e){return()=>null}function Xd(t,e){return w.exports.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}function pn(t){return t&&t.ownerDocument||document}function Zi(t){return pn(t).defaultView||window}function fH(t,e){return()=>null}function Qu(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const pH=typeof window<"u"?w.exports.useLayoutEffect:w.exports.useEffect,Ur=pH;let VC=0;function mH(t){const[e,n]=w.exports.useState(t),r=t||e;return w.exports.useEffect(()=>{e==null&&(VC+=1,n(`mui-${VC}`))},[e]),r}const jC=_g["useId"];function Sw(t){if(jC!==void 0){const e=jC();return t!=null?t:e}return mH(t)}function gH(t,e,n,r,i){return null}function df({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=w.exports.useRef(t!==void 0),[s,o]=w.exports.useState(e),a=i?t:s,l=w.exports.useCallback(u=>{i||o(u)},[]);return[a,l]}function Ni(t){const e=w.exports.useRef(t);return Ur(()=>{e.current=t}),w.exports.useCallback((...n)=>(0,e.current)(...n),[])}function ze(t,e){return w.exports.useMemo(()=>t==null&&e==null?null:n=>{Qu(t,n),Qu(e,n)},[t,e])}let Ip=!0,ly=!1,WC;const vH={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function yH(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&vH[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function _H(t){t.metaKey||t.altKey||t.ctrlKey||(Ip=!0)}function lg(){Ip=!1}function wH(){this.visibilityState==="hidden"&&ly&&(Ip=!0)}function EH(t){t.addEventListener("keydown",_H,!0),t.addEventListener("mousedown",lg,!0),t.addEventListener("pointerdown",lg,!0),t.addEventListener("touchstart",lg,!0),t.addEventListener("visibilitychange",wH,!0)}function bH(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Ip||yH(e)}function xw(){const t=w.exports.useCallback(i=>{i!=null&&EH(i.ownerDocument)},[]),e=w.exports.useRef(!1);function n(){return e.current?(ly=!0,window.clearTimeout(WC),WC=window.setTimeout(()=>{ly=!1},100),e.current=!1,!0):!1}function r(i){return bH(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function xA(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function TA(t,e){const n=b({},e);return Object.keys(t).forEach(r=>{n[r]===void 0&&(n[r]=t[r])}),n}function Me(t,e,n){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>(o&&(s.push(e(o)),n&&n[o]&&s.push(n[o])),s),[]).join(" ")}),r}const HC=t=>t,CH=()=>{let t=HC;return{configure(e){t=e},generate(e){return t(e)},reset(){t=HC}}},SH=CH(),Tw=SH,xH={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Re(t,e,n="Mui"){const r=xH[e];return r?`${n}-${r}`:`${Tw.generate(t)}-${e}`}function Te(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Re(t,i,n)}),r}function hf(t){return typeof t=="string"}function Pl(t,e={},n){return hf(t)?e:b({},e,{ownerState:b({},e.ownerState,n)})}function TH(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function uy(t,e){return typeof t=="function"?t(e):t}function qC(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function IH(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const f=ae(i==null?void 0:i.className,r==null?void 0:r.className,s,n==null?void 0:n.className),p=b({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=b({},n,i,r);return f.length>0&&(m.className=f),Object.keys(p).length>0&&(m.style=p),{props:m,internalRef:void 0}}const o=TH(b({},i,r)),a=qC(r),l=qC(i),u=e(o),c=ae(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=b({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=b({},u,n,l,a);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}const kH=["elementType","externalSlotProps","ownerState"];function cy(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i}=t,s=X(t,kH),o=uy(r,i),{props:a,internalRef:l}=IH(b({},s,{externalSlotProps:o})),u=ze(l,ze(o==null?void 0:o.ref,(e=t.additionalProps)==null?void 0:e.ref));return Pl(n,b({},a,{ref:u}),i)}var An="top",or="bottom",ar="right",On="left",Iw="auto",Lc=[An,or,ar,On],Ta="start",Yu="end",RH="clippingParents",IA="viewport",gl="popper",PH="reference",KC=Lc.reduce(function(t,e){return t.concat([e+"-"+Ta,e+"-"+Yu])},[]),kA=[].concat(Lc,[Iw]).reduce(function(t,e){return t.concat([e,e+"-"+Ta,e+"-"+Yu])},[]),NH="beforeRead",AH="read",OH="afterRead",MH="beforeMain",$H="main",DH="afterMain",LH="beforeWrite",FH="write",UH="afterWrite",BH=[NH,AH,OH,MH,$H,DH,LH,FH,UH];function Br(t){return t?(t.nodeName||"").toLowerCase():null}function cr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function no(t){var e=cr(t).Element;return t instanceof e||t instanceof Element}function nr(t){var e=cr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function kw(t){if(typeof ShadowRoot>"u")return!1;var e=cr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function zH(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!nr(s)||!Br(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function VH(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!nr(i)||!Br(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const jH={name:"applyStyles",enabled:!0,phase:"write",fn:zH,effect:VH,requires:["computeStyles"]};function $r(t){return t.split("-")[0]}var Ds=Math.max,ff=Math.min,Ia=Math.round;function dy(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function RA(){return!/^((?!chrome|android).)*safari/i.test(dy())}function ka(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&nr(t)&&(i=t.offsetWidth>0&&Ia(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ia(r.height)/t.offsetHeight||1);var o=no(t)?cr(t):window,a=o.visualViewport,l=!RA()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function Rw(t){var e=ka(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function PA(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&kw(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function di(t){return cr(t).getComputedStyle(t)}function WH(t){return["table","td","th"].indexOf(Br(t))>=0}function os(t){return((no(t)?t.ownerDocument:t.document)||window.document).documentElement}function kp(t){return Br(t)==="html"?t:t.assignedSlot||t.parentNode||(kw(t)?t.host:null)||os(t)}function GC(t){return!nr(t)||di(t).position==="fixed"?null:t.offsetParent}function HH(t){var e=/firefox/i.test(dy()),n=/Trident/i.test(dy());if(n&&nr(t)){var r=di(t);if(r.position==="fixed")return null}var i=kp(t);for(kw(i)&&(i=i.host);nr(i)&&["html","body"].indexOf(Br(i))<0;){var s=di(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Fc(t){for(var e=cr(t),n=GC(t);n&&WH(n)&&di(n).position==="static";)n=GC(n);return n&&(Br(n)==="html"||Br(n)==="body"&&di(n).position==="static")?e:n||HH(t)||e}function Pw(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Jl(t,e,n){return Ds(t,ff(e,n))}function qH(t,e,n){var r=Jl(t,e,n);return r>n?n:r}function NA(){return{top:0,right:0,bottom:0,left:0}}function AA(t){return Object.assign({},NA(),t)}function OA(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var KH=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,AA(typeof e!="number"?e:OA(e,Lc))};function GH(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=$r(n.placement),l=Pw(a),u=[On,ar].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=KH(i.padding,n),h=Rw(s),f=l==="y"?An:On,p=l==="y"?or:ar,m=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],E=o[l]-n.rects.reference[l],g=Fc(s),v=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,y=m/2-E/2,_=d[f],C=v-h[c]-d[p],x=v/2-h[c]/2+y,S=Jl(_,x,C),T=l;n.modifiersData[r]=(e={},e[T]=S,e.centerOffset=S-x,e)}}function QH(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!PA(e.elements.popper,i)||(e.elements.arrow=i))}const YH={name:"arrow",enabled:!0,phase:"main",fn:GH,effect:QH,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ra(t){return t.split("-")[1]}var XH={top:"auto",right:"auto",bottom:"auto",left:"auto"};function JH(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:Ia(e*i)/i||0,y:Ia(n*i)/i||0}}function QC(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,h=o.x,f=h===void 0?0:h,p=o.y,m=p===void 0?0:p,E=typeof c=="function"?c({x:f,y:m}):{x:f,y:m};f=E.x,m=E.y;var g=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),y=On,_=An,C=window;if(u){var x=Fc(n),S="clientHeight",T="clientWidth";if(x===cr(n)&&(x=os(n),di(x).position!=="static"&&a==="absolute"&&(S="scrollHeight",T="scrollWidth")),x=x,i===An||(i===On||i===ar)&&s===Yu){_=or;var N=d&&x===C&&C.visualViewport?C.visualViewport.height:x[S];m-=N-r.height,m*=l?1:-1}if(i===On||(i===An||i===or)&&s===Yu){y=ar;var I=d&&x===C&&C.visualViewport?C.visualViewport.width:x[T];f-=I-r.width,f*=l?1:-1}}var M=Object.assign({position:a},u&&XH),V=c===!0?JH({x:f,y:m}):{x:f,y:m};if(f=V.x,m=V.y,l){var B;return Object.assign({},M,(B={},B[_]=v?"0":"",B[y]=g?"0":"",B.transform=(C.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",B))}return Object.assign({},M,(e={},e[_]=v?m+"px":"",e[y]=g?f+"px":"",e.transform="",e))}function ZH(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:$r(e.placement),variation:Ra(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,QC(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,QC(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const eq={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ZH,data:{}};var yd={passive:!0};function tq(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=cr(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,yd)}),a&&l.addEventListener("resize",n.update,yd),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,yd)}),a&&l.removeEventListener("resize",n.update,yd)}}const nq={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:tq,data:{}};var rq={left:"right",right:"left",bottom:"top",top:"bottom"};function Jd(t){return t.replace(/left|right|bottom|top/g,function(e){return rq[e]})}var iq={start:"end",end:"start"};function YC(t){return t.replace(/start|end/g,function(e){return iq[e]})}function Nw(t){var e=cr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Aw(t){return ka(os(t)).left+Nw(t).scrollLeft}function sq(t,e){var n=cr(t),r=os(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=RA();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+Aw(t),y:l}}function oq(t){var e,n=os(t),r=Nw(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Ds(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Ds(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Aw(t),l=-r.scrollTop;return di(i||n).direction==="rtl"&&(a+=Ds(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function Ow(t){var e=di(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function MA(t){return["html","body","#document"].indexOf(Br(t))>=0?t.ownerDocument.body:nr(t)&&Ow(t)?t:MA(kp(t))}function Zl(t,e){var n;e===void 0&&(e=[]);var r=MA(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=cr(r),o=i?[s].concat(s.visualViewport||[],Ow(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Zl(kp(o)))}function hy(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function aq(t,e){var n=ka(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function XC(t,e,n){return e===IA?hy(sq(t,n)):no(e)?aq(e,n):hy(oq(os(t)))}function lq(t){var e=Zl(kp(t)),n=["absolute","fixed"].indexOf(di(t).position)>=0,r=n&&nr(t)?Fc(t):t;return no(r)?e.filter(function(i){return no(i)&&PA(i,r)&&Br(i)!=="body"}):[]}function uq(t,e,n,r){var i=e==="clippingParents"?lq(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var c=XC(t,u,r);return l.top=Ds(c.top,l.top),l.right=ff(c.right,l.right),l.bottom=ff(c.bottom,l.bottom),l.left=Ds(c.left,l.left),l},XC(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function $A(t){var e=t.reference,n=t.element,r=t.placement,i=r?$r(r):null,s=r?Ra(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case An:l={x:o,y:e.y-n.height};break;case or:l={x:o,y:e.y+e.height};break;case ar:l={x:e.x+e.width,y:a};break;case On:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?Pw(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case Ta:l[u]=l[u]-(e[c]/2-n[c]/2);break;case Yu:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function Xu(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?RH:a,u=n.rootBoundary,c=u===void 0?IA:u,d=n.elementContext,h=d===void 0?gl:d,f=n.altBoundary,p=f===void 0?!1:f,m=n.padding,E=m===void 0?0:m,g=AA(typeof E!="number"?E:OA(E,Lc)),v=h===gl?PH:gl,y=t.rects.popper,_=t.elements[p?v:h],C=uq(no(_)?_:_.contextElement||os(t.elements.popper),l,c,o),x=ka(t.elements.reference),S=$A({reference:x,element:y,strategy:"absolute",placement:i}),T=hy(Object.assign({},y,S)),N=h===gl?T:x,I={top:C.top-N.top+g.top,bottom:N.bottom-C.bottom+g.bottom,left:C.left-N.left+g.left,right:N.right-C.right+g.right},M=t.modifiersData.offset;if(h===gl&&M){var V=M[i];Object.keys(I).forEach(function(B){var Q=[ar,or].indexOf(B)>=0?1:-1,U=[An,or].indexOf(B)>=0?"y":"x";I[B]+=V[U]*Q})}return I}function cq(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?kA:l,c=Ra(r),d=c?a?KC:KC.filter(function(p){return Ra(p)===c}):Lc,h=d.filter(function(p){return u.indexOf(p)>=0});h.length===0&&(h=d);var f=h.reduce(function(p,m){return p[m]=Xu(t,{placement:m,boundary:i,rootBoundary:s,padding:o})[$r(m)],p},{});return Object.keys(f).sort(function(p,m){return f[p]-f[m]})}function dq(t){if($r(t)===Iw)return[];var e=Jd(t);return[YC(t),e,YC(e)]}function hq(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=f===void 0?!0:f,m=n.allowedAutoPlacements,E=e.options.placement,g=$r(E),v=g===E,y=l||(v||!p?[Jd(E)]:dq(E)),_=[E].concat(y).reduce(function(ie,ve){return ie.concat($r(ve)===Iw?cq(e,{placement:ve,boundary:c,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:m}):ve)},[]),C=e.rects.reference,x=e.rects.popper,S=new Map,T=!0,N=_[0],I=0;I<_.length;I++){var M=_[I],V=$r(M),B=Ra(M)===Ta,Q=[An,or].indexOf(V)>=0,U=Q?"width":"height",P=Xu(e,{placement:M,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),L=Q?B?ar:On:B?or:An;C[U]>x[U]&&(L=Jd(L));var R=Jd(L),F=[];if(s&&F.push(P[V]<=0),a&&F.push(P[L]<=0,P[R]<=0),F.every(function(ie){return ie})){N=M,T=!1;break}S.set(M,F)}if(T)for(var z=p?3:1,K=function(ve){var he=_.find(function(je){var fe=S.get(je);if(fe)return fe.slice(0,ve).every(function($e){return $e})});if(he)return N=he,"break"},J=z;J>0;J--){var ge=K(J);if(ge==="break")break}e.placement!==N&&(e.modifiersData[r]._skip=!0,e.placement=N,e.reset=!0)}}const fq={name:"flip",enabled:!0,phase:"main",fn:hq,requiresIfExists:["offset"],data:{_skip:!1}};function JC(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function ZC(t){return[An,ar,or,On].some(function(e){return t[e]>=0})}function pq(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Xu(e,{elementContext:"reference"}),a=Xu(e,{altBoundary:!0}),l=JC(o,r),u=JC(a,i,s),c=ZC(l),d=ZC(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const mq={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:pq};function gq(t,e,n){var r=$r(t),i=[On,An].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[On,ar].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function vq(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=kA.reduce(function(c,d){return c[d]=gq(d,e.rects,s),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const yq={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vq};function _q(t){var e=t.state,n=t.name;e.modifiersData[n]=$A({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const wq={name:"popperOffsets",enabled:!0,phase:"read",fn:_q,data:{}};function Eq(t){return t==="x"?"y":"x"}function bq(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,p=n.tetherOffset,m=p===void 0?0:p,E=Xu(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),g=$r(e.placement),v=Ra(e.placement),y=!v,_=Pw(g),C=Eq(_),x=e.modifiersData.popperOffsets,S=e.rects.reference,T=e.rects.popper,N=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,I=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(!!x){if(s){var B,Q=_==="y"?An:On,U=_==="y"?or:ar,P=_==="y"?"height":"width",L=x[_],R=L+E[Q],F=L-E[U],z=f?-T[P]/2:0,K=v===Ta?S[P]:T[P],J=v===Ta?-T[P]:-S[P],ge=e.elements.arrow,ie=f&&ge?Rw(ge):{width:0,height:0},ve=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:NA(),he=ve[Q],je=ve[U],fe=Jl(0,S[P],ie[P]),$e=y?S[P]/2-z-fe-he-I.mainAxis:K-fe-he-I.mainAxis,Ee=y?-S[P]/2+z+fe+je+I.mainAxis:J+fe+je+I.mainAxis,Ge=e.elements.arrow&&Fc(e.elements.arrow),St=Ge?_==="y"?Ge.clientTop||0:Ge.clientLeft||0:0,Kt=(B=M==null?void 0:M[_])!=null?B:0,nt=L+$e-Kt-St,sn=L+Ee-Kt,gt=Jl(f?ff(R,nt):R,L,f?Ds(F,sn):F);x[_]=gt,V[_]=gt-L}if(a){var Ue,on=_==="x"?An:On,an=_==="x"?or:ar,Ne=x[C],xt=C==="y"?"height":"width",yn=Ne+E[on],Kn=Ne-E[an],Dt=[An,On].indexOf(g)!==-1,Lt=(Ue=M==null?void 0:M[C])!=null?Ue:0,ln=Dt?yn:Ne-S[xt]-T[xt]-Lt+I.altAxis,Ce=Dt?Ne+S[xt]+T[xt]-Lt-I.altAxis:Kn,q=f&&Dt?qH(ln,Ne,Ce):Jl(f?ln:yn,Ne,f?Ce:Kn);x[C]=q,V[C]=q-Ne}e.modifiersData[r]=V}}const Cq={name:"preventOverflow",enabled:!0,phase:"main",fn:bq,requiresIfExists:["offset"]};function Sq(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function xq(t){return t===cr(t)||!nr(t)?Nw(t):Sq(t)}function Tq(t){var e=t.getBoundingClientRect(),n=Ia(e.width)/t.offsetWidth||1,r=Ia(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Iq(t,e,n){n===void 0&&(n=!1);var r=nr(e),i=nr(e)&&Tq(e),s=os(e),o=ka(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Br(e)!=="body"||Ow(s))&&(a=xq(e)),nr(e)?(l=ka(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=Aw(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function kq(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function Rq(t){var e=kq(t);return BH.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Pq(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Nq(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var eS={placement:"bottom",modifiers:[],strategy:"absolute"};function tS(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Aq(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?eS:i;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},eS,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:c,setOptions:function(g){var v=typeof g=="function"?g(c.options):g;m(),c.options=Object.assign({},s,c.options,v),c.scrollParents={reference:no(a)?Zl(a):a.contextElement?Zl(a.contextElement):[],popper:Zl(l)};var y=Rq(Nq([].concat(r,c.options.modifiers)));return c.orderedModifiers=y.filter(function(_){return _.enabled}),p(),f.update()},forceUpdate:function(){if(!h){var g=c.elements,v=g.reference,y=g.popper;if(!!tS(v,y)){c.rects={reference:Iq(v,Fc(y),c.options.strategy==="fixed"),popper:Rw(y)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(I){return c.modifiersData[I.name]=Object.assign({},I.data)});for(var _=0;_<c.orderedModifiers.length;_++){if(c.reset===!0){c.reset=!1,_=-1;continue}var C=c.orderedModifiers[_],x=C.fn,S=C.options,T=S===void 0?{}:S,N=C.name;typeof x=="function"&&(c=x({state:c,options:T,name:N,instance:f})||c)}}}},update:Pq(function(){return new Promise(function(E){f.forceUpdate(),E(c)})}),destroy:function(){m(),h=!0}};if(!tS(a,l))return f;f.setOptions(u).then(function(E){!h&&u.onFirstUpdate&&u.onFirstUpdate(E)});function p(){c.orderedModifiers.forEach(function(E){var g=E.name,v=E.options,y=v===void 0?{}:v,_=E.effect;if(typeof _=="function"){var C=_({state:c,name:g,instance:f,options:y}),x=function(){};d.push(C||x)}})}function m(){d.forEach(function(E){return E()}),d=[]}return f}}var Oq=[nq,wq,eq,jH,yq,fq,Cq,YH,mq],Mq=Aq({defaultModifiers:Oq});function $q(t){return typeof t=="function"?t():t}const Dq=w.exports.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=w.exports.useState(null),l=ze(w.exports.isValidElement(r)?r.ref:null,n);return Ur(()=>{s||a($q(i)||document.body)},[i,s]),Ur(()=>{if(o&&!s)return Qu(n,o),()=>{Qu(n,null)}},[n,o,s]),s?w.exports.isValidElement(r)?w.exports.cloneElement(r,{ref:l}):r:k(w.exports.Fragment,{children:o&&rc.exports.createPortal(r,o)})}),DA=Dq;function Lq(t){return Re("MuiPopperUnstyled",t)}Te("MuiPopperUnstyled",["root"]);const Fq=["anchorEl","children","component","components","componentsProps","direction","disablePortal","modifiers","open","ownerState","placement","popperOptions","popperRef","TransitionProps"],Uq=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"];function Bq(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function fy(t){return typeof t=="function"?t():t}const zq=()=>Me({root:["root"]},Lq,{}),Vq={},jq=w.exports.forwardRef(function(e,n){var r;const{anchorEl:i,children:s,component:o,components:a={},componentsProps:l={},direction:u,disablePortal:c,modifiers:d,open:h,ownerState:f,placement:p,popperOptions:m,popperRef:E,TransitionProps:g}=e,v=X(e,Fq),y=w.exports.useRef(null),_=ze(y,n),C=w.exports.useRef(null),x=ze(C,E),S=w.exports.useRef(x);Ur(()=>{S.current=x},[x]),w.exports.useImperativeHandle(E,()=>C.current,[]);const T=Bq(p,u),[N,I]=w.exports.useState(T);w.exports.useEffect(()=>{C.current&&C.current.forceUpdate()}),Ur(()=>{if(!i||!h)return;const U=R=>{I(R.placement)};fy(i);let P=[{name:"preventOverflow",options:{altBoundary:c}},{name:"flip",options:{altBoundary:c}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:R})=>{U(R)}}];d!=null&&(P=P.concat(d)),m&&m.modifiers!=null&&(P=P.concat(m.modifiers));const L=Mq(fy(i),y.current,b({placement:T},m,{modifiers:P}));return S.current(L),()=>{L.destroy(),S.current(null)}},[i,c,d,h,m,T]);const M={placement:N};g!==null&&(M.TransitionProps=g);const V=zq(),B=(r=o!=null?o:a.Root)!=null?r:"div",Q=cy({elementType:B,externalSlotProps:l.root,externalForwardedProps:v,additionalProps:{role:"tooltip",ref:_},ownerState:b({},e,f),className:V.root});return k(B,b({},Q,{children:typeof s=="function"?s(M):s}))}),Wq=w.exports.forwardRef(function(e,n){const{anchorEl:r,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:h=Vq,popperRef:f,style:p,transition:m=!1}=e,E=X(e,Uq),[g,v]=w.exports.useState(!0),y=()=>{v(!1)},_=()=>{v(!0)};if(!l&&!c&&(!m||g))return null;const C=s||(r?pn(fy(r)).body:void 0);return k(DA,{disablePortal:a,container:C,children:k(jq,b({anchorEl:r,direction:o,disablePortal:a,modifiers:u,ref:n,open:m?!g:c,placement:d,popperOptions:h,popperRef:f},E,{style:b({position:"fixed",top:0,left:0,display:!c&&l&&(!m||g)?"none":null},p),TransitionProps:m?{in:c,onEnter:y,onExited:_}:null,children:i}))})}),Hq=Wq;function qq(t){const e=pn(t);return e.body===t?Zi(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function eu(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function nS(t){return parseInt(Zi(t).getComputedStyle(t).paddingRight,10)||0}function Kq(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function rS(t,e,n,r=[],i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!Kq(o);a&&l&&eu(o,i)})}function ug(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function Gq(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(qq(r)){const o=xA(pn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${nS(r)+o}px`;const a=pn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${nS(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=pn(r).body;else{const o=r.parentElement,a=Zi(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function Qq(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class Yq{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&eu(e.modalRef,!1);const i=Qq(n);rS(n,e.mount,e.modalRef,i,!0);const s=ug(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=ug(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=Gq(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=ug(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&eu(e.modalRef,n),rS(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&eu(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const Xq=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Jq(t){const e=parseInt(t.getAttribute("tabindex"),10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Zq(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function e8(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Zq(t))}function t8(t){const e=[],n=[];return Array.from(t.querySelectorAll(Xq)).forEach((r,i)=>{const s=Jq(r);s===-1||!e8(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function n8(){return!0}function r8(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=t8,isEnabled:o=n8,open:a}=t,l=w.exports.useRef(),u=w.exports.useRef(null),c=w.exports.useRef(null),d=w.exports.useRef(null),h=w.exports.useRef(null),f=w.exports.useRef(!1),p=w.exports.useRef(null),m=ze(e.ref,p),E=w.exports.useRef(null);w.exports.useEffect(()=>{!a||!p.current||(f.current=!n)},[n,a]),w.exports.useEffect(()=>{if(!a||!p.current)return;const y=pn(p.current);return p.current.contains(y.activeElement)||(p.current.hasAttribute("tabIndex")||p.current.setAttribute("tabIndex",-1),f.current&&p.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),w.exports.useEffect(()=>{if(!a||!p.current)return;const y=pn(p.current),_=S=>{const{current:T}=p;if(T!==null){if(!y.hasFocus()||r||!o()||l.current){l.current=!1;return}if(!T.contains(y.activeElement)){if(S&&h.current!==S.target||y.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!f.current)return;let M=[];if((y.activeElement===u.current||y.activeElement===c.current)&&(M=s(p.current)),M.length>0){var N,I;const V=Boolean(((N=E.current)==null?void 0:N.shiftKey)&&((I=E.current)==null?void 0:I.key)==="Tab"),B=M[0],Q=M[M.length-1];V?Q.focus():B.focus()}else T.focus()}}},C=S=>{E.current=S,!(r||!o()||S.key!=="Tab")&&y.activeElement===p.current&&S.shiftKey&&(l.current=!0,c.current.focus())};y.addEventListener("focusin",_),y.addEventListener("keydown",C,!0);const x=setInterval(()=>{y.activeElement.tagName==="BODY"&&_()},50);return()=>{clearInterval(x),y.removeEventListener("focusin",_),y.removeEventListener("keydown",C,!0)}},[n,r,i,o,a,s]);const g=y=>{d.current===null&&(d.current=y.relatedTarget),f.current=!0,h.current=y.target;const _=e.props.onFocus;_&&_(y)},v=y=>{d.current===null&&(d.current=y.relatedTarget),f.current=!0};return Be(w.exports.Fragment,{children:[k("div",{tabIndex:a?0:-1,onFocus:v,ref:u,"data-testid":"sentinelStart"}),w.exports.cloneElement(e,{ref:m,onFocus:g}),k("div",{tabIndex:a?0:-1,onFocus:v,ref:c,"data-testid":"sentinelEnd"})]})}function i8(t){return Re("MuiModal",t)}Te("MuiModal",["root","hidden"]);const s8=["children","classes","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited"],o8=t=>{const{open:e,exited:n,classes:r}=t;return Me({root:["root",!e&&n&&"hidden"]},i8,r)};function a8(t){return typeof t=="function"?t():t}function l8(t){return t.children?t.children.props.hasOwnProperty("in"):!1}const u8=new Yq,c8=w.exports.forwardRef(function(e,n){var r;const{children:i,classes:s,closeAfterTransition:o=!1,component:a="div",components:l={},componentsProps:u={},container:c,disableAutoFocus:d=!1,disableEnforceFocus:h=!1,disableEscapeKeyDown:f=!1,disablePortal:p=!1,disableRestoreFocus:m=!1,disableScrollLock:E=!1,hideBackdrop:g=!1,keepMounted:v=!1,manager:y=u8,onBackdropClick:_,onClose:C,onKeyDown:x,open:S,onTransitionEnter:T,onTransitionExited:N}=e,I=X(e,s8),[M,V]=w.exports.useState(!0),B=w.exports.useRef({}),Q=w.exports.useRef(null),U=w.exports.useRef(null),P=ze(U,n),L=l8(e),R=(r=e["aria-hidden"])!=null?r:!0,F=()=>pn(Q.current),z=()=>(B.current.modalRef=U.current,B.current.mountNode=Q.current,B.current),K=()=>{y.mount(z(),{disableScrollLock:E}),U.current.scrollTop=0},J=Ni(()=>{const Ue=a8(c)||F().body;y.add(z(),Ue),U.current&&K()}),ge=w.exports.useCallback(()=>y.isTopModal(z()),[y]),ie=Ni(Ue=>{Q.current=Ue,Ue&&(S&&ge()?K():eu(U.current,R))}),ve=w.exports.useCallback(()=>{y.remove(z(),R)},[y,R]);w.exports.useEffect(()=>()=>{ve()},[ve]),w.exports.useEffect(()=>{S?J():(!L||!o)&&ve()},[S,ve,L,o,J]);const he=b({},e,{classes:s,closeAfterTransition:o,disableAutoFocus:d,disableEnforceFocus:h,disableEscapeKeyDown:f,disablePortal:p,disableRestoreFocus:m,disableScrollLock:E,exited:M,hideBackdrop:g,keepMounted:v}),je=o8(he),fe=()=>{V(!1),T&&T()},$e=()=>{V(!0),N&&N(),o&&ve()},Ee=Ue=>{Ue.target===Ue.currentTarget&&(_&&_(Ue),C&&C(Ue,"backdropClick"))},Ge=Ue=>{x&&x(Ue),!(Ue.key!=="Escape"||!ge())&&(f||(Ue.stopPropagation(),C&&C(Ue,"escapeKeyDown")))},St={};i.props.tabIndex===void 0&&(St.tabIndex="-1"),L&&(St.onEnter=ay(fe,i.props.onEnter),St.onExited=ay($e,i.props.onExited));const Kt=l.Root||a,nt=cy({elementType:Kt,externalSlotProps:u.root,externalForwardedProps:I,additionalProps:{ref:P,role:"presentation",onKeyDown:Ge},className:je.root,ownerState:he}),sn=l.Backdrop,gt=cy({elementType:sn,externalSlotProps:u.backdrop,additionalProps:{"aria-hidden":!0,onClick:Ee,open:S},ownerState:he});return!v&&!S&&(!L||M)?null:k(DA,{ref:ie,container:c,disablePortal:p,children:Be(Kt,b({},nt,{children:[!g&&sn?k(sn,b({},gt)):null,k(r8,{disableEnforceFocus:h,disableAutoFocus:d,disableRestoreFocus:m,isEnabled:ge,open:S,children:w.exports.cloneElement(i,St)})]}))})}),d8=c8,h8=["onChange","maxRows","minRows","style","value"];function _d(t,e){return parseInt(t[e],10)||0}const f8={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function iS(t){return t==null||Object.keys(t).length===0}const p8=w.exports.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=X(e,h8),{current:u}=w.exports.useRef(a!=null),c=w.exports.useRef(null),d=ze(n,c),h=w.exports.useRef(null),f=w.exports.useRef(0),[p,m]=w.exports.useState({}),E=w.exports.useCallback(()=>{const C=c.current,S=Zi(C).getComputedStyle(C);if(S.width==="0px")return{};const T=h.current;T.style.width=S.width,T.value=C.value||e.placeholder||"x",T.value.slice(-1)===`
`&&(T.value+=" ");const N=S["box-sizing"],I=_d(S,"padding-bottom")+_d(S,"padding-top"),M=_d(S,"border-bottom-width")+_d(S,"border-top-width"),V=T.scrollHeight;T.value="x";const B=T.scrollHeight;let Q=V;s&&(Q=Math.max(Number(s)*B,Q)),i&&(Q=Math.min(Number(i)*B,Q)),Q=Math.max(Q,B);const U=Q+(N==="border-box"?I+M:0),P=Math.abs(Q-V)<=1;return{outerHeightStyle:U,overflow:P}},[i,s,e.placeholder]),g=(C,x)=>{const{outerHeightStyle:S,overflow:T}=x;return f.current<20&&(S>0&&Math.abs((C.outerHeightStyle||0)-S)>1||C.overflow!==T)?(f.current+=1,{overflow:T,outerHeightStyle:S}):C},v=w.exports.useCallback(()=>{const C=E();iS(C)||m(x=>g(x,C))},[E]),y=()=>{const C=E();iS(C)||rc.exports.flushSync(()=>{m(x=>g(x,C))})};w.exports.useEffect(()=>{const C=Cw(()=>{f.current=0,c.current&&y()}),x=Zi(c.current);x.addEventListener("resize",C);let S;return typeof ResizeObserver<"u"&&(S=new ResizeObserver(C),S.observe(c.current)),()=>{C.clear(),x.removeEventListener("resize",C),S&&S.disconnect()}}),Ur(()=>{v()}),w.exports.useEffect(()=>{f.current=0},[a]);const _=C=>{f.current=0,u||v(),r&&r(C)};return Be(w.exports.Fragment,{children:[k("textarea",b({value:a,onChange:_,ref:d,rows:s,style:b({height:p.outerHeightStyle,overflow:p.overflow?"hidden":null},o)},l)),k("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:b({},f8.shadow,o,{padding:0})})]})}),m8=p8;function LA(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var g8=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,v8=LA(function(t){return g8.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function y8(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function _8(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var w8=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(_8(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=y8(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Xt="-ms-",pf="-moz-",Ie="-webkit-",FA="comm",Mw="rule",$w="decl",E8="@import",UA="@keyframes",b8=Math.abs,Rp=String.fromCharCode,C8=Object.assign;function S8(t,e){return(((e<<2^wn(t,0))<<2^wn(t,1))<<2^wn(t,2))<<2^wn(t,3)}function BA(t){return t.trim()}function x8(t,e){return(t=e.exec(t))?t[0]:t}function Ae(t,e,n){return t.replace(e,n)}function py(t,e){return t.indexOf(e)}function wn(t,e){return t.charCodeAt(e)|0}function Ju(t,e,n){return t.slice(e,n)}function Tr(t){return t.length}function Dw(t){return t.length}function wd(t,e){return e.push(t),t}function T8(t,e){return t.map(e).join("")}var Pp=1,Pa=1,zA=0,$n=0,ht=0,Ga="";function Np(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Pp,column:Pa,length:o,return:""}}function vl(t,e){return C8(Np("",null,null,"",null,null,0),t,{length:-t.length},e)}function I8(){return ht}function k8(){return ht=$n>0?wn(Ga,--$n):0,Pa--,ht===10&&(Pa=1,Pp--),ht}function Bn(){return ht=$n<zA?wn(Ga,$n++):0,Pa++,ht===10&&(Pa=1,Pp++),ht}function Dr(){return wn(Ga,$n)}function Zd(){return $n}function Uc(t,e){return Ju(Ga,t,e)}function Zu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function VA(t){return Pp=Pa=1,zA=Tr(Ga=t),$n=0,[]}function jA(t){return Ga="",t}function eh(t){return BA(Uc($n-1,my(t===91?t+2:t===40?t+1:t)))}function R8(t){for(;(ht=Dr())&&ht<33;)Bn();return Zu(t)>2||Zu(ht)>3?"":" "}function P8(t,e){for(;--e&&Bn()&&!(ht<48||ht>102||ht>57&&ht<65||ht>70&&ht<97););return Uc(t,Zd()+(e<6&&Dr()==32&&Bn()==32))}function my(t){for(;Bn();)switch(ht){case t:return $n;case 34:case 39:t!==34&&t!==39&&my(ht);break;case 40:t===41&&my(t);break;case 92:Bn();break}return $n}function N8(t,e){for(;Bn()&&t+ht!==47+10;)if(t+ht===42+42&&Dr()===47)break;return"/*"+Uc(e,$n-1)+"*"+Rp(t===47?t:Bn())}function A8(t){for(;!Zu(Dr());)Bn();return Uc(t,$n)}function O8(t){return jA(th("",null,null,null,[""],t=VA(t),0,[0],t))}function th(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,f=0,p=0,m=1,E=1,g=1,v=0,y="",_=i,C=s,x=r,S=y;E;)switch(p=v,v=Bn()){case 40:if(p!=108&&S.charCodeAt(d-1)==58){py(S+=Ae(eh(v),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:S+=eh(v);break;case 9:case 10:case 13:case 32:S+=R8(p);break;case 92:S+=P8(Zd()-1,7);continue;case 47:switch(Dr()){case 42:case 47:wd(M8(N8(Bn(),Zd()),e,n),l);break;default:S+="/"}break;case 123*m:a[u++]=Tr(S)*g;case 125*m:case 59:case 0:switch(v){case 0:case 125:E=0;case 59+c:f>0&&Tr(S)-d&&wd(f>32?oS(S+";",r,n,d-1):oS(Ae(S," ","")+";",r,n,d-2),l);break;case 59:S+=";";default:if(wd(x=sS(S,e,n,u,c,i,a,y,_=[],C=[],d),s),v===123)if(c===0)th(S,e,x,x,_,s,d,a,C);else switch(h){case 100:case 109:case 115:th(t,x,x,r&&wd(sS(t,x,x,0,0,i,a,y,i,_=[],d),C),i,C,d,a,r?_:C);break;default:th(S,x,x,x,[""],C,0,a,C)}}u=c=f=0,m=g=1,y=S="",d=o;break;case 58:d=1+Tr(S),f=p;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&k8()==125)continue}switch(S+=Rp(v),v*m){case 38:g=c>0?1:(S+="\f",-1);break;case 44:a[u++]=(Tr(S)-1)*g,g=1;break;case 64:Dr()===45&&(S+=eh(Bn())),h=Dr(),c=d=Tr(y=S+=A8(Zd())),v++;break;case 45:p===45&&Tr(S)==2&&(m=0)}}return s}function sS(t,e,n,r,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],f=Dw(h),p=0,m=0,E=0;p<r;++p)for(var g=0,v=Ju(t,d+1,d=b8(m=o[p])),y=t;g<f;++g)(y=BA(m>0?h[g]+" "+v:Ae(v,/&\f/g,h[g])))&&(l[E++]=y);return Np(t,e,n,i===0?Mw:a,l,u,c)}function M8(t,e,n){return Np(t,e,n,FA,Rp(I8()),Ju(t,2,-2),0)}function oS(t,e,n,r){return Np(t,e,n,$w,Ju(t,0,r),Ju(t,r+1,-1),r)}function WA(t,e){switch(S8(t,e)){case 5103:return Ie+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ie+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ie+t+pf+t+Xt+t+t;case 6828:case 4268:return Ie+t+Xt+t+t;case 6165:return Ie+t+Xt+"flex-"+t+t;case 5187:return Ie+t+Ae(t,/(\w+).+(:[^]+)/,Ie+"box-$1$2"+Xt+"flex-$1$2")+t;case 5443:return Ie+t+Xt+"flex-item-"+Ae(t,/flex-|-self/,"")+t;case 4675:return Ie+t+Xt+"flex-line-pack"+Ae(t,/align-content|flex-|-self/,"")+t;case 5548:return Ie+t+Xt+Ae(t,"shrink","negative")+t;case 5292:return Ie+t+Xt+Ae(t,"basis","preferred-size")+t;case 6060:return Ie+"box-"+Ae(t,"-grow","")+Ie+t+Xt+Ae(t,"grow","positive")+t;case 4554:return Ie+Ae(t,/([^-])(transform)/g,"$1"+Ie+"$2")+t;case 6187:return Ae(Ae(Ae(t,/(zoom-|grab)/,Ie+"$1"),/(image-set)/,Ie+"$1"),t,"")+t;case 5495:case 3959:return Ae(t,/(image-set\([^]*)/,Ie+"$1$`$1");case 4968:return Ae(Ae(t,/(.+:)(flex-)?(.*)/,Ie+"box-pack:$3"+Xt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ie+t+t;case 4095:case 3583:case 4068:case 2532:return Ae(t,/(.+)-inline(.+)/,Ie+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Tr(t)-1-e>6)switch(wn(t,e+1)){case 109:if(wn(t,e+4)!==45)break;case 102:return Ae(t,/(.+:)(.+)-([^]+)/,"$1"+Ie+"$2-$3$1"+pf+(wn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~py(t,"stretch")?WA(Ae(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(wn(t,e+1)!==115)break;case 6444:switch(wn(t,Tr(t)-3-(~py(t,"!important")&&10))){case 107:return Ae(t,":",":"+Ie)+t;case 101:return Ae(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ie+(wn(t,14)===45?"inline-":"")+"box$3$1"+Ie+"$2$3$1"+Xt+"$2box$3")+t}break;case 5936:switch(wn(t,e+11)){case 114:return Ie+t+Xt+Ae(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ie+t+Xt+Ae(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ie+t+Xt+Ae(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ie+t+Xt+t+t}return t}function na(t,e){for(var n="",r=Dw(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function $8(t,e,n,r){switch(t.type){case E8:case $w:return t.return=t.return||t.value;case FA:return"";case UA:return t.return=t.value+"{"+na(t.children,r)+"}";case Mw:t.value=t.props.join(",")}return Tr(n=na(t.children,r))?t.return=t.value+"{"+n+"}":""}function D8(t){var e=Dw(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function L8(t){return function(e){e.root||(e=e.return)&&t(e)}}function F8(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case $w:t.return=WA(t.value,t.length);break;case UA:return na([vl(t,{value:Ae(t.value,"@","@"+Ie)})],r);case Mw:if(t.length)return T8(t.props,function(i){switch(x8(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return na([vl(t,{props:[Ae(i,/:(read-\w+)/,":"+pf+"$1")]})],r);case"::placeholder":return na([vl(t,{props:[Ae(i,/:(plac\w+)/,":"+Ie+"input-$1")]}),vl(t,{props:[Ae(i,/:(plac\w+)/,":"+pf+"$1")]}),vl(t,{props:[Ae(i,/:(plac\w+)/,Xt+"input-$1")]})],r)}return""})}}var U8=function(e,n,r){for(var i=0,s=0;i=s,s=Dr(),i===38&&s===12&&(n[r]=1),!Zu(s);)Bn();return Uc(e,$n)},B8=function(e,n){var r=-1,i=44;do switch(Zu(i)){case 0:i===38&&Dr()===12&&(n[r]=1),e[r]+=U8($n-1,n,r);break;case 2:e[r]+=eh(i);break;case 4:if(i===44){e[++r]=Dr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Rp(i)}while(i=Bn());return e},z8=function(e,n){return jA(B8(VA(e),n))},aS=new WeakMap,V8=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!aS.get(r))&&!i){aS.set(e,!0);for(var s=[],o=z8(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},j8=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}},W8=[F8],H8=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var E=m.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||W8,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var E=m.getAttribute("data-emotion").split(" "),g=1;g<E.length;g++)s[E[g]]=!0;a.push(m)});var l,u=[V8,j8];{var c,d=[$8,L8(function(m){c.insert(m)})],h=D8(u.concat(i,d)),f=function(E){return na(O8(E),h)};l=function(E,g,v,y){c=v,f(E?E+"{"+g.styles+"}":g.styles),y&&(p.inserted[g.name]=!0)}}var p={key:n,sheet:new w8({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p},HA={exports:{}},Fe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $t=typeof Symbol=="function"&&Symbol.for,Lw=$t?Symbol.for("react.element"):60103,Fw=$t?Symbol.for("react.portal"):60106,Ap=$t?Symbol.for("react.fragment"):60107,Op=$t?Symbol.for("react.strict_mode"):60108,Mp=$t?Symbol.for("react.profiler"):60114,$p=$t?Symbol.for("react.provider"):60109,Dp=$t?Symbol.for("react.context"):60110,Uw=$t?Symbol.for("react.async_mode"):60111,Lp=$t?Symbol.for("react.concurrent_mode"):60111,Fp=$t?Symbol.for("react.forward_ref"):60112,Up=$t?Symbol.for("react.suspense"):60113,q8=$t?Symbol.for("react.suspense_list"):60120,Bp=$t?Symbol.for("react.memo"):60115,zp=$t?Symbol.for("react.lazy"):60116,K8=$t?Symbol.for("react.block"):60121,G8=$t?Symbol.for("react.fundamental"):60117,Q8=$t?Symbol.for("react.responder"):60118,Y8=$t?Symbol.for("react.scope"):60119;function qn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Lw:switch(t=t.type,t){case Uw:case Lp:case Ap:case Mp:case Op:case Up:return t;default:switch(t=t&&t.$$typeof,t){case Dp:case Fp:case zp:case Bp:case $p:return t;default:return e}}case Fw:return e}}}function qA(t){return qn(t)===Lp}Fe.AsyncMode=Uw;Fe.ConcurrentMode=Lp;Fe.ContextConsumer=Dp;Fe.ContextProvider=$p;Fe.Element=Lw;Fe.ForwardRef=Fp;Fe.Fragment=Ap;Fe.Lazy=zp;Fe.Memo=Bp;Fe.Portal=Fw;Fe.Profiler=Mp;Fe.StrictMode=Op;Fe.Suspense=Up;Fe.isAsyncMode=function(t){return qA(t)||qn(t)===Uw};Fe.isConcurrentMode=qA;Fe.isContextConsumer=function(t){return qn(t)===Dp};Fe.isContextProvider=function(t){return qn(t)===$p};Fe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lw};Fe.isForwardRef=function(t){return qn(t)===Fp};Fe.isFragment=function(t){return qn(t)===Ap};Fe.isLazy=function(t){return qn(t)===zp};Fe.isMemo=function(t){return qn(t)===Bp};Fe.isPortal=function(t){return qn(t)===Fw};Fe.isProfiler=function(t){return qn(t)===Mp};Fe.isStrictMode=function(t){return qn(t)===Op};Fe.isSuspense=function(t){return qn(t)===Up};Fe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ap||t===Lp||t===Mp||t===Op||t===Up||t===q8||typeof t=="object"&&t!==null&&(t.$$typeof===zp||t.$$typeof===Bp||t.$$typeof===$p||t.$$typeof===Dp||t.$$typeof===Fp||t.$$typeof===G8||t.$$typeof===Q8||t.$$typeof===Y8||t.$$typeof===K8)};Fe.typeOf=qn;(function(t){t.exports=Fe})(HA);var KA=HA.exports,X8={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},J8={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},GA={};GA[KA.ForwardRef]=X8;GA[KA.Memo]=J8;var Z8=!0;function eK(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var QA=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Z8===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},YA=function(e,n,r){QA(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function tK(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var nK={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rK=/[A-Z]|^ms/g,iK=/_EMO_([^_]+?)_([^]*?)_EMO_/g,XA=function(e){return e.charCodeAt(1)===45},lS=function(e){return e!=null&&typeof e!="boolean"},cg=LA(function(t){return XA(t)?t:t.replace(rK,"-$&").toLowerCase()}),uS=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(iK,function(r,i,s){return Ir={name:i,styles:s,next:Ir},i})}return nK[e]!==1&&!XA(e)&&typeof n=="number"&&n!==0?n+"px":n};function ec(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Ir={name:n.name,styles:n.styles,next:Ir},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Ir={name:r.name,styles:r.styles,next:Ir},r=r.next;var i=n.styles+";";return i}return sK(t,e,n)}case"function":{if(t!==void 0){var s=Ir,o=n(t);return Ir=s,ec(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function sK(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ec(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":lS(o)&&(r+=cg(s)+":"+uS(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)lS(o[a])&&(r+=cg(s)+":"+uS(s,o[a])+";");else{var l=ec(t,e,o);switch(s){case"animation":case"animationName":{r+=cg(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var cS=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ir,Bw=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Ir=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=ec(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=ec(r,n,e[a]),i&&(s+=o[a]);cS.lastIndex=0;for(var l="",u;(u=cS.exec(s))!==null;)l+="-"+u[1];var c=tK(s)+l;return{name:c,styles:s,next:Ir}},oK=function(e){return e()},JA=_g["useInsertionEffect"]?_g["useInsertionEffect"]:!1,aK=JA||oK,dS=JA||w.exports.useLayoutEffect,ZA=w.exports.createContext(typeof HTMLElement<"u"?H8({key:"css"}):null);ZA.Provider;var eO=function(e){return w.exports.forwardRef(function(n,r){var i=w.exports.useContext(ZA);return e(n,i,r)})},tO=w.exports.createContext({}),lK=eO(function(t,e){var n=t.styles,r=Bw([n],void 0,w.exports.useContext(tO)),i=w.exports.useRef();return dS(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),dS(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&YA(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function zw(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Bw(e)}var Bc=function(){var e=zw.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},uK=v8,cK=function(e){return e!=="theme"},hS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?uK:cK},fS=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},dK=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return QA(n,r,i),aK(function(){return YA(n,r,i)}),null},hK=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=fS(e,n,r),l=a||hS(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,f=1;f<h;f++)d.push(c[f],c[0][f])}var p=eO(function(m,E,g){var v=u&&m.as||i,y="",_=[],C=m;if(m.theme==null){C={};for(var x in m)C[x]=m[x];C.theme=w.exports.useContext(tO)}typeof m.className=="string"?y=eK(E.registered,_,m.className):m.className!=null&&(y=m.className+" ");var S=Bw(d.concat(_),E.registered,C);y+=E.key+"-"+S.name,o!==void 0&&(y+=" "+o);var T=u&&a===void 0?hS(v):l,N={};for(var I in m)u&&I==="as"||T(I)&&(N[I]=m[I]);return N.className=y,N.ref=g,w.exports.createElement(w.exports.Fragment,null,w.exports.createElement(dK,{cache:E,serialized:S,isStringTag:typeof v=="string"}),w.exports.createElement(v,N))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=d,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(m,E){return t(m,b({},n,E,{shouldForwardProp:fS(p,E,!0)})).apply(void 0,d)},p}},fK=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],gy=hK.bind();fK.forEach(function(t){gy[t]=gy(t)});const pK=gy;function mK(t){return t==null||Object.keys(t).length===0}function gK(t){const{styles:e,defaultTheme:n={}}=t;return k(lK,{styles:typeof e=="function"?i=>e(mK(i)?n:i):e})}/** @license MUI v5.10.5
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function nO(t,e){return pK(t,e)}const vK=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function tu(t,e){return e?Nn(t,e,{clone:!1}):t}const Vw={xs:0,sm:600,md:900,lg:1200,xl:1536},pS={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Vw[t]}px)`};function zr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||pS;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||pS;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||Vw).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function rO(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function iO(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function yK(t,...e){const n=rO(t),r=[n,...e].reduce((i,s)=>Nn(i,s),{});return iO(Object.keys(n),r)}function _K(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function dg({values:t,breakpoints:e,base:n}){const r=n||_K(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function jw(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function mS(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=jw(t,n)||r,e&&(i=e(i)),i}function H(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=jw(l,r)||{};return zr(o,a,d=>{let h=mS(u,i,d);return d===h&&typeof d=="string"&&(h=mS(u,i,`${e}${d==="default"?"":ne(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function as(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?tu(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function wK(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const EK={m:"margin",p:"padding"},bK={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},gS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},CK=wK(t=>{if(t.length>2)if(gS[t])t=gS[t];else return[t];const[e,n]=t.split(""),r=EK[e],i=bK[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),SK=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],xK=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],sO=[...SK,...xK];function zc(t,e,n,r){var i;const s=(i=jw(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function Ww(t){return zc(t,"spacing",8)}function Qa(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function TK(t,e){return n=>t.reduce((r,i)=>(r[i]=Qa(e,n),r),{})}function IK(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=CK(n),s=TK(i,r),o=t[n];return zr(t,o,s)}function kK(t,e){const n=Ww(t.theme);return Object.keys(t).map(r=>IK(t,e,r,n)).reduce(tu,{})}function Vp(t){return kK(t,sO)}Vp.propTypes={};Vp.filterProps=sO;function Vc(t){return typeof t!="number"?t:`${t}px solid`}const RK=H({prop:"border",themeKey:"borders",transform:Vc}),PK=H({prop:"borderTop",themeKey:"borders",transform:Vc}),NK=H({prop:"borderRight",themeKey:"borders",transform:Vc}),AK=H({prop:"borderBottom",themeKey:"borders",transform:Vc}),OK=H({prop:"borderLeft",themeKey:"borders",transform:Vc}),MK=H({prop:"borderColor",themeKey:"palette"}),$K=H({prop:"borderTopColor",themeKey:"palette"}),DK=H({prop:"borderRightColor",themeKey:"palette"}),LK=H({prop:"borderBottomColor",themeKey:"palette"}),FK=H({prop:"borderLeftColor",themeKey:"palette"}),Hw=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=zc(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Qa(e,r)});return zr(t,t.borderRadius,n)}return null};Hw.propTypes={};Hw.filterProps=["borderRadius"];const UK=as(RK,PK,NK,AK,OK,MK,$K,DK,LK,FK,Hw),oO=UK,BK=H({prop:"displayPrint",cssProperty:!1,transform:t=>({"@media print":{display:t}})}),zK=H({prop:"display"}),VK=H({prop:"overflow"}),jK=H({prop:"textOverflow"}),WK=H({prop:"visibility"}),HK=H({prop:"whiteSpace"}),aO=as(BK,zK,VK,jK,WK,HK),qK=H({prop:"flexBasis"}),KK=H({prop:"flexDirection"}),GK=H({prop:"flexWrap"}),QK=H({prop:"justifyContent"}),YK=H({prop:"alignItems"}),XK=H({prop:"alignContent"}),JK=H({prop:"order"}),ZK=H({prop:"flex"}),eG=H({prop:"flexGrow"}),tG=H({prop:"flexShrink"}),nG=H({prop:"alignSelf"}),rG=H({prop:"justifyItems"}),iG=H({prop:"justifySelf"}),sG=as(qK,KK,GK,QK,YK,XK,JK,ZK,eG,tG,nG,rG,iG),lO=sG,qw=t=>{if(t.gap!==void 0&&t.gap!==null){const e=zc(t.theme,"spacing",8),n=r=>({gap:Qa(e,r)});return zr(t,t.gap,n)}return null};qw.propTypes={};qw.filterProps=["gap"];const Kw=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=zc(t.theme,"spacing",8),n=r=>({columnGap:Qa(e,r)});return zr(t,t.columnGap,n)}return null};Kw.propTypes={};Kw.filterProps=["columnGap"];const Gw=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=zc(t.theme,"spacing",8),n=r=>({rowGap:Qa(e,r)});return zr(t,t.rowGap,n)}return null};Gw.propTypes={};Gw.filterProps=["rowGap"];const oG=H({prop:"gridColumn"}),aG=H({prop:"gridRow"}),lG=H({prop:"gridAutoFlow"}),uG=H({prop:"gridAutoColumns"}),cG=H({prop:"gridAutoRows"}),dG=H({prop:"gridTemplateColumns"}),hG=H({prop:"gridTemplateRows"}),fG=H({prop:"gridTemplateAreas"}),pG=H({prop:"gridArea"}),mG=as(qw,Kw,Gw,oG,aG,lG,uG,cG,dG,hG,fG,pG),uO=mG,gG=H({prop:"color",themeKey:"palette"}),vG=H({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),yG=H({prop:"backgroundColor",themeKey:"palette"}),_G=as(gG,vG,yG),cO=_G,wG=H({prop:"position"}),EG=H({prop:"zIndex",themeKey:"zIndex"}),bG=H({prop:"top"}),CG=H({prop:"right"}),SG=H({prop:"bottom"}),xG=H({prop:"left"}),dO=as(wG,EG,bG,CG,SG,xG),TG=H({prop:"boxShadow",themeKey:"shadows"}),hO=TG;function ls(t){return t<=1&&t!==0?`${t*100}%`:t}const IG=H({prop:"width",transform:ls}),fO=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||Vw[n]||ls(n)}};return zr(t,t.maxWidth,e)}return null};fO.filterProps=["maxWidth"];const kG=H({prop:"minWidth",transform:ls}),RG=H({prop:"height",transform:ls}),PG=H({prop:"maxHeight",transform:ls}),NG=H({prop:"minHeight",transform:ls});H({prop:"size",cssProperty:"width",transform:ls});H({prop:"size",cssProperty:"height",transform:ls});const AG=H({prop:"boxSizing"}),OG=as(IG,fO,kG,RG,PG,NG,AG),pO=OG,MG=H({prop:"fontFamily",themeKey:"typography"}),$G=H({prop:"fontSize",themeKey:"typography"}),DG=H({prop:"fontStyle",themeKey:"typography"}),LG=H({prop:"fontWeight",themeKey:"typography"}),FG=H({prop:"letterSpacing"}),UG=H({prop:"textTransform"}),BG=H({prop:"lineHeight"}),zG=H({prop:"textAlign"}),VG=H({prop:"typography",cssProperty:!1,themeKey:"typography"}),jG=as(VG,MG,$G,DG,LG,FG,BG,zG,UG),mO=jG,vS={borders:oO.filterProps,display:aO.filterProps,flexbox:lO.filterProps,grid:uO.filterProps,positions:dO.filterProps,palette:cO.filterProps,shadows:hO.filterProps,sizing:pO.filterProps,spacing:Vp.filterProps,typography:mO.filterProps},gO={borders:oO,display:aO,flexbox:lO,grid:uO,positions:dO,palette:cO,shadows:hO,sizing:pO,spacing:Vp,typography:mO},WG=Object.keys(vS).reduce((t,e)=>(vS[e].forEach(n=>{t[n]=gO[e]}),t),{});function HG(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function qG(t,e){return typeof t=="function"?t(e):t}function KG(t=gO){const e=Object.keys(t).reduce((i,s)=>(t[s].filterProps.forEach(o=>{i[o]=t[s]}),i),{});function n(i,s,o){const a={[i]:s,theme:o},l=e[i];return l?l(a):{[i]:s}}function r(i){const{sx:s,theme:o={}}=i||{};if(!s)return null;function a(l){let u=l;if(typeof l=="function")u=l(o);else if(typeof l!="object")return l;if(!u)return null;const c=rO(o.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(f=>{const p=qG(u[f],o);if(p!=null)if(typeof p=="object")if(e[f])h=tu(h,n(f,p,o));else{const m=zr({theme:o},p,E=>({[f]:E}));HG(m,p)?h[f]=r({sx:p,theme:o}):h=tu(h,m)}else h=tu(h,n(f,p,o))}),iO(d,h)}return Array.isArray(s)?s.map(a):a(s)}return r}const vO=KG();vO.filterProps=["sx"];const yO=vO,GG=["sx"],QG=t=>{const e={systemProps:{},otherProps:{}};return Object.keys(t).forEach(n=>{WG[n]?e.systemProps[n]=t[n]:e.otherProps[n]=t[n]}),e};function Qw(t){const{sx:e}=t,n=X(t,GG),{systemProps:r,otherProps:i}=QG(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Rl(a)?b({},r,a):r}:s=b({},r,e),b({},i,{sx:s})}const YG=["values","unit","step"],XG=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>b({},n,{[r.key]:r.val}),{})};function JG(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=X(t,YG),s=XG(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,f){const p=o.indexOf(f);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:f)-r/100}${n})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const f=o.indexOf(h);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return b({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:n},i)}const ZG={borderRadius:4},e9=ZG;function t9(t=8){if(t.mui)return t;const e=Ww({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}const n9=["breakpoints","palette","spacing","shape"];function jp(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=X(t,n9),a=JG(n),l=t9(i);let u=Nn({breakpoints:a,direction:"ltr",components:{},palette:b({mode:"light"},r),spacing:l,shape:b({},e9,s)},o);return u=e.reduce((c,d)=>Nn(c,d),u),u}const r9=w.exports.createContext(null),i9=r9;function s9(){return w.exports.useContext(i9)}function o9(t){return Object.keys(t).length===0}function _O(t=null){const e=s9();return!e||o9(e)?t:e}const a9=jp();function Yw(t=a9){return _O(t)}const l9=["className","component"];function u9(t={}){const{defaultTheme:e,defaultClassName:n="MuiBox-root",generateClassName:r,styleFunctionSx:i=yO}=t,s=nO("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(i);return w.exports.forwardRef(function(l,u){const c=Yw(e),d=Qw(l),{className:h,component:f="div"}=d,p=X(d,l9);return k(s,b({as:f,ref:u,className:ae(h,r?r(n):n),theme:c},p))})}const c9=["variant"];function yS(t){return t.length===0}function wO(t){const{variant:e}=t,n=X(t,c9);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=yS(r)?t[i]:ne(t[i]):r+=`${yS(r)?i:ne(i)}${ne(t[i].toString())}`}),r}const d9=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],h9=["theme"],f9=["theme"];function yl(t){return Object.keys(t).length===0}function p9(t){return typeof t=="string"&&t.charCodeAt(0)>96}const m9=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,g9=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=wO(i.props);r[s]=i.style}),r},v9=(t,e,n,r)=>{var i,s;const{ownerState:o={}}=t,a=[],l=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(u=>{let c=!0;Object.keys(u.props).forEach(d=>{o[d]!==u.props[d]&&t[d]!==u.props[d]&&(c=!1)}),c&&a.push(e[wO(u.props)])}),a};function nu(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const y9=jp();function EO(t={}){const{defaultTheme:e=y9,rootShouldForwardProp:n=nu,slotShouldForwardProp:r=nu,styleFunctionSx:i=yO}=t,s=o=>{const a=yl(o.theme)?e:o.theme;return i(b({},o,{theme:a}))};return s.__mui_systemSx=!0,(o,a={})=>{vK(o,_=>_.filter(C=>!(C!=null&&C.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h}=a,f=X(a,d9),p=c!==void 0?c:u&&u!=="Root"||!1,m=d||!1;let E,g=nu;u==="Root"?g=n:u?g=r:p9(o)&&(g=void 0);const v=nO(o,b({shouldForwardProp:g,label:E},f)),y=(_,...C)=>{const x=C?C.map(I=>typeof I=="function"&&I.__emotion_real!==I?M=>{let{theme:V}=M,B=X(M,h9);return I(b({theme:yl(V)?e:V},B))}:I):[];let S=_;l&&h&&x.push(I=>{const M=yl(I.theme)?e:I.theme,V=m9(l,M);if(V){const B={};return Object.entries(V).forEach(([Q,U])=>{B[Q]=typeof U=="function"?U(b({},I,{theme:M})):U}),h(I,B)}return null}),l&&!p&&x.push(I=>{const M=yl(I.theme)?e:I.theme;return v9(I,g9(l,M),M,l)}),m||x.push(s);const T=x.length-C.length;if(Array.isArray(_)&&T>0){const I=new Array(T).fill("");S=[..._,...I],S.raw=[..._.raw,...I]}else typeof _=="function"&&_.__emotion_real!==_&&(S=I=>{let{theme:M}=I,V=X(I,f9);return _(b({theme:yl(M)?e:M},V))});return v(S,...x)};return v.withConfig&&(y.withConfig=v.withConfig),y}}const _9=EO(),w9=_9;function E9(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:TA(e.components[n].defaultProps,r)}function bO({props:t,name:e,defaultTheme:n}){const r=Yw(n);return E9({theme:r,name:e,props:t})}function Xw(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function b9(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ro(t){if(t.type)return t;if(t.charAt(0)==="#")return ro(b9(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Ji(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Ji(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function Wp(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function C9(t){t=ro(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Wp({type:a,values:l})}function _S(t){t=ro(t);let e=t.type==="hsl"?ro(C9(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function S9(t,e){const n=_S(t),r=_S(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function In(t,e){return t=ro(t),e=Xw(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Wp(t)}function x9(t,e){if(t=ro(t),e=Xw(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Wp(t)}function T9(t,e){if(t=ro(t),e=Xw(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Wp(t)}const I9=["className","component","disableGutters","fixed","maxWidth","classes"],k9=jp(),R9=w9("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${ne(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),P9=t=>bO({props:t,name:"MuiContainer",defaultTheme:k9}),N9=(t,e)=>{const n=l=>Re(e,l),{classes:r,fixed:i,disableGutters:s,maxWidth:o}=t,a={root:["root",o&&`maxWidth${ne(String(o))}`,i&&"fixed",s&&"disableGutters"]};return Me(a,n,r)};function A9(t={}){const{createStyledComponent:e=R9,useThemeProps:n=P9,componentName:r="MuiContainer"}=t,i=e(({theme:o,ownerState:a})=>b({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:a})=>a.fixed&&Object.keys(o.breakpoints.values).reduce((l,u)=>{const c=u,d=o.breakpoints.values[c];return d!==0&&(l[o.breakpoints.up(c)]={maxWidth:`${d}${o.breakpoints.unit}`}),l},{}),({theme:o,ownerState:a})=>b({},a.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[o.breakpoints.up(a.maxWidth)]:{maxWidth:`${o.breakpoints.values[a.maxWidth]}${o.breakpoints.unit}`}}));return w.exports.forwardRef(function(a,l){const u=n(a),{className:c,component:d="div",disableGutters:h=!1,fixed:f=!1,maxWidth:p="lg"}=u,m=X(u,I9),E=b({},u,{component:d,disableGutters:h,fixed:f,maxWidth:p}),g=N9(E,r);return k(i,b({as:d,ownerState:E,className:ae(g.root,c),ref:l},m))})}function O9(t,e){return b({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const M9={black:"#000",white:"#fff"},tc=M9,$9={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},D9=$9,L9={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},vo=L9,F9={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},yo=F9,U9={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},_l=U9,B9={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},_o=B9,z9={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},wo=z9,V9={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Eo=V9,j9=["mode","contrastThreshold","tonalOffset"],wS={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:tc.white,default:tc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},hg={text:{primary:tc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:tc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ES(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=T9(t.main,i):e==="dark"&&(t.dark=x9(t.main,s)))}function W9(t="light"){return t==="dark"?{main:_o[200],light:_o[50],dark:_o[400]}:{main:_o[700],light:_o[400],dark:_o[800]}}function H9(t="light"){return t==="dark"?{main:vo[200],light:vo[50],dark:vo[400]}:{main:vo[500],light:vo[300],dark:vo[700]}}function q9(t="light"){return t==="dark"?{main:yo[500],light:yo[300],dark:yo[700]}:{main:yo[700],light:yo[400],dark:yo[800]}}function K9(t="light"){return t==="dark"?{main:wo[400],light:wo[300],dark:wo[700]}:{main:wo[700],light:wo[500],dark:wo[900]}}function G9(t="light"){return t==="dark"?{main:Eo[400],light:Eo[300],dark:Eo[700]}:{main:Eo[800],light:Eo[500],dark:Eo[900]}}function Q9(t="light"){return t==="dark"?{main:_l[400],light:_l[300],dark:_l[700]}:{main:"#ed6c02",light:_l[500],dark:_l[900]}}function Y9(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=X(t,j9),s=t.primary||W9(e),o=t.secondary||H9(e),a=t.error||q9(e),l=t.info||K9(e),u=t.success||G9(e),c=t.warning||Q9(e);function d(m){return S9(m,hg.text.primary)>=n?hg.text.primary:wS.text.primary}const h=({color:m,name:E,mainShade:g=500,lightShade:v=300,darkShade:y=700})=>{if(m=b({},m),!m.main&&m[g]&&(m.main=m[g]),!m.hasOwnProperty("main"))throw new Error(Ji(11,E?` (${E})`:"",g));if(typeof m.main!="string")throw new Error(Ji(12,E?` (${E})`:"",JSON.stringify(m.main)));return ES(m,"light",v,r),ES(m,"dark",y,r),m.contrastText||(m.contrastText=d(m.main)),m},f={dark:hg,light:wS};return Nn(b({common:b({},tc),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:D9,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},f[e]),i)}const X9=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function J9(t){return Math.round(t*1e5)/1e5}const bS={textTransform:"uppercase"},CS='"Roboto", "Helvetica", "Arial", sans-serif';function Z9(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=CS,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=X(n,X9),f=i/14,p=d||(g=>`${g/u*f}rem`),m=(g,v,y,_,C)=>b({fontFamily:r,fontWeight:g,fontSize:p(v),lineHeight:y},r===CS?{letterSpacing:`${J9(_/v)}em`}:{},C,c),E={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,bS),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,bS)};return Nn(b({htmlFontSize:u,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},E),h,{clone:!1})}const e7=.2,t7=.14,n7=.12;function Je(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${e7})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${t7})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${n7})`].join(",")}const r7=["none",Je(0,2,1,-1,0,1,1,0,0,1,3,0),Je(0,3,1,-2,0,2,2,0,0,1,5,0),Je(0,3,3,-2,0,3,4,0,0,1,8,0),Je(0,2,4,-1,0,4,5,0,0,1,10,0),Je(0,3,5,-1,0,5,8,0,0,1,14,0),Je(0,3,5,-1,0,6,10,0,0,1,18,0),Je(0,4,5,-2,0,7,10,1,0,2,16,1),Je(0,5,5,-3,0,8,10,1,0,3,14,2),Je(0,5,6,-3,0,9,12,1,0,3,16,2),Je(0,6,6,-3,0,10,14,1,0,4,18,3),Je(0,6,7,-4,0,11,15,1,0,4,20,3),Je(0,7,8,-4,0,12,17,2,0,5,22,4),Je(0,7,8,-4,0,13,19,2,0,5,24,4),Je(0,7,9,-4,0,14,21,2,0,5,26,4),Je(0,8,9,-5,0,15,22,2,0,6,28,5),Je(0,8,10,-5,0,16,24,2,0,6,30,5),Je(0,8,11,-5,0,17,26,2,0,6,32,5),Je(0,9,11,-5,0,18,28,2,0,7,34,6),Je(0,9,12,-6,0,19,29,2,0,7,36,6),Je(0,10,13,-6,0,20,31,3,0,8,38,7),Je(0,10,13,-6,0,21,33,3,0,8,40,7),Je(0,10,14,-6,0,22,35,3,0,8,42,7),Je(0,11,14,-7,0,23,36,3,0,9,44,8),Je(0,11,15,-7,0,24,38,3,0,9,46,8)],i7=r7,s7=["duration","easing","delay"],o7={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},a7={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function SS(t){return`${Math.round(t)}ms`}function l7(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function u7(t){const e=b({},o7,t.easing),n=b({},a7,t.duration);return b({getAutoHeightDuration:l7,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return X(s,s7),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:SS(o)} ${a} ${typeof l=="string"?l:SS(l)}`).join(",")}},t,{easing:e,duration:n})}const c7={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},d7=c7,h7=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function CO(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=X(t,h7);if(t.vars)throw new Error(Ji(18));const a=Y9(r),l=jp(t);let u=Nn(l,{mixins:O9(l.breakpoints,n),palette:a,shadows:i7.slice(),typography:Z9(a,s),transitions:u7(i),zIndex:b({},d7)});return u=Nn(u,o),u=e.reduce((c,d)=>Nn(c,d),u),u}const f7=CO(),Hp=f7,jr=t=>nu(t)&&t!=="classes",p7=nu,m7=EO({defaultTheme:Hp,rootShouldForwardProp:jr}),Y=m7;function Pe({props:t,name:e}){return bO({props:t,name:e,defaultTheme:Hp})}function vy(t,e){return vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vy(t,e)}function SO(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,vy(t,e)}const xS={disabled:!1},mf=ks.createContext(null);var g7=function(e){return e.scrollTop},Nl="unmounted",ms="exited",gs="entering",So="entered",yy="exiting",gi=function(t){SO(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=ms,s.appearStatus=gs):l=So:r.unmountOnExit||r.mountOnEnter?l=Nl:l=ms,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Nl?{status:ms}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==gs&&o!==So&&(s=gs):(o===gs||o===So)&&(s=yy)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===gs){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:od.findDOMNode(this);o&&g7(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ms&&this.setState({status:Nl})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[od.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||xS.disabled){this.safeSetState({status:So},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:gs},function(){s.props.onEntering(u,c),s.onTransitionEnd(h,function(){s.safeSetState({status:So},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:od.findDOMNode(this);if(!s||xS.disabled){this.safeSetState({status:ms},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:yy},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ms},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:od.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Nl)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=X(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return k(mf.Provider,{value:null,children:typeof o=="function"?o(i,a):ks.cloneElement(ks.Children.only(o),a)})},e}(ks.Component);gi.contextType=mf;gi.propTypes={};function bo(){}gi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:bo,onEntering:bo,onEntered:bo,onExit:bo,onExiting:bo,onExited:bo};gi.UNMOUNTED=Nl;gi.EXITED=ms;gi.ENTERING=gs;gi.ENTERED=So;gi.EXITING=yy;const xO=gi;function v7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jw(t,e){var n=function(s){return e&&w.exports.isValidElement(s)?e(s):s},r=Object.create(null);return t&&w.exports.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function y7(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Is(t,e,n){return n[e]!=null?n[e]:t.props[e]}function _7(t,e){return Jw(t.children,function(n){return w.exports.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Is(n,"appear",t),enter:Is(n,"enter",t),exit:Is(n,"exit",t)})})}function w7(t,e,n){var r=Jw(t.children),i=y7(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(!!w.exports.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=w.exports.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=w.exports.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Is(o,"exit",t),enter:Is(o,"enter",t)}):!l&&a&&!c?i[s]=w.exports.cloneElement(o,{in:!1}):l&&a&&w.exports.isValidElement(u)&&(i[s]=w.exports.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:Is(o,"exit",t),enter:Is(o,"enter",t)}))}}),i}var E7=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},b7={component:"div",childFactory:function(e){return e}},Zw=function(t){SO(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(v7(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?_7(i,a):w7(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=Jw(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=b({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=X(i,["component","childFactory"]),l=this.state.contextValue,u=E7(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?k(mf.Provider,{value:l,children:u}):k(mf.Provider,{value:l,children:k(s,{...a,children:u})})},e}(ks.Component);Zw.propTypes={};Zw.defaultProps=b7;const C7=Zw;function S7(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[c,d]=w.exports.useState(!1),h=ae(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},p=ae(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),w.exports.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,u);return()=>{clearTimeout(m)}}},[l,a,u]),k("span",{className:h,style:f,children:k("span",{className:p})})}const x7=Te("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Qn=x7,T7=["center","classes","className"];let qp=t=>t,TS,IS,kS,RS;const _y=550,I7=80,k7=Bc(TS||(TS=qp`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),R7=Bc(IS||(IS=qp`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),P7=Bc(kS||(kS=qp`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),N7=Y("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),A7=Y(S7,{name:"MuiTouchRipple",slot:"Ripple"})(RS||(RS=qp`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Qn.rippleVisible,k7,_y,({theme:t})=>t.transitions.easing.easeInOut,Qn.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Qn.child,Qn.childLeaving,R7,_y,({theme:t})=>t.transitions.easing.easeInOut,Qn.childPulsate,P7,({theme:t})=>t.transitions.easing.easeInOut),O7=w.exports.forwardRef(function(e,n){const r=Pe({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=X(r,T7),[l,u]=w.exports.useState([]),c=w.exports.useRef(0),d=w.exports.useRef(null);w.exports.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=w.exports.useRef(!1),f=w.exports.useRef(null),p=w.exports.useRef(null),m=w.exports.useRef(null);w.exports.useEffect(()=>()=>{clearTimeout(f.current)},[]);const E=w.exports.useCallback(_=>{const{pulsate:C,rippleX:x,rippleY:S,rippleSize:T,cb:N}=_;u(I=>[...I,k(A7,{classes:{ripple:ae(s.ripple,Qn.ripple),rippleVisible:ae(s.rippleVisible,Qn.rippleVisible),ripplePulsate:ae(s.ripplePulsate,Qn.ripplePulsate),child:ae(s.child,Qn.child),childLeaving:ae(s.childLeaving,Qn.childLeaving),childPulsate:ae(s.childPulsate,Qn.childPulsate)},timeout:_y,pulsate:C,rippleX:x,rippleY:S,rippleSize:T},c.current)]),c.current+=1,d.current=N},[s]),g=w.exports.useCallback((_={},C={},x)=>{const{pulsate:S=!1,center:T=i||C.pulsate,fakeElement:N=!1}=C;if((_==null?void 0:_.type)==="mousedown"&&h.current){h.current=!1;return}(_==null?void 0:_.type)==="touchstart"&&(h.current=!0);const I=N?null:m.current,M=I?I.getBoundingClientRect():{width:0,height:0,left:0,top:0};let V,B,Q;if(T||_===void 0||_.clientX===0&&_.clientY===0||!_.clientX&&!_.touches)V=Math.round(M.width/2),B=Math.round(M.height/2);else{const{clientX:U,clientY:P}=_.touches&&_.touches.length>0?_.touches[0]:_;V=Math.round(U-M.left),B=Math.round(P-M.top)}if(T)Q=Math.sqrt((2*M.width**2+M.height**2)/3),Q%2===0&&(Q+=1);else{const U=Math.max(Math.abs((I?I.clientWidth:0)-V),V)*2+2,P=Math.max(Math.abs((I?I.clientHeight:0)-B),B)*2+2;Q=Math.sqrt(U**2+P**2)}_!=null&&_.touches?p.current===null&&(p.current=()=>{E({pulsate:S,rippleX:V,rippleY:B,rippleSize:Q,cb:x})},f.current=setTimeout(()=>{p.current&&(p.current(),p.current=null)},I7)):E({pulsate:S,rippleX:V,rippleY:B,rippleSize:Q,cb:x})},[i,E]),v=w.exports.useCallback(()=>{g({},{pulsate:!0})},[g]),y=w.exports.useCallback((_,C)=>{if(clearTimeout(f.current),(_==null?void 0:_.type)==="touchend"&&p.current){p.current(),p.current=null,f.current=setTimeout(()=>{y(_,C)});return}p.current=null,u(x=>x.length>0?x.slice(1):x),d.current=C},[]);return w.exports.useImperativeHandle(n,()=>({pulsate:v,start:g,stop:y}),[v,g,y]),k(N7,b({className:ae(Qn.root,s.root,o),ref:m},a,{children:k(C7,{component:null,exit:!0,children:l})}))}),M7=O7;function $7(t){return Re("MuiButtonBase",t)}const D7=Te("MuiButtonBase",["root","disabled","focusVisible"]),L7=D7,F7=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],U7=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=Me({root:["root",e&&"disabled",n&&"focusVisible"]},$7,i);return n&&r&&(o.root+=` ${r}`),o},B7=Y("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${L7.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),z7=w.exports.forwardRef(function(e,n){const r=Pe({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:p,onClick:m,onContextMenu:E,onDragLeave:g,onFocus:v,onFocusVisible:y,onKeyDown:_,onKeyUp:C,onMouseDown:x,onMouseLeave:S,onMouseUp:T,onTouchEnd:N,onTouchMove:I,onTouchStart:M,tabIndex:V=0,TouchRippleProps:B,touchRippleRef:Q,type:U}=r,P=X(r,F7),L=w.exports.useRef(null),R=w.exports.useRef(null),F=ze(R,Q),{isFocusVisibleRef:z,onFocus:K,onBlur:J,ref:ge}=xw(),[ie,ve]=w.exports.useState(!1);u&&ie&&ve(!1),w.exports.useImperativeHandle(i,()=>({focusVisible:()=>{ve(!0),L.current.focus()}}),[]);const[he,je]=w.exports.useState(!1);w.exports.useEffect(()=>{je(!0)},[]);const fe=he&&!c&&!u;w.exports.useEffect(()=>{ie&&h&&!c&&he&&R.current.pulsate()},[c,h,ie,he]);function $e(G,rt,vi=d){return Ni(Gn=>(rt&&rt(Gn),!vi&&R.current&&R.current[G](Gn),!0))}const Ee=$e("start",x),Ge=$e("stop",E),St=$e("stop",g),Kt=$e("stop",T),nt=$e("stop",G=>{ie&&G.preventDefault(),S&&S(G)}),sn=$e("start",M),gt=$e("stop",N),Ue=$e("stop",I),on=$e("stop",G=>{J(G),z.current===!1&&ve(!1),p&&p(G)},!1),an=Ni(G=>{L.current||(L.current=G.currentTarget),K(G),z.current===!0&&(ve(!0),y&&y(G)),v&&v(G)}),Ne=()=>{const G=L.current;return l&&l!=="button"&&!(G.tagName==="A"&&G.href)},xt=w.exports.useRef(!1),yn=Ni(G=>{h&&!xt.current&&ie&&R.current&&G.key===" "&&(xt.current=!0,R.current.stop(G,()=>{R.current.start(G)})),G.target===G.currentTarget&&Ne()&&G.key===" "&&G.preventDefault(),_&&_(G),G.target===G.currentTarget&&Ne()&&G.key==="Enter"&&!u&&(G.preventDefault(),m&&m(G))}),Kn=Ni(G=>{h&&G.key===" "&&R.current&&ie&&!G.defaultPrevented&&(xt.current=!1,R.current.stop(G,()=>{R.current.pulsate(G)})),C&&C(G),m&&G.target===G.currentTarget&&Ne()&&G.key===" "&&!G.defaultPrevented&&m(G)});let Dt=l;Dt==="button"&&(P.href||P.to)&&(Dt=f);const Lt={};Dt==="button"?(Lt.type=U===void 0?"button":U,Lt.disabled=u):(!P.href&&!P.to&&(Lt.role="button"),u&&(Lt["aria-disabled"]=u));const ln=ze(ge,L),Ce=ze(n,ln),q=b({},r,{centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:V,focusVisible:ie}),We=U7(q);return Be(B7,b({as:Dt,className:ae(We.root,a),ownerState:q,onBlur:on,onClick:m,onContextMenu:Ge,onFocus:an,onKeyDown:yn,onKeyUp:Kn,onMouseDown:Ee,onMouseLeave:nt,onMouseUp:Kt,onDragLeave:St,onTouchEnd:gt,onTouchMove:Ue,onTouchStart:sn,ref:Ce,tabIndex:u?-1:V,type:U},Lt,P,{children:[o,fe?k(M7,b({ref:F,center:s},B)):null]}))}),e1=z7;function V7(t){return Re("MuiButton",t)}const j7=Te("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Ed=j7,W7=w.exports.createContext({}),H7=W7,q7=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],K7=["root"],G7=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${ne(e)}`,`size${ne(i)}`,`${s}Size${ne(i)}`,e==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${ne(i)}`],endIcon:["endIcon",`iconSize${ne(i)}`]},l=Me(a,V7,o);return b({},o,l)},TO=t=>b({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Q7=Y(e1,{shouldForwardProp:t=>jr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${ne(n.color)}`],e[`size${ne(n.size)}`],e[`${n.variant}Size${ne(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;return b({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":b({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:In(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:In(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:In(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:(t.vars||t).palette.grey.A100,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":b({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Ed.focusVisible}`]:b({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Ed.disabled}`]:b({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="outlined"&&e.color==="secondary"&&{border:`1px solid ${(t.vars||t).palette.action.disabled}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${In(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Ed.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Ed.disabled}`]:{boxShadow:"none"}}),Y7=Y("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${ne(n.size)}`]]}})(({ownerState:t})=>b({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},TO(t))),X7=Y("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${ne(n.size)}`]]}})(({ownerState:t})=>b({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},TO(t))),J7=w.exports.forwardRef(function(e,n){const r=w.exports.useContext(H7),i=TA(r,e),s=Pe({props:i,name:"MuiButton"}),{children:o,color:a="primary",component:l="button",className:u,disabled:c=!1,disableElevation:d=!1,disableFocusRipple:h=!1,endIcon:f,focusVisibleClassName:p,fullWidth:m=!1,size:E="medium",startIcon:g,type:v,variant:y="text"}=s,_=X(s,q7),C=b({},s,{color:a,component:l,disabled:c,disableElevation:d,disableFocusRipple:h,fullWidth:m,size:E,type:v,variant:y}),x=G7(C),{root:S}=x,T=X(x,K7),N=g&&k(Y7,{className:T.startIcon,ownerState:C,children:g}),I=f&&k(X7,{className:T.endIcon,ownerState:C,children:f});return Be(Q7,b({ownerState:C,className:ae(r.className,S,u),component:l,disabled:c,focusRipple:!h,focusVisibleClassName:ae(T.focusVisible,p),ref:n,type:v},_,{classes:T,children:[N,o,I]}))}),t1=J7;function Kp(){return Yw(Hp)}function Z7(t){return Re("MuiPaper",t)}Te("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const eQ=["className","component","elevation","square","variant"],PS=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},tQ=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Me(s,Z7,i)},nQ=Y("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return b({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&b({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${In("#fff",PS(e.elevation))}, ${In("#fff",PS(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),rQ=w.exports.forwardRef(function(e,n){const r=Pe({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,u=X(r,eQ),c=b({},r,{component:s,elevation:o,square:a,variant:l}),d=tQ(c);return k(nQ,b({as:s,ownerState:c,className:ae(d.root,i),ref:n},u))}),n1=rQ,iQ=CO(),sQ=u9({defaultTheme:iQ,defaultClassName:"MuiBox-root",generateClassName:Tw.generate}),ru=sQ;function Ya({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const oQ=w.exports.createContext(),r1=oQ;function Xa(){return w.exports.useContext(r1)}function aQ(t){return k(gK,b({},t,{defaultTheme:Hp}))}function NS(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function i1(t,e=!1){return t&&(NS(t.value)&&t.value!==""||e&&NS(t.defaultValue)&&t.defaultValue!=="")}function lQ(t){return t.startAdornment}function uQ(t){return Re("MuiInputBase",t)}const cQ=Te("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Na=cQ,dQ=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],Gp=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${ne(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Qp=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},hQ=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:f,type:p}=t,m={root:["root",`color${ne(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h==="small"&&"sizeSmall",c&&"multiline",f&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",p==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return Me(m,uQ,e)},Yp=Y("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Gp})(({theme:t,ownerState:e})=>b({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Na.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&b({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Xp=Y("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Qp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=b({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return b({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Na.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Na.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),fQ=k(aQ,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),pQ=w.exports.forwardRef(function(e,n){const r=Pe({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:o,className:a,components:l={},componentsProps:u={},defaultValue:c,disabled:d,disableInjectingGlobalStyles:h,endAdornment:f,fullWidth:p=!1,id:m,inputComponent:E="input",inputProps:g={},inputRef:v,maxRows:y,minRows:_,multiline:C=!1,name:x,onBlur:S,onChange:T,onClick:N,onFocus:I,onKeyDown:M,onKeyUp:V,placeholder:B,readOnly:Q,renderSuffix:U,rows:P,startAdornment:L,type:R="text",value:F}=r,z=X(r,dQ),K=g.value!=null?g.value:F,{current:J}=w.exports.useRef(K!=null),ge=w.exports.useRef(),ie=w.exports.useCallback(Ce=>{},[]),ve=ze(g.ref,ie),he=ze(v,ve),je=ze(ge,he),[fe,$e]=w.exports.useState(!1),Ee=Xa(),Ge=Ya({props:r,muiFormControl:Ee,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ge.focused=Ee?Ee.focused:fe,w.exports.useEffect(()=>{!Ee&&d&&fe&&($e(!1),S&&S())},[Ee,d,fe,S]);const St=Ee&&Ee.onFilled,Kt=Ee&&Ee.onEmpty,nt=w.exports.useCallback(Ce=>{i1(Ce)?St&&St():Kt&&Kt()},[St,Kt]);Ur(()=>{J&&nt({value:K})},[K,nt,J]);const sn=Ce=>{if(Ge.disabled){Ce.stopPropagation();return}I&&I(Ce),g.onFocus&&g.onFocus(Ce),Ee&&Ee.onFocus?Ee.onFocus(Ce):$e(!0)},gt=Ce=>{S&&S(Ce),g.onBlur&&g.onBlur(Ce),Ee&&Ee.onBlur?Ee.onBlur(Ce):$e(!1)},Ue=(Ce,...q)=>{if(!J){const We=Ce.target||ge.current;if(We==null)throw new Error(Ji(1));nt({value:We.value})}g.onChange&&g.onChange(Ce,...q),T&&T(Ce,...q)};w.exports.useEffect(()=>{nt(ge.current)},[]);const on=Ce=>{ge.current&&Ce.currentTarget===Ce.target&&ge.current.focus(),N&&N(Ce)};let an=E,Ne=g;C&&an==="input"&&(P?Ne=b({type:void 0,minRows:P,maxRows:P},Ne):Ne=b({type:void 0,maxRows:y,minRows:_},Ne),an=m8);const xt=Ce=>{nt(Ce.animationName==="mui-auto-fill-cancel"?ge.current:{value:"x"})};w.exports.useEffect(()=>{Ee&&Ee.setAdornedStart(Boolean(L))},[Ee,L]);const yn=b({},r,{color:Ge.color||"primary",disabled:Ge.disabled,endAdornment:f,error:Ge.error,focused:Ge.focused,formControl:Ee,fullWidth:p,hiddenLabel:Ge.hiddenLabel,multiline:C,size:Ge.size,startAdornment:L,type:R}),Kn=hQ(yn),Dt=l.Root||Yp,Lt=u.root||{},ln=l.Input||Xp;return Ne=b({},Ne,u.input),Be(w.exports.Fragment,{children:[!h&&fQ,Be(Dt,b({},Lt,!hf(Dt)&&{ownerState:b({},yn,Lt.ownerState)},{ref:n,onClick:on},z,{className:ae(Kn.root,Lt.className,a),children:[L,k(r1.Provider,{value:null,children:k(ln,b({ownerState:yn,"aria-invalid":Ge.error,"aria-describedby":i,autoComplete:s,autoFocus:o,defaultValue:c,disabled:Ge.disabled,id:m,onAnimationStart:xt,name:x,placeholder:B,readOnly:Q,required:Ge.required,rows:P,value:K,onKeyDown:M,onKeyUp:V,type:R},Ne,!hf(ln)&&{as:an,ownerState:b({},yn,Ne.ownerState)},{ref:je,className:ae(Kn.input,Ne.className),onBlur:gt,onChange:Ue,onFocus:sn}))}),f,U?U(b({},Ge,{startAdornment:L})):null]}))]})}),s1=pQ;function mQ(t){return Re("MuiInput",t)}const gQ=b({},Na,Te("MuiInput",["root","underline","input"])),bd=gQ,vQ=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],yQ=t=>{const{classes:e,disableUnderline:n}=t,i=Me({root:["root",!n&&"underline"],input:["input"]},mQ,e);return b({},e,i)},_Q=Y(Yp,{shouldForwardProp:t=>jr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Gp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),b({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${bd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${bd.error}:after`]:{borderBottomColor:(t.vars||t).palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${bd.disabled}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${bd.disabled}:before`]:{borderBottomStyle:"dotted"}})}),wQ=Y(Xp,{name:"MuiInput",slot:"Input",overridesResolver:Qp})({}),IO=w.exports.forwardRef(function(e,n){const r=Pe({props:e,name:"MuiInput"}),{disableUnderline:i,components:s={},componentsProps:o,fullWidth:a=!1,inputComponent:l="input",multiline:u=!1,type:c="text"}=r,d=X(r,vQ),h=yQ(r),p={root:{ownerState:{disableUnderline:i}}},m=o?Nn(o,p):p;return k(s1,b({components:b({Root:_Q,Input:wQ},s),componentsProps:m,fullWidth:a,inputComponent:l,multiline:u,ref:n,type:c},d,{classes:h}))});IO.muiName="Input";const kO=IO;function EQ(t){return Re("MuiFilledInput",t)}const bQ=b({},Na,Te("MuiFilledInput",["root","underline","input"])),Co=bQ,CQ=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],SQ=t=>{const{classes:e,disableUnderline:n}=t,i=Me({root:["root",!n&&"underline"],input:["input"]},EQ,e);return b({},e,i)},xQ=Y(Yp,{shouldForwardProp:t=>jr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Gp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return b({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${Co.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${Co.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Co.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Co.error}:after`]:{borderBottomColor:(t.vars||t).palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Co.disabled}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Co.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&b({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),TQ=Y(Xp,{name:"MuiFilledInput",slot:"Input",overridesResolver:Qp})(({theme:t,ownerState:e})=>b({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9})),RO=w.exports.forwardRef(function(e,n){const r=Pe({props:e,name:"MuiFilledInput"}),{components:i={},componentsProps:s,fullWidth:o=!1,inputComponent:a="input",multiline:l=!1,type:u="text"}=r,c=X(r,CQ),d=b({},r,{fullWidth:o,inputComponent:a,multiline:l,type:u}),h=SQ(r),f={root:{ownerState:d},input:{ownerState:d}},p=s?Nn(s,f):f;return k(s1,b({components:b({Root:xQ,Input:TQ},i),componentsProps:p,fullWidth:o,inputComponent:a,multiline:l,ref:n,type:u},c,{classes:h}))});RO.muiName="Input";const PO=RO;var AS;const IQ=["children","classes","className","label","notched"],kQ=Y("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),RQ=Y("legend")(({ownerState:t,theme:e})=>b({float:"unset",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&b({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function PQ(t){const{className:e,label:n,notched:r}=t,i=X(t,IQ),s=n!=null&&n!=="",o=b({},t,{notched:r,withLabel:s});return k(kQ,b({"aria-hidden":!0,className:e,ownerState:o},i,{children:k(RQ,{ownerState:o,children:s?k("span",{children:n}):AS||(AS=k("span",{className:"notranslate",children:"\u200B"}))})}))}function NQ(t){return Re("MuiOutlinedInput",t)}const AQ=b({},Na,Te("MuiOutlinedInput",["root","notchedOutline","input"])),wi=AQ,OQ=["components","fullWidth","inputComponent","label","multiline","notched","type"],MQ=t=>{const{classes:e}=t,r=Me({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},NQ,e);return b({},e,r)},$Q=Y(Yp,{shouldForwardProp:t=>jr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Gp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return b({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${wi.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${wi.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${wi.focused} .${wi.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${wi.error} .${wi.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${wi.disabled} .${wi.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&b({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),DQ=Y(PQ,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),LQ=Y(Xp,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Qp})(({theme:t,ownerState:e})=>b({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),NO=w.exports.forwardRef(function(e,n){var r;const i=Pe({props:e,name:"MuiOutlinedInput"}),{components:s={},fullWidth:o=!1,inputComponent:a="input",label:l,multiline:u=!1,notched:c,type:d="text"}=i,h=X(i,OQ),f=MQ(i),p=Xa(),m=Ya({props:i,muiFormControl:p,states:["required"]}),E=b({},i,{color:m.color||"primary",disabled:m.disabled,error:m.error,focused:m.focused,formControl:p,fullWidth:o,hiddenLabel:m.hiddenLabel,multiline:u,size:m.size,type:d});return k(s1,b({components:b({Root:$Q,Input:LQ},s),renderSuffix:g=>k(DQ,{ownerState:E,className:f.notchedOutline,label:l!=null&&l!==""&&m.required?r||(r=Be(w.exports.Fragment,{children:[l,"\xA0","*"]})):l,notched:typeof c<"u"?c:Boolean(g.startAdornment||g.filled||g.focused)}),fullWidth:o,inputComponent:a,multiline:u,ref:n,type:d},h,{classes:b({},f,{notchedOutline:null})}))});NO.muiName="Input";const AO=NO;function FQ(t){return Re("MuiFormLabel",t)}const UQ=Te("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),iu=UQ,BQ=["children","className","color","component","disabled","error","filled","focused","required"],zQ=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${ne(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return Me(l,FQ,e)},VQ=Y("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>b({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>b({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${iu.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${iu.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${iu.error}`]:{color:(t.vars||t).palette.error.main}})),jQ=Y("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${iu.error}`]:{color:(t.vars||t).palette.error.main}})),WQ=w.exports.forwardRef(function(e,n){const r=Pe({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=X(r,BQ),l=Xa(),u=Ya({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=b({},r,{color:u.color||"primary",component:o,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=zQ(c);return Be(VQ,b({as:o,ownerState:c,className:ae(d.root,s),ref:n},a,{children:[i,u.required&&Be(jQ,{ownerState:c,"aria-hidden":!0,className:d.asterisk,children:["\u2009","*"]})]}))}),HQ=WQ;function qQ(t){return Re("MuiInputLabel",t)}Te("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const KQ=["disableAnimation","margin","shrink","variant"],GQ=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,u=Me({root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r==="small"&&"sizeSmall",o],asterisk:[a&&"asterisk"]},qQ,e);return b({},e,u)},QQ=Y(HQ,{shouldForwardProp:t=>jr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${iu.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,e[n.variant]]}})(({theme:t,ownerState:e})=>b({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&b({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&b({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&b({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))),YQ=w.exports.forwardRef(function(e,n){const r=Pe({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s}=r,o=X(r,KQ),a=Xa();let l=s;typeof l>"u"&&a&&(l=a.filled||a.focused||a.adornedStart);const u=Ya({props:r,muiFormControl:a,states:["size","variant","required"]}),c=b({},r,{disableAnimation:i,formControl:a,shrink:l,size:u.size,variant:u.variant,required:u.required}),d=GQ(c);return k(QQ,b({"data-shrink":l,ownerState:c,ref:n},o,{classes:d}))}),XQ=YQ;function JQ(t){return Re("MuiFormControl",t)}Te("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const ZQ=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],eY=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${ne(n)}`,r&&"fullWidth"]};return Me(i,JQ,e)},tY=Y("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>b({},e.root,e[`margin${ne(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>b({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),nY=w.exports.forwardRef(function(e,n){const r=Pe({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:p=!1,size:m="medium",variant:E="outlined"}=r,g=X(r,ZQ),v=b({},r,{color:o,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:f,required:p,size:m,variant:E}),y=eY(v),[_,C]=w.exports.useState(()=>{let U=!1;return i&&w.exports.Children.forEach(i,P=>{if(!Xd(P,["Input","Select"]))return;const L=Xd(P,["Select"])?P.props.input:P;L&&lQ(L.props)&&(U=!0)}),U}),[x,S]=w.exports.useState(()=>{let U=!1;return i&&w.exports.Children.forEach(i,P=>{!Xd(P,["Input","Select"])||i1(P.props,!0)&&(U=!0)}),U}),[T,N]=w.exports.useState(!1);l&&T&&N(!1);const I=c!==void 0&&!l?c:T;let M;const V=w.exports.useCallback(()=>{S(!0)},[]),B=w.exports.useCallback(()=>{S(!1)},[]),Q={adornedStart:_,setAdornedStart:C,color:o,disabled:l,error:u,filled:x,focused:I,fullWidth:d,hiddenLabel:h,size:m,onBlur:()=>{N(!1)},onEmpty:B,onFilled:V,onFocus:()=>{N(!0)},registerEffect:M,required:p,variant:E};return k(r1.Provider,{value:Q,children:k(tY,b({as:a,ownerState:v,className:ae(y.root,s),ref:n},g,{children:i}))})}),rY=nY;function iY(t){return Re("MuiFormHelperText",t)}const sY=Te("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),OS=sY;var MS;const oY=["children","className","component","disabled","error","filled","focused","margin","required","variant"],aY=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,u={root:["root",i&&"disabled",s&&"error",r&&`size${ne(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return Me(u,iY,e)},lY=Y("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${ne(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>b({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${OS.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${OS.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),uY=w.exports.forwardRef(function(e,n){const r=Pe({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=X(r,oY),l=Xa(),u=Ya({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=b({},r,{component:o,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=aY(c);return k(lY,b({as:o,ownerState:c,className:ae(d.root,s),ref:n},a,{children:i===" "?MS||(MS=k("span",{className:"notranslate",children:"\u200B"})):i}))}),cY=uY,dY=w.exports.createContext({}),wy=dY;function hY(t){return Re("MuiList",t)}Te("MuiList",["root","padding","dense","subheader"]);const fY=["children","className","component","dense","disablePadding","subheader"],pY=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Me({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},hY,e)},mY=Y("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>b({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),gY=w.exports.forwardRef(function(e,n){const r=Pe({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,c=X(r,fY),d=w.exports.useMemo(()=>({dense:a}),[a]),h=b({},r,{component:o,dense:a,disablePadding:l}),f=pY(h);return k(wy.Provider,{value:d,children:Be(mY,b({as:o,className:ae(f.root,s),ref:n,ownerState:h},c,{children:[u,i]}))})}),vY=gY,yY=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function fg(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function $S(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function OO(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function wl(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!OO(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const _Y=w.exports.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu"}=e,h=X(e,yY),f=w.exports.useRef(null),p=w.exports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ur(()=>{i&&f.current.focus()},[i]),w.exports.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(y,_)=>{const C=!f.current.style.width;if(y.clientHeight<f.current.clientHeight&&C){const x=`${xA(pn(y))}px`;f.current.style[_.direction==="rtl"?"paddingLeft":"paddingRight"]=x,f.current.style.width=`calc(100% + ${x})`}return f.current}}),[]);const m=y=>{const _=f.current,C=y.key,x=pn(_).activeElement;if(C==="ArrowDown")y.preventDefault(),wl(_,x,u,l,fg);else if(C==="ArrowUp")y.preventDefault(),wl(_,x,u,l,$S);else if(C==="Home")y.preventDefault(),wl(_,null,u,l,fg);else if(C==="End")y.preventDefault(),wl(_,null,u,l,$S);else if(C.length===1){const S=p.current,T=C.toLowerCase(),N=performance.now();S.keys.length>0&&(N-S.lastTime>500?(S.keys=[],S.repeating=!0,S.previousKeyMatched=!0):S.repeating&&T!==S.keys[0]&&(S.repeating=!1)),S.lastTime=N,S.keys.push(T);const I=x&&!S.repeating&&OO(x,S);S.previousKeyMatched&&(I||wl(_,x,!1,l,fg,S))?y.preventDefault():S.previousKeyMatched=!1}c&&c(y)},E=ze(f,n);let g=-1;w.exports.Children.forEach(o,(y,_)=>{!w.exports.isValidElement(y)||y.props.disabled||(d==="selectedMenu"&&y.props.selected||g===-1)&&(g=_)});const v=w.exports.Children.map(o,(y,_)=>{if(_===g){const C={};return s&&(C.autoFocus=!0),y.props.tabIndex===void 0&&d==="selectedMenu"&&(C.tabIndex=0),w.exports.cloneElement(y,C)}return y});return k(vY,b({role:"menu",ref:E,className:a,onKeyDown:m,tabIndex:i?0:-1},h,{children:v}))}),wY=_Y,MO=t=>t.scrollTop;function gf(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}const EY=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Ey(t){return`scale(${t}, ${t**2})`}const bY={entering:{opacity:1,transform:Ey(1)},entered:{opacity:1,transform:"none"}},pg=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),$O=w.exports.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:f,style:p,timeout:m="auto",TransitionComponent:E=xO}=e,g=X(e,EY),v=w.exports.useRef(),y=w.exports.useRef(),_=Kp(),C=w.exports.useRef(null),x=ze(s.ref,n),S=ze(C,x),T=P=>L=>{if(P){const R=C.current;L===void 0?P(R):P(R,L)}},N=T(c),I=T((P,L)=>{MO(P);const{duration:R,delay:F,easing:z}=gf({style:p,timeout:m,easing:o},{mode:"enter"});let K;m==="auto"?(K=_.transitions.getAutoHeightDuration(P.clientHeight),y.current=K):K=R,P.style.transition=[_.transitions.create("opacity",{duration:K,delay:F}),_.transitions.create("transform",{duration:pg?K:K*.666,delay:F,easing:z})].join(","),l&&l(P,L)}),M=T(u),V=T(f),B=T(P=>{const{duration:L,delay:R,easing:F}=gf({style:p,timeout:m,easing:o},{mode:"exit"});let z;m==="auto"?(z=_.transitions.getAutoHeightDuration(P.clientHeight),y.current=z):z=L,P.style.transition=[_.transitions.create("opacity",{duration:z,delay:R}),_.transitions.create("transform",{duration:pg?z:z*.666,delay:pg?R:R||z*.333,easing:F})].join(","),P.style.opacity=0,P.style.transform=Ey(.75),d&&d(P)}),Q=T(h),U=P=>{m==="auto"&&(v.current=setTimeout(P,y.current||0)),r&&r(C.current,P)};return w.exports.useEffect(()=>()=>{clearTimeout(v.current)},[]),k(E,b({appear:i,in:a,nodeRef:C,onEnter:I,onEntered:M,onEntering:N,onExit:B,onExited:Q,onExiting:V,addEndListener:U,timeout:m==="auto"?null:m},g,{children:(P,L)=>w.exports.cloneElement(s,b({style:b({opacity:0,transform:Ey(.75),visibility:P==="exited"&&!a?"hidden":void 0},bY[P],p,s.props.style),ref:S},L))}))});$O.muiSupportAuto=!0;const by=$O,CY=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],SY={entering:{opacity:1},entered:{opacity:1}},xY=w.exports.forwardRef(function(e,n){const r=Kp(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:m,style:E,timeout:g=i,TransitionComponent:v=xO}=e,y=X(e,CY),_=w.exports.useRef(null),C=ze(a.ref,n),x=ze(_,C),S=U=>P=>{if(U){const L=_.current;P===void 0?U(L):U(L,P)}},T=S(h),N=S((U,P)=>{MO(U);const L=gf({style:E,timeout:g,easing:l},{mode:"enter"});U.style.webkitTransition=r.transitions.create("opacity",L),U.style.transition=r.transitions.create("opacity",L),c&&c(U,P)}),I=S(d),M=S(m),V=S(U=>{const P=gf({style:E,timeout:g,easing:l},{mode:"exit"});U.style.webkitTransition=r.transitions.create("opacity",P),U.style.transition=r.transitions.create("opacity",P),f&&f(U)}),B=S(p);return k(v,b({appear:o,in:u,nodeRef:_,onEnter:N,onEntered:I,onEntering:T,onExit:V,onExited:B,onExiting:M,addEndListener:U=>{s&&s(_.current,U)},timeout:g},y,{children:(U,P)=>w.exports.cloneElement(a,b({style:b({opacity:0,visibility:U==="exited"&&!u?"hidden":void 0},SY[U],E,a.props.style),ref:x},P))}))}),TY=xY;function IY(t){return Re("MuiBackdrop",t)}Te("MuiBackdrop",["root","invisible"]);const kY=["children","component","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],RY=t=>{const{classes:e,invisible:n}=t;return Me({root:["root",n&&"invisible"]},IY,e)},PY=Y("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>b({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),NY=w.exports.forwardRef(function(e,n){var r,i;const s=Pe({props:e,name:"MuiBackdrop"}),{children:o,component:a="div",components:l={},componentsProps:u={},className:c,invisible:d=!1,open:h,transitionDuration:f,TransitionComponent:p=TY}=s,m=X(s,kY),E=b({},s,{component:a,invisible:d}),g=RY(E);return k(p,b({in:h,timeout:f},m,{children:k(PY,{"aria-hidden":!0,as:(r=l.Root)!=null?r:a,className:ae(g.root,c),ownerState:b({},E,(i=u.root)==null?void 0:i.ownerState),classes:g,ref:n,children:o})}))}),AY=NY,OY=["BackdropComponent","BackdropProps","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","theme"],MY=t=>t.classes,$Y=Y("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>b({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),DY=Y(AY,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),LY=w.exports.forwardRef(function(e,n){var r,i;const s=Pe({name:"MuiModal",props:e}),{BackdropComponent:o=DY,BackdropProps:a,closeAfterTransition:l=!1,children:u,component:c,components:d={},componentsProps:h={},disableAutoFocus:f=!1,disableEnforceFocus:p=!1,disableEscapeKeyDown:m=!1,disablePortal:E=!1,disableRestoreFocus:g=!1,disableScrollLock:v=!1,hideBackdrop:y=!1,keepMounted:_=!1,theme:C}=s,x=X(s,OY),[S,T]=w.exports.useState(!0),N={closeAfterTransition:l,disableAutoFocus:f,disableEnforceFocus:p,disableEscapeKeyDown:m,disablePortal:E,disableRestoreFocus:g,disableScrollLock:v,hideBackdrop:y,keepMounted:_},I=b({},s,N,{exited:S}),M=MY(I),V=(r=(i=d.Root)!=null?i:c)!=null?r:$Y;return k(d8,b({components:b({Root:V,Backdrop:o},d),componentsProps:{root:()=>b({},uy(h.root,I),!hf(V)&&{as:c,theme:C}),backdrop:()=>b({},a,uy(h.backdrop,I))},onTransitionEnter:()=>T(!1),onTransitionExited:()=>T(!0),ref:n},x,{classes:M},N,{children:u}))}),FY=LY;function UY(t){return Re("MuiPopover",t)}Te("MuiPopover",["root","paper"]);const BY=["onEntering"],zY=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function DS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function LS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function FS(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function mg(t){return typeof t=="function"?t():t}const VY=t=>{const{classes:e}=t;return Me({root:["root"],paper:["paper"]},UY,e)},jY=Y(FY,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),WY=Y(n1,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),HY=w.exports.forwardRef(function(e,n){const r=Pe({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:u,className:c,container:d,elevation:h=8,marginThreshold:f=16,open:p,PaperProps:m={},transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:g=by,transitionDuration:v="auto",TransitionProps:{onEntering:y}={}}=r,_=X(r.TransitionProps,BY),C=X(r,zY),x=w.exports.useRef(),S=ze(x,m.ref),T=b({},r,{anchorOrigin:o,anchorReference:l,elevation:h,marginThreshold:f,PaperProps:m,transformOrigin:E,TransitionComponent:g,transitionDuration:v,TransitionProps:_}),N=VY(T),I=w.exports.useCallback(()=>{if(l==="anchorPosition")return a;const L=mg(s),F=(L&&L.nodeType===1?L:pn(x.current).body).getBoundingClientRect();return{top:F.top+DS(F,o.vertical),left:F.left+LS(F,o.horizontal)}},[s,o.horizontal,o.vertical,a,l]),M=w.exports.useCallback(L=>({vertical:DS(L,E.vertical),horizontal:LS(L,E.horizontal)}),[E.horizontal,E.vertical]),V=w.exports.useCallback(L=>{const R={width:L.offsetWidth,height:L.offsetHeight},F=M(R);if(l==="none")return{top:null,left:null,transformOrigin:FS(F)};const z=I();let K=z.top-F.vertical,J=z.left-F.horizontal;const ge=K+R.height,ie=J+R.width,ve=Zi(mg(s)),he=ve.innerHeight-f,je=ve.innerWidth-f;if(K<f){const fe=K-f;K-=fe,F.vertical+=fe}else if(ge>he){const fe=ge-he;K-=fe,F.vertical+=fe}if(J<f){const fe=J-f;J-=fe,F.horizontal+=fe}else if(ie>je){const fe=ie-je;J-=fe,F.horizontal+=fe}return{top:`${Math.round(K)}px`,left:`${Math.round(J)}px`,transformOrigin:FS(F)}},[s,l,I,M,f]),B=w.exports.useCallback(()=>{const L=x.current;if(!L)return;const R=V(L);R.top!==null&&(L.style.top=R.top),R.left!==null&&(L.style.left=R.left),L.style.transformOrigin=R.transformOrigin},[V]),Q=(L,R)=>{y&&y(L,R),B()};w.exports.useEffect(()=>{p&&B()}),w.exports.useImperativeHandle(i,()=>p?{updatePosition:()=>{B()}}:null,[p,B]),w.exports.useEffect(()=>{if(!p)return;const L=Cw(()=>{B()}),R=Zi(s);return R.addEventListener("resize",L),()=>{L.clear(),R.removeEventListener("resize",L)}},[s,p,B]);let U=v;v==="auto"&&!g.muiSupportAuto&&(U=void 0);const P=d||(s?pn(mg(s)).body:void 0);return k(jY,b({BackdropProps:{invisible:!0},className:ae(N.root,c),container:P,open:p,ref:n,ownerState:T},C,{children:k(g,b({appear:!0,in:p,onEntering:Q,timeout:U},_,{children:k(WY,b({elevation:h},m,{ref:S,className:ae(N.paper,m.className),children:u}))}))}))}),qY=HY;function KY(t){return Re("MuiMenu",t)}Te("MuiMenu",["root","paper","list"]);const GY=["onEntering"],QY=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],YY={vertical:"top",horizontal:"right"},XY={vertical:"top",horizontal:"left"},JY=t=>{const{classes:e}=t;return Me({root:["root"],paper:["paper"],list:["list"]},KY,e)},ZY=Y(qY,{shouldForwardProp:t=>jr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),eX=Y(n1,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),tX=Y(wY,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),nX=w.exports.forwardRef(function(e,n){const r=Pe({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,disableAutoFocusItem:o=!1,MenuListProps:a={},onClose:l,open:u,PaperProps:c={},PopoverClasses:d,transitionDuration:h="auto",TransitionProps:{onEntering:f}={},variant:p="selectedMenu"}=r,m=X(r.TransitionProps,GY),E=X(r,QY),g=Kp(),v=g.direction==="rtl",y=b({},r,{autoFocus:i,disableAutoFocusItem:o,MenuListProps:a,onEntering:f,PaperProps:c,transitionDuration:h,TransitionProps:m,variant:p}),_=JY(y),C=i&&!o&&u,x=w.exports.useRef(null),S=(I,M)=>{x.current&&x.current.adjustStyleForScrollbar(I,g),f&&f(I,M)},T=I=>{I.key==="Tab"&&(I.preventDefault(),l&&l(I,"tabKeyDown"))};let N=-1;return w.exports.Children.map(s,(I,M)=>{!w.exports.isValidElement(I)||I.props.disabled||(p==="selectedMenu"&&I.props.selected||N===-1)&&(N=M)}),k(ZY,b({classes:d,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:v?"right":"left"},transformOrigin:v?YY:XY,PaperProps:b({component:eX},c,{classes:b({},c.classes,{root:_.paper})}),className:_.root,open:u,ref:n,transitionDuration:h,TransitionProps:b({onEntering:S},m),ownerState:y},E,{children:k(tX,b({onKeyDown:T,actions:x,autoFocus:i&&(N===-1||o),autoFocusItem:C,variant:p},a,{className:ae(_.list,a.className),children:s}))}))}),Cy=nX;function rX(t){return Re("MuiNativeSelect",t)}const iX=Te("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),o1=iX,sX=["className","disabled","IconComponent","inputRef","variant"],oX=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s}=t,o={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon",`icon${ne(n)}`,s&&"iconOpen",r&&"disabled"]};return Me(o,rX,e)},DO=({ownerState:t,theme:e})=>b({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},[`&.${o1.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:e.shape.borderRadius,"&:focus":{borderRadius:e.shape.borderRadius},"&&&":{paddingRight:32}}),aX=Y("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:jr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],{[`&.${o1.multiple}`]:e.multiple}]}})(DO),LO=({ownerState:t,theme:e})=>b({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:e.palette.action.active,[`&.${o1.disabled}`]:{color:e.palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),lX=Y("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ne(n.variant)}`],n.open&&e.iconOpen]}})(LO),uX=w.exports.forwardRef(function(e,n){const{className:r,disabled:i,IconComponent:s,inputRef:o,variant:a="standard"}=e,l=X(e,sX),u=b({},e,{disabled:i,variant:a}),c=oX(u);return Be(w.exports.Fragment,{children:[k(aX,b({ownerState:u,className:ae(c.select,r),disabled:i,ref:o||n},l)),e.multiple?null:k(lX,{as:s,ownerState:u,className:c.icon})]})}),cX=uX;function dX(t){return Re("MuiSelect",t)}const hX=Te("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),Cd=hX;var US;const fX=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],pX=Y("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Cd.select}`]:e.select},{[`&.${Cd.select}`]:e[n.variant]},{[`&.${Cd.multiple}`]:e.multiple}]}})(DO,{[`&.${Cd.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),mX=Y("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ne(n.variant)}`],n.open&&e.iconOpen]}})(LO),gX=Y("input",{shouldForwardProp:t=>p7(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function BS(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function vX(t){return t==null||typeof t=="string"&&!t.trim()}const yX=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s}=t,o={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon",`icon${ne(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Me(o,dX,e)},_X=w.exports.forwardRef(function(e,n){const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:o,children:a,className:l,defaultOpen:u,defaultValue:c,disabled:d,displayEmpty:h,IconComponent:f,inputRef:p,labelId:m,MenuProps:E={},multiple:g,name:v,onBlur:y,onChange:_,onClose:C,onFocus:x,onOpen:S,open:T,readOnly:N,renderValue:I,SelectDisplayProps:M={},tabIndex:V,value:B,variant:Q="standard"}=e,U=X(e,fX),[P,L]=df({controlled:B,default:c,name:"Select"}),[R,F]=df({controlled:T,default:u,name:"Select"}),z=w.exports.useRef(null),K=w.exports.useRef(null),[J,ge]=w.exports.useState(null),{current:ie}=w.exports.useRef(T!=null),[ve,he]=w.exports.useState(),je=ze(n,p),fe=w.exports.useCallback(q=>{K.current=q,q&&ge(q)},[]);w.exports.useImperativeHandle(je,()=>({focus:()=>{K.current.focus()},node:z.current,value:P}),[P]),w.exports.useEffect(()=>{u&&R&&J&&!ie&&(he(o?null:J.clientWidth),K.current.focus())},[J,o]),w.exports.useEffect(()=>{s&&K.current.focus()},[s]),w.exports.useEffect(()=>{if(!m)return;const q=pn(K.current).getElementById(m);if(q){const We=()=>{getSelection().isCollapsed&&K.current.focus()};return q.addEventListener("click",We),()=>{q.removeEventListener("click",We)}}},[m]);const $e=(q,We)=>{q?S&&S(We):C&&C(We),ie||(he(o?null:J.clientWidth),F(q))},Ee=q=>{q.button===0&&(q.preventDefault(),K.current.focus(),$e(!0,q))},Ge=q=>{$e(!1,q)},St=w.exports.Children.toArray(a),Kt=q=>{const We=St.map(rt=>rt.props.value).indexOf(q.target.value);if(We===-1)return;const G=St[We];L(G.props.value),_&&_(q,G)},nt=q=>We=>{let G;if(!!We.currentTarget.hasAttribute("tabindex")){if(g){G=Array.isArray(P)?P.slice():[];const rt=P.indexOf(q.props.value);rt===-1?G.push(q.props.value):G.splice(rt,1)}else G=q.props.value;if(q.props.onClick&&q.props.onClick(We),P!==G&&(L(G),_)){const rt=We.nativeEvent||We,vi=new rt.constructor(rt.type,rt);Object.defineProperty(vi,"target",{writable:!0,value:{value:G,name:v}}),_(vi,q)}g||$e(!1,We)}},sn=q=>{N||[" ","ArrowUp","ArrowDown","Enter"].indexOf(q.key)!==-1&&(q.preventDefault(),$e(!0,q))},gt=J!==null&&R,Ue=q=>{!gt&&y&&(Object.defineProperty(q,"target",{writable:!0,value:{value:P,name:v}}),y(q))};delete U["aria-invalid"];let on,an;const Ne=[];let xt=!1;(i1({value:P})||h)&&(I?on=I(P):xt=!0);const yn=St.map((q,We,G)=>{if(!w.exports.isValidElement(q))return null;let rt;if(g){if(!Array.isArray(P))throw new Error(Ji(2));rt=P.some(Gn=>BS(Gn,q.props.value)),rt&&xt&&Ne.push(q.props.children)}else rt=BS(P,q.props.value),rt&&xt&&(an=q.props.children);if(q.props.value===void 0)return w.exports.cloneElement(q,{"aria-readonly":!0,role:"option"});const vi=()=>{if(P)return rt;const Gn=G.find(Ja=>Ja.props.value!==void 0&&Ja.props.disabled!==!0);return q===Gn?!0:rt};return w.exports.cloneElement(q,{"aria-selected":rt?"true":"false",onClick:nt(q),onKeyUp:Gn=>{Gn.key===" "&&Gn.preventDefault(),q.props.onKeyUp&&q.props.onKeyUp(Gn)},role:"option",selected:G[0].props.value===void 0||G[0].props.disabled===!0?vi():rt,value:void 0,"data-value":q.props.value})});xt&&(g?Ne.length===0?on=null:on=Ne.reduce((q,We,G)=>(q.push(We),G<Ne.length-1&&q.push(", "),q),[]):on=an);let Kn=ve;!o&&ie&&J&&(Kn=J.clientWidth);let Dt;typeof V<"u"?Dt=V:Dt=d?null:0;const Lt=M.id||(v?`mui-component-select-${v}`:void 0),ln=b({},e,{variant:Q,value:P,open:gt}),Ce=yX(ln);return Be(w.exports.Fragment,{children:[k(pX,b({ref:fe,tabIndex:Dt,role:"button","aria-disabled":d?"true":void 0,"aria-expanded":gt?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[m,Lt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:sn,onMouseDown:d||N?null:Ee,onBlur:Ue,onFocus:x},M,{ownerState:ln,className:ae(M.className,Ce.select,l),id:Lt,children:vX(on)?US||(US=k("span",{className:"notranslate",children:"\u200B"})):on})),k(gX,b({value:Array.isArray(P)?P.join(","):P,name:v,ref:z,"aria-hidden":!0,onChange:Kt,tabIndex:-1,disabled:d,className:Ce.nativeInput,autoFocus:s,ownerState:ln},U)),k(mX,{as:f,className:Ce.icon,ownerState:ln}),k(Cy,b({id:`menu-${v||""}`,anchorEl:J,open:gt,onClose:Ge,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},E,{MenuListProps:b({"aria-labelledby":m,role:"listbox",disableListWrap:!0},E.MenuListProps),PaperProps:b({},E.PaperProps,{style:b({minWidth:Kn},E.PaperProps!=null?E.PaperProps.style:null)}),children:yn}))]})}),wX=_X;function EX(t){return Re("MuiSvgIcon",t)}Te("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const bX=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],CX=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${ne(e)}`,`fontSize${ne(n)}`]};return Me(i,EX,r)},SX=Y("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${ne(n.color)}`],e[`fontSize${ne(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,u,c,d,h,f,p,m,E,g,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(s=i.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((l=t.typography)==null||(u=l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem",large:((c=t.typography)==null||(d=c.pxToRem)==null?void 0:d.call(c,35))||"2.1875"}[e.fontSize],color:(h=(f=(t.vars||t).palette)==null||(p=f[e.color])==null?void 0:p.main)!=null?h:{action:(m=(t.vars||t).palette)==null||(E=m.action)==null?void 0:E.active,disabled:(g=(t.vars||t).palette)==null||(v=g.action)==null?void 0:v.disabled,inherit:void 0}[e.color]}}),FO=w.exports.forwardRef(function(e,n){const r=Pe({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,f=X(r,bX),p=b({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h}),m={};c||(m.viewBox=h);const E=CX(p);return Be(SX,b({as:a,className:ae(E.root,s),ownerState:p,focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},m,f,{children:[i,d?k("title",{children:d}):null]}))});FO.muiName="SvgIcon";const zS=FO;function Jp(t,e){const n=(r,i)=>k(zS,b({"data-testid":`${e}Icon`,ref:i},r,{children:t}));return n.muiName=zS.muiName,w.exports.memo(w.exports.forwardRef(n))}const xX=Jp(k("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");var VS,jS;const TX=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],IX=t=>{const{classes:e}=t;return e},a1={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>jr(t)&&t!=="variant",slot:"Root"},kX=Y(kO,a1)(""),RX=Y(AO,a1)(""),PX=Y(PO,a1)(""),UO=w.exports.forwardRef(function(e,n){const r=Pe({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=xX,id:d,input:h,inputProps:f,label:p,labelId:m,MenuProps:E,multiple:g=!1,native:v=!1,onClose:y,onOpen:_,open:C,renderValue:x,SelectDisplayProps:S,variant:T="outlined"}=r,N=X(r,TX),I=v?cX:wX,M=Xa(),B=Ya({props:r,muiFormControl:M,states:["variant"]}).variant||T,Q=h||{standard:VS||(VS=k(kX,{})),outlined:k(RX,{label:p}),filled:jS||(jS=k(PX,{}))}[B],U=b({},r,{variant:B,classes:o}),P=IX(U),L=ze(n,Q.ref);return k(w.exports.Fragment,{children:w.exports.cloneElement(Q,b({inputComponent:I,inputProps:b({children:s,IconComponent:c,variant:B,type:void 0,multiple:g},v?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:m,MenuProps:E,onClose:y,onOpen:_,open:C,renderValue:x,SelectDisplayProps:b({id:d},S)},f,{classes:f?Nn(P,f.classes):P},h?h.props.inputProps:{})},g&&v&&B==="outlined"?{notched:!0}:{},{ref:L,className:ae(Q.props.className,a)},!h&&{variant:B},N))})});UO.muiName="Select";const NX=UO;function AX(t){return Re("MuiTextField",t)}Te("MuiTextField",["root"]);const OX=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],MX={standard:kO,filled:PO,outlined:AO},$X=t=>{const{classes:e}=t;return Me({root:["root"]},AX,e)},DX=Y(rY,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),LX=w.exports.forwardRef(function(e,n){const r=Pe({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:h,fullWidth:f=!1,helperText:p,id:m,InputLabelProps:E,inputProps:g,InputProps:v,inputRef:y,label:_,maxRows:C,minRows:x,multiline:S=!1,name:T,onBlur:N,onChange:I,onFocus:M,placeholder:V,required:B=!1,rows:Q,select:U=!1,SelectProps:P,type:L,value:R,variant:F="outlined"}=r,z=X(r,OX),K=b({},r,{autoFocus:s,color:l,disabled:c,error:d,fullWidth:f,multiline:S,required:B,select:U,variant:F}),J=$X(K),ge={};F==="outlined"&&(E&&typeof E.shrink<"u"&&(ge.notched=E.shrink),ge.label=_),U&&((!P||!P.native)&&(ge.id=void 0),ge["aria-describedby"]=void 0);const ie=Sw(m),ve=p&&ie?`${ie}-helper-text`:void 0,he=_&&ie?`${ie}-label`:void 0,je=MX[F],fe=k(je,b({"aria-describedby":ve,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:f,multiline:S,name:T,rows:Q,maxRows:C,minRows:x,type:L,value:R,id:ie,inputRef:y,onBlur:N,onChange:I,onFocus:M,placeholder:V,inputProps:g},ge,v));return Be(DX,b({className:ae(J.root,a),disabled:c,error:d,fullWidth:f,ref:n,required:B,color:l,variant:F,ownerState:K},z,{children:[_!=null&&_!==""&&k(XQ,b({htmlFor:ie,id:he},E,{children:_})),U?k(NX,b({"aria-describedby":ve,id:ie,labelId:he,value:R,input:fe},P,{children:o})):fe,p&&k(cY,b({id:ve},h,{children:p}))]}))}),FX=LX;function UX(t){return Re("MuiToolbar",t)}Te("MuiToolbar",["root","gutters","regular","dense"]);const BX=["className","component","disableGutters","variant"],zX=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Me({root:["root",!n&&"gutters",r]},UX,e)},VX=Y("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>b({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),jX=w.exports.forwardRef(function(e,n){const r=Pe({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:a="regular"}=r,l=X(r,BX),u=b({},r,{component:s,disableGutters:o,variant:a}),c=zX(u);return k(VX,b({as:s,className:ae(c.root,i),ref:n,ownerState:u},l))}),Sy=jX;function WX({messagesCollection:t}){const[e,n]=w.exports.useState(""),{data:r}=gw(),{uid:i,displayName:s,photoURL:o}=r;return Be(mp,{children:[k(Sy,{}),k("form",{onSubmit:u=>{u.preventDefault();const c=e.trim();c&&(sj(t,{text:c,createdAt:lj(),uid:i,displayName:s,photoURL:o}),n(""))},children:Be(ru,{position:"fixed",sx:{width:"100%",display:"inline",top:"auto",bottom:0,backgroundColor:"#f1f1f1",padding:"10px"},children:[k(FX,{sx:{width:"80%","&:hover":{color:"red",opacity:[.9,.8,.7]}},id:"input-with-sx",label:"Type your message here...",variant:"standard",value:e,onChange:u=>{n(u.target.value)}}),k(t1,{variant:"contained",type:"submit",disabled:!e,sx:{marginLeft:1,width:"10%",padding:1,display:"inline"},children:"Send"})]})})]})}const HX={configure:t=>{console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join(`
`)),Tw.configure(t)}},qX=Object.freeze(Object.defineProperty({__proto__:null,unstable_ClassNameGenerator:HX,capitalize:ne,createChainedFunction:ay,createSvgIcon:Jp,debounce:Cw,deprecatedPropType:hH,isMuiElement:Xd,ownerDocument:pn,ownerWindow:Zi,requirePropFactory:fH,setRef:Qu,unstable_useEnhancedEffect:Ur,unstable_useId:Sw,unsupportedProp:gH,useControlled:df,useEventCallback:Ni,useForkRef:ze,useIsFocusVisible:xw},Symbol.toStringTag,{value:"Module"}));function KX(t){return Re("MuiIconButton",t)}const GX=Te("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),QX=GX,YX=["edge","children","className","color","disabled","disableFocusRipple","size"],XX=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${ne(r)}`,i&&`edge${ne(i)}`,`size${ne(s)}`]};return Me(o,KX,e)},JX=Y(e1,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${ne(n.color)}`],n.edge&&e[`edge${ne(n.edge)}`],e[`size${ne(n.size)}`]]}})(({theme:t,ownerState:e})=>b({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:In(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>b({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&b({color:(t.vars||t).palette[e.color].main},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:In(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${QX.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})),ZX=w.exports.forwardRef(function(e,n){const r=Pe({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=r,d=X(r,YX),h=b({},r,{edge:i,color:a,disabled:l,disableFocusRipple:u,size:c}),f=XX(h);return k(JX,b({className:ae(f.root,o),centerRipple:!0,focusRipple:!u,disabled:l,ref:n,ownerState:h},d,{children:s}))}),gg=ZX;function eJ(t){return Re("MuiTypography",t)}Te("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const tJ=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],nJ=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${ne(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Me(a,eJ,o)},rJ=Y("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${ne(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>b({margin:0},e.variant&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),WS={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},iJ={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},sJ=t=>iJ[t]||t,oJ=w.exports.forwardRef(function(e,n){const r=Pe({props:e,name:"MuiTypography"}),i=sJ(r.color),s=Qw(b({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:d=!1,variant:h="body1",variantMapping:f=WS}=s,p=X(s,tJ),m=b({},s,{align:o,color:i,className:a,component:l,gutterBottom:u,noWrap:c,paragraph:d,variant:h,variantMapping:f}),E=l||(d?"p":f[h]||WS[h])||"span",g=nJ(m);return k(rJ,b({as:E,ref:n,ownerState:m,className:ae(g.root,a)},p))}),Sd=oJ;function aJ(t){return Re("MuiAppBar",t)}Te("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const lJ=["className","color","enableColorOnDark","position"],uJ=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${ne(e)}`,`position${ne(n)}`]};return Me(i,aJ,r)},xd=(t,e)=>`${t==null?void 0:t.replace(")","")}, ${e})`,cJ=Y(n1,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${ne(n.position)}`],e[`color${ne(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return b({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&b({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&b({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&b({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:xd(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:xd(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:xd(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:xd(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),dJ=w.exports.forwardRef(function(e,n){const r=Pe({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=X(r,lJ),u=b({},r,{color:s,position:a,enableColorOnDark:o}),c=uJ(u);return k(cJ,b({square:!0,component:"header",ownerState:u,elevation:4,className:ae(c.root,i,a==="fixed"&&"mui-fixed"),ref:n},l))}),hJ=dJ,fJ=Y(Hq,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),pJ=w.exports.forwardRef(function(e,n){const r=_O(),i=Pe({props:e,name:"MuiPopper"});return k(fJ,b({direction:r==null?void 0:r.direction},i,{ref:n}))}),BO=pJ,mJ=Jp(k("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function gJ(t){return Re("MuiAvatar",t)}Te("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const vJ=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],yJ=t=>{const{classes:e,variant:n,colorDefault:r}=t;return Me({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},gJ,e)},_J=Y("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t,ownerState:e})=>b({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.variant==="square"&&{borderRadius:0},e.colorDefault&&b({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]}))),wJ=Y("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),EJ=Y(mJ,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function bJ({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,s]=w.exports.useState(!1);return w.exports.useEffect(()=>{if(!n&&!r)return;s(!1);let o=!0;const a=new Image;return a.onload=()=>{!o||s("loaded")},a.onerror=()=>{!o||s("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{o=!1}},[t,e,n,r]),i}const CJ=w.exports.forwardRef(function(e,n){const r=Pe({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:o,component:a="div",imgProps:l,sizes:u,src:c,srcSet:d,variant:h="circular"}=r,f=X(r,vJ);let p=null;const m=bJ(b({},l,{src:c,srcSet:d})),E=c||d,g=E&&m!=="error",v=b({},r,{colorDefault:!g,component:a,variant:h}),y=yJ(v);return g?p=k(wJ,b({alt:i,src:c,srcSet:d,sizes:u,ownerState:v,className:y.img},l)):s!=null?p=s:E&&i?p=i[0]:p=k(EJ,{className:y.fallback}),k(_J,b({as:a,ownerState:v,className:ae(y.root,o),ref:n},f,{children:p}))}),zO=CJ;function SJ(t){return Re("MuiCircularProgress",t)}Te("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const xJ=["className","color","disableShrink","size","style","thickness","value","variant"];let Zp=t=>t,HS,qS,KS,GS;const Ei=44,TJ=Bc(HS||(HS=Zp`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),IJ=Bc(qS||(qS=Zp`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),kJ=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${ne(r)}`],svg:["svg"],circle:["circle",`circle${ne(n)}`,i&&"circleDisableShrink"]};return Me(s,SJ,e)},RJ=Y("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${ne(n.color)}`]]}})(({ownerState:t,theme:e})=>b({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&zw(KS||(KS=Zp`
      animation: ${0} 1.4s linear infinite;
    `),TJ)),PJ=Y("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),NJ=Y("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${ne(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>b({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&zw(GS||(GS=Zp`
      animation: ${0} 1.4s ease-in-out infinite;
    `),IJ)),AJ=w.exports.forwardRef(function(e,n){const r=Pe({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:u=3.6,value:c=0,variant:d="indeterminate"}=r,h=X(r,xJ),f=b({},r,{color:s,disableShrink:o,size:a,thickness:u,value:c,variant:d}),p=kJ(f),m={},E={},g={};if(d==="determinate"){const v=2*Math.PI*((Ei-u)/2);m.strokeDasharray=v.toFixed(3),g["aria-valuenow"]=Math.round(c),m.strokeDashoffset=`${((100-c)/100*v).toFixed(3)}px`,E.transform="rotate(-90deg)"}return k(RJ,b({className:ae(p.root,i),style:b({width:a,height:a},E,l),ownerState:f,ref:n,role:"progressbar"},g,h,{children:k(PJ,{className:p.svg,ownerState:f,viewBox:`${Ei/2} ${Ei/2} ${Ei} ${Ei}`,children:k(NJ,{className:p.circle,style:m,ownerState:f,cx:Ei,cy:Ei,r:(Ei-u)/2,fill:"none",strokeWidth:u})})}))}),OJ=AJ,MJ=A9({createStyledComponent:Y("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${ne(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>Pe({props:t,name:"MuiContainer"})}),$J=MJ,DJ=Te("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),QS=DJ,LJ=Te("MuiListItemIcon",["root","alignItemsFlexStart"]),YS=LJ,FJ=Te("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),XS=FJ;function UJ(t){return Re("MuiMenuItem",t)}const BJ=Te("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),El=BJ,zJ=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],VJ=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},jJ=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,l=Me({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},UJ,o);return b({},o,l)},WJ=Y(e1,{shouldForwardProp:t=>jr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:VJ})(({theme:t,ownerState:e})=>b({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${El.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:In(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${El.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:In(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${El.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:In(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:In(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${El.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${El.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${QS.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${QS.inset}`]:{marginLeft:52},[`& .${XS.root}`]:{marginTop:0,marginBottom:0},[`& .${XS.inset}`]:{paddingLeft:36},[`& .${YS.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&b({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${YS.root} svg`]:{fontSize:"1.25rem"}}))),HJ=w.exports.forwardRef(function(e,n){const r=Pe({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:u,role:c="menuitem",tabIndex:d}=r,h=X(r,zJ),f=w.exports.useContext(wy),p={dense:o||f.dense||!1,disableGutters:l},m=w.exports.useRef(null);Ur(()=>{i&&m.current&&m.current.focus()},[i]);const E=b({},r,{dense:p.dense,divider:a,disableGutters:l}),g=jJ(r),v=ze(m,n);let y;return r.disabled||(y=d!==void 0?d:-1),k(wy.Provider,{value:p,children:k(WJ,b({ref:v,role:c,tabIndex:y,component:s,focusVisibleClassName:ae(g.focusVisible,u)},h,{ownerState:E,classes:g}))})}),JS=HJ;function qJ(t){return Re("MuiTooltip",t)}const KJ=Te("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Ai=KJ,GJ=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"];function QJ(t){return Math.round(t*1e5)/1e5}const YJ=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:s}=t,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${ne(s.split("-")[0])}`],arrow:["arrow"]};return Me(o,qJ,e)},XJ=Y(BO,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>b({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${Ai.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Ai.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Ai.arrow}`]:b({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Ai.arrow}`]:b({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),JJ=Y("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${ne(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>b({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:In(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${QJ(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${Ai.popper}[data-popper-placement*="left"] &`]:b({transformOrigin:"right center"},e.isRtl?b({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):b({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${Ai.popper}[data-popper-placement*="right"] &`]:b({transformOrigin:"left center"},e.isRtl?b({marginRight:"14px"},e.touch&&{marginRight:"24px"}):b({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${Ai.popper}[data-popper-placement*="top"] &`]:b({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${Ai.popper}[data-popper-placement*="bottom"] &`]:b({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),ZJ=Y("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:In(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Td=!1,vg=null;function Id(t,e){return n=>{e&&e(n),t(n)}}const eZ=w.exports.forwardRef(function(e,n){var r,i,s,o,a,l;const u=Pe({props:e,name:"MuiTooltip"}),{arrow:c=!1,children:d,components:h={},componentsProps:f={},describeChild:p=!1,disableFocusListener:m=!1,disableHoverListener:E=!1,disableInteractive:g=!1,disableTouchListener:v=!1,enterDelay:y=100,enterNextDelay:_=0,enterTouchDelay:C=700,followCursor:x=!1,id:S,leaveDelay:T=0,leaveTouchDelay:N=1500,onClose:I,onOpen:M,open:V,placement:B="bottom",PopperComponent:Q,PopperProps:U={},title:P,TransitionComponent:L=by,TransitionProps:R}=u,F=X(u,GJ),z=Kp(),K=z.direction==="rtl",[J,ge]=w.exports.useState(),[ie,ve]=w.exports.useState(null),he=w.exports.useRef(!1),je=g||x,fe=w.exports.useRef(),$e=w.exports.useRef(),Ee=w.exports.useRef(),Ge=w.exports.useRef(),[St,Kt]=df({controlled:V,default:!1,name:"Tooltip",state:"open"});let nt=St;const sn=Sw(S),gt=w.exports.useRef(),Ue=w.exports.useCallback(()=>{gt.current!==void 0&&(document.body.style.WebkitUserSelect=gt.current,gt.current=void 0),clearTimeout(Ge.current)},[]);w.exports.useEffect(()=>()=>{clearTimeout(fe.current),clearTimeout($e.current),clearTimeout(Ee.current),Ue()},[Ue]);const on=ye=>{clearTimeout(vg),Td=!0,Kt(!0),M&&!nt&&M(ye)},an=Ni(ye=>{clearTimeout(vg),vg=setTimeout(()=>{Td=!1},800+T),Kt(!1),I&&nt&&I(ye),clearTimeout(fe.current),fe.current=setTimeout(()=>{he.current=!1},z.transitions.duration.shortest)}),Ne=ye=>{he.current&&ye.type!=="touchstart"||(J&&J.removeAttribute("title"),clearTimeout($e.current),clearTimeout(Ee.current),y||Td&&_?$e.current=setTimeout(()=>{on(ye)},Td?_:y):on(ye))},xt=ye=>{clearTimeout($e.current),clearTimeout(Ee.current),Ee.current=setTimeout(()=>{an(ye)},T)},{isFocusVisibleRef:yn,onBlur:Kn,onFocus:Dt,ref:Lt}=xw(),[,ln]=w.exports.useState(!1),Ce=ye=>{Kn(ye),yn.current===!1&&(ln(!1),xt(ye))},q=ye=>{J||ge(ye.currentTarget),Dt(ye),yn.current===!0&&(ln(!0),Ne(ye))},We=ye=>{he.current=!0;const Gt=d.props;Gt.onTouchStart&&Gt.onTouchStart(ye)},G=Ne,rt=xt,vi=ye=>{We(ye),clearTimeout(Ee.current),clearTimeout(fe.current),Ue(),gt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Ge.current=setTimeout(()=>{document.body.style.WebkitUserSelect=gt.current,Ne(ye)},C)},Gn=ye=>{d.props.onTouchEnd&&d.props.onTouchEnd(ye),Ue(),clearTimeout(Ee.current),Ee.current=setTimeout(()=>{an(ye)},N)};w.exports.useEffect(()=>{if(!nt)return;function ye(Gt){(Gt.key==="Escape"||Gt.key==="Esc")&&an(Gt)}return document.addEventListener("keydown",ye),()=>{document.removeEventListener("keydown",ye)}},[an,nt]);const Ja=ze(ge,n),HO=ze(Lt,Ja),qO=ze(d.ref,HO);P===""&&(nt=!1);const Za=w.exports.useRef({x:0,y:0}),tm=w.exports.useRef(),KO=ye=>{const Gt=d.props;Gt.onMouseMove&&Gt.onMouseMove(ye),Za.current={x:ye.clientX,y:ye.clientY},tm.current&&tm.current.update()},el={},nm=typeof P=="string";p?(el.title=!nt&&nm&&!E?P:null,el["aria-describedby"]=nt?sn:null):(el["aria-label"]=nm?P:null,el["aria-labelledby"]=nt&&!nm?sn:null);const dr=b({},el,F,d.props,{className:ae(F.className,d.props.className),onTouchStart:We,ref:qO},x?{onMouseMove:KO}:{}),tl={};v||(dr.onTouchStart=vi,dr.onTouchEnd=Gn),E||(dr.onMouseOver=Id(G,dr.onMouseOver),dr.onMouseLeave=Id(rt,dr.onMouseLeave),je||(tl.onMouseOver=G,tl.onMouseLeave=rt)),m||(dr.onFocus=Id(q,dr.onFocus),dr.onBlur=Id(Ce,dr.onBlur),je||(tl.onFocus=q,tl.onBlur=Ce));const GO=w.exports.useMemo(()=>{var ye;let Gt=[{name:"arrow",enabled:Boolean(ie),options:{element:ie,padding:4}}];return(ye=U.popperOptions)!=null&&ye.modifiers&&(Gt=Gt.concat(U.popperOptions.modifiers)),b({},U.popperOptions,{modifiers:Gt})},[ie,U]),nl=b({},u,{isRtl:K,arrow:c,disableInteractive:je,placement:B,PopperComponentProp:Q,touch:he.current}),rm=YJ(nl),f1=(r=h.Popper)!=null?r:XJ,p1=(i=(s=h.Transition)!=null?s:L)!=null?i:by,m1=(o=h.Tooltip)!=null?o:JJ,g1=(a=h.Arrow)!=null?a:ZJ,QO=Pl(f1,b({},U,f.popper),nl),YO=Pl(p1,b({},R,f.transition),nl),XO=Pl(m1,b({},f.tooltip),nl),JO=Pl(g1,b({},f.arrow),nl);return Be(w.exports.Fragment,{children:[w.exports.cloneElement(d,dr),k(f1,b({as:Q!=null?Q:BO,placement:B,anchorEl:x?{getBoundingClientRect:()=>({top:Za.current.y,left:Za.current.x,right:Za.current.x,bottom:Za.current.y,width:0,height:0})}:J,popperRef:tm,open:J?nt:!1,id:sn,transition:!0},tl,QO,{className:ae(rm.popper,U==null?void 0:U.className,(l=f.popper)==null?void 0:l.className),popperOptions:GO,children:({TransitionProps:ye})=>{var Gt,v1;return k(p1,b({timeout:z.transitions.duration.shorter},ye,YO,{children:Be(m1,b({},XO,{className:ae(rm.tooltip,(Gt=f.tooltip)==null?void 0:Gt.className),children:[P,c?k(g1,b({},JO,{className:ae(rm.arrow,(v1=f.arrow)==null?void 0:v1.className),ref:ve})):null]}))}))}}))]})}),tZ=eZ,nZ=["component","direction","spacing","divider","children"];function rZ(t,e){const n=w.exports.Children.toArray(t).filter(Boolean);return n.reduce((r,i,s)=>(r.push(i),s<n.length-1&&r.push(w.exports.cloneElement(e,{key:`separator-${s}`})),r),[])}const iZ=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],sZ=({ownerState:t,theme:e})=>{let n=b({display:"flex",flexDirection:"column"},zr({theme:e},dg({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=Ww(e),i=Object.keys(e.breakpoints.values).reduce((l,u)=>((typeof t.spacing=="object"&&t.spacing[u]!=null||typeof t.direction=="object"&&t.direction[u]!=null)&&(l[u]=!0),l),{}),s=dg({values:t.direction,base:i}),o=dg({values:t.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((l,u,c)=>{if(!s[l]){const h=u>0?s[c[u-1]]:"column";s[l]=h}}),n=Nn(n,zr({theme:e},o,(l,u)=>({"& > :not(style) + :not(style)":{margin:0,[`margin${iZ(u?s[u]:t.direction)}`]:Qa(r,l)}})))}return n=yK(e.breakpoints,n),n},oZ=Y("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>[e.root]})(sZ),aZ=w.exports.forwardRef(function(e,n){const r=Pe({props:e,name:"MuiStack"}),i=Qw(r),{component:s="div",direction:o="column",spacing:a=0,divider:l,children:u}=i,c=X(i,nZ);return k(oZ,b({as:s,ownerState:{direction:o,spacing:a},ref:n},c,{children:l?rZ(u,l):u}))}),lZ=aZ,uZ=new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!1});function cZ(t){let e=0,n;for(n=0;n<t.length;n+=1)e=t.charCodeAt(n)+((e<<5)-e);let r="#";for(n=0;n<3;n+=1)r+=`00${(e>>n*8&255).toString(16)}`.slice(-2);return r}function dZ(t){return{sx:{bgcolor:cZ(t)},children:`${t.split(" ")[0][0]}${t.split(" ")[1][0]}`}}function hZ({createdAt:t,text:e,displayName:n,id:r,uid:i}){const s=bA(),{data:o}=gw();return k("div",{children:Be(lZ,{spacing:2,direction:"row",children:[Be(ru,{sx:{width:"80%",padding:1,backgroundColor:"red",marginBottom:"5px",paddingTop:2,"&:hover":{backgroundColor:"primary.main",opacity:[.9,.8,.7]},wordWrap:"break-word"},children:["[",t!=null&&t.seconds?k("span",{children:uZ.format(new Date(t.seconds*1e3))}):null,"]"," ",n?k(zO,{...dZ(n+" ."),sx:{display:"inline",marginRight:1}}):null,k("strong",{children:n||null})," ",e]}),i===o.uid&&k(t1,{sx:{height:40},variant:"outlined",onClick:async()=>{const a=hN(s,"messages",r);await ij(a)},children:"Delete message"})]})})}function fZ({messages:t}){return k(mp,{children:t==null?void 0:t.map(e=>k(hZ,{...e},e.id))})}function pZ(){const t=bA(),e=M5(t,"messages"),n=Y5(e,J5("createdAt"),ej(100)),{status:r,data:i}=nH(n,{idField:"id"});return Be("div",{children:[r==="loading"?k(OJ,{color:"success"}):k(fZ,{messages:i}),k(WX,{messagesCollection:e})]})}const mZ=async t=>{b2(t),await K2(t,new qr)},gZ=()=>{const t=globalThis._reactFirePreloadedObservables;Array.from(t.keys()).forEach(e=>e.includes("firestore")&&t.delete(e))},vZ=async t=>{await C2(t),gZ()};function yZ(){const{data:t}=yA(),e=_w();return t.signedIn?k("span",{onClick:()=>vZ(e),children:"Sign out"}):k("span",{onClick:()=>mZ(e),children:"Sign in with Google"})}var l1={},em={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(em);var yg={};const _Z=tx(qX);var ZS;function u1(){return ZS||(ZS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=_Z}(yg)),yg}const c1=tx(XW);var wZ=em.exports;Object.defineProperty(l1,"__esModule",{value:!0});var VO=l1.default=void 0,EZ=wZ(u1()),bZ=c1,CZ=(0,EZ.default)((0,bZ.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");VO=l1.default=CZ;var d1={},SZ=em.exports;Object.defineProperty(d1,"__esModule",{value:!0});var jO=d1.default=void 0,xZ=SZ(u1()),TZ=c1,IZ=(0,xZ.default)((0,TZ.jsx)("path",{d:"M5 16c0 3.87 3.13 7 7 7s7-3.13 7-7v-4H5v4zM16.12 4.37l2.1-2.1-.82-.83-2.3 2.31C14.16 3.28 13.12 3 12 3s-2.16.28-3.09.75L6.6 1.44l-.82.83 2.1 2.1C6.14 5.64 5 7.68 5 10v1h14v-1c0-2.32-1.14-4.36-2.88-5.63zM9 9c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm6 0c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}),"Adb");jO=d1.default=IZ;const kZ=Jp(k("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircle");var h1={},RZ=em.exports;Object.defineProperty(h1,"__esModule",{value:!0});var WO=h1.default=void 0,PZ=RZ(u1()),NZ=c1,AZ=(0,PZ.default)((0,NZ.jsx)("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"}),"QuestionAnswer");WO=h1.default=AZ;function OZ(){const{status:t,data:e}=yA(),n=[],r=[k(yZ,{})],[i,s]=w.exports.useState(null),[o,a]=w.exports.useState(null),l=f=>{s(f.currentTarget)},u=f=>{a(f.currentTarget)},c=()=>{s(null)},d=()=>{a(null)},{data:h}=gw();return t==="loading"?k("span",{children:"loading..."}):Be(mp,{children:[k(hJ,{position:"fixed",children:k($J,{maxWidth:"xl",children:Be(Sy,{disableGutters:!0,children:[k(WO,{sx:{display:{xs:"none",md:"flex"},mr:1}}),k(Sd,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"Super Chat"}),Be(ru,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[k(gg,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:l,color:"inherit",children:k(VO,{})}),k(Cy,{id:"menu-appbar",anchorEl:i,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(i),onClose:c,sx:{display:{xs:"block",md:"none"}},children:n.map(f=>k(JS,{onClick:c,children:k(Sd,{textAlign:"center",children:f})},f))})]}),k(jO,{sx:{display:{xs:"flex",md:"none"},mr:1}}),k(Sd,{variant:"h5",noWrap:!0,component:"a",href:"",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"LOGO"}),k(ru,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:n.map(f=>k(t1,{onClick:c,sx:{my:2,color:"white",display:"block"},children:f},f))}),Be(ru,{sx:{flexGrow:0},children:[k(tZ,{title:"Open settings",children:h?k(gg,{onClick:u,sx:{p:0},children:k(zO,{alt:"Remy Sharp",src:h.photoURL})}):k(gg,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:u,color:"inherit",children:k(kZ,{})})}),k(Cy,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(o),onClose:d,children:r.map(f=>k(JS,{onClick:d,children:k(Sd,{textAlign:"center",children:f})},f))})]})]})})}),k(Sy,{}),e.signedIn&&k(pZ,{})]})}const MZ={apiKey:"AIzaSyCxXnUidB20eJPotUbQjUUQmVDk_LFIzQk",authDomain:"example-44ced.firebaseapp.com",projectId:"example-44ced",storageBucket:"example-44ced.appspot.com",messagingSenderId:"340859330515",appId:"1:340859330515:web:98a9e55130e5fbcaced926"};function $Z({children:t}){const e=vA(),n=MF(e),r=V4(e);return k(oH,{sdk:L5(e),children:k(iH,{sdk:n,children:k(sH,{sdk:r,children:t})})})}wg.createRoot(document.getElementById("root")).render(k(ks.StrictMode,{children:k(V6,{firebaseConfig:MZ,children:k($Z,{children:k(OZ,{})})})}));
